
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Understanding-Codecs-And-Containers / A Look at Open Video</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for A Look at Open Video" href="/feeds/rss/book/a-look-at-open-video/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for A Look at Open Video" href="/feeds/atom/book/a-look-at-open-video/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Understanding Codecs and Containers" href="/feeds/rss/chapter/a-look-at-open-video/a-look-at-open-video/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Understanding Codecs and Containers" href="/feeds/atom/chapter/a-look-at-open-video/a-look-at-open-video/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/a-look-at-open-video/_draft/_v/1.0/understanding-codecs-and-containers/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>A Look at Open Video</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>Part One</b></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/a-look-at-open-video/">A Look at Open Video</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/what-is-open-video/">What is Open Video?</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/understanding-video-files/">Understanding Video Files</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/creating-open-subtitles/">Creating Open Subtitles</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/understanding-codecs-and-containers/">Understanding Codecs and Containers</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/tools-for-creating-open-video-files/">Tools for Creating Open Video Files</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/encoding-explained/">Encoding Explained</a></li>
    
   
    
      <li><b>Part Two</b></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/a-look-at-open-video-part-two/">A Look at Open Video - Part Two </a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/taking-video-to-the-web/">Taking Video to the Web</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/video-and-html5-markup/">Video and HTML5 Markup</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/collecting-and-moving-video-metadata/">Collecting and Moving Video Metadata</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/using-ffmpeg-and-avconfv/">Using ffmpeg and avconfv</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/what-next-for-open-video/">What Next for Open Video</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/course-process-credits/">Course Process &amp; Credits</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <html><body><h1>Understanding Codecs and Containers
</h1>
<p>We think the following overview of nuts and bolts of video files is very well explained and it really drills down into the details. However if the level of detail is too much for you, skip ahead to the next task, and come back to this later. The text is adapted from <a href="http://www.amazon.com/HTML5-Up-Running-Mark-Pilgrim/dp/0596806027">Mark Pilgrim's work</a> released under a by-sa-3.0 licence and is online here - <a href="http://diveintohtml5.info/video.html">http://diveintohtml5.info/video.html</a>
</p>
<p><strong>By the end of this task you should be able to:</strong>
  <br></p>
<ul><li>Know more about the components of video files and difference between a container and codec
  <br></li>
  <li>Understand some issues of openness in regards to video codecs </li>
  <li>Have an overview of what formats work well on the web
  <br></li>
</ul><p><strong>Tools you will need for this task: </strong>
  <br></p>
<ul><li>A pen and paper to make notes</li>
  <li>Curiosity and a reasonable attention span </li>
</ul><p><img src="static/A_possum_and_a_movie_camera_1943_600_1.png"><br></p>
<h2>Open Video and HTML5
  <br></h2>
<p>Anyone who has visited YouTube.com in the past four years knows that you can embed video in a web page. But prior to <abbr>the adoption of HTML5</abbr>, there was no standards-based way to do this. Virtually all the video you’ve ever watched “on the web” has been funneled through a third-party plugin — maybe QuickTime, maybe RealPlayer, maybe Flash. (YouTube uses Flash.) These plugins integrate with your browser well enough that you may not even be aware that you’re using them. That is, until you try to watch a video on a platform that doesn’t support that plugin.
</p>
<p><abbr>HTML5</abbr> defines a standard way to embed video in a web page, using a <code>&lt;video&gt;</code> element. Support for the <code>&lt;video&gt;</code> element is still evolving, which is a polite way of saying it doesn’t work yet. At least, it doesn’t work everywhere. But don’t despair! There are alternatives and fallbacks and options galore.
</p>
<p>But support for the <code>&lt;video&gt;</code> element itself is really only a small part of the story. Before we can talk about <abbr>HTML5</abbr> video, you first need to understand a little about video itself.
  <br></p>
<h2> Video Containers
</h2>
<p> You may think of video files as “AVI files” or “MP4 files.” In reality, “AVI” and “MP4” are just container formats. Just like a ZIP file can contain any sort of file within it, video container formats only define <em>how</em> to store things within them, not <em>what</em> kinds of data are stored. (It’s a little more complicated than that, because not all video streams are compatible with all container formats, but never mind that for now.)
</p>
<p> A video file usually contains multiple <em>tracks</em> — a video track (without audio), one or more audio tracks (without video) and some containers even contains one or more subtitletracks or picture tracks. Tracks are usually interrelated. An audio track contains markers within it to help synchronize the audio with the video. Individual tracks can have metadata, such as the aspect ratio of a video track, or the language of an audio track. Containers can also have metadata, such as the title of the video itself, cover art for the video, episode numbers (for television shows), and so on.
</p>
<p> There are <em>lots</em> of video container formats. Some of the most popular include
</p>
<ul><li> <a href="http://en.wikipedia.org/wiki/MPEG-4_Part_14">MPEG 4</a>, usually with an <code>.mp4</code> or <code>.m4v</code> extension. The MPEG 4 container is <a href="http://www.chiariglione.org/mpeg/technologies/mp04-ff/index.htm">based on Apple’s older QuickTime container</a> (<code>.mov</code>). <a href="http://www.apple.com/trailers/">Movie trailers on Apple’s website</a> still use the older QuickTime container, but movies that you rent from iTunes are delivered in an MPEG 4 container.</li>
  <li> <a href="http://en.wikipedia.org/wiki/Flash_Video">Flash Video</a>, usually with an <code>.flv</code> extension. Flash Video is, unsurprisingly, used by Adobe Flash. Prior to Flash 9.0.60.184 (a.k.a. Flash Player 9 Update 3), this was the only container format that Flash supported. More recent versions of Flash also support the MPEG 4 container.</li>
  <li> <a href="http://en.wikipedia.org/wiki/Ogg">Ogg</a>, usually with an <code>.ogv</code> extension. Ogg is an open standard, open source–friendly, and unencumbered by any known patents. Firefox 3.5, Chrome 4, and Opera 10.5 support — natively, without platform-specific plugins — the Ogg container format, Ogg video (called “Theora”), and Ogg audio (called “Vorbis”). On the desktop, Ogg is supported out-of-the-box by all major Linux distributions, and you can use it on Mac and Windows by installing the <a href="http://www.xiph.org/quicktime/">QuickTime components</a> or <a href="http://www.xiph.org/dshow/">DirectShow filters</a>, respectively. It is also playable with the excellent <a href="http://www.videolan.org/vlc/">VLC</a> on all platforms.</li>
  <li> <a href="http://www.webmproject.org/">WebM</a> is a new container format. It is technically similar to another format, called <a href="http://en.wikipedia.org/wiki/Matroska">Matroska</a>. WebM was announced in May, 2010. It is designed to be used exclusively with the VP8 video codec and Vorbis audio codec. (More on these in a minute.) It is supported natively, without platform-specific plugins, in the latest versions of Chromium, Google Chrome, Mozilla Firefox, and Opera. Adobe has also announced that a future version of Flash will support WebM video.</li>
  <li> <a href="http://en.wikipedia.org/wiki/AVI">Audio Video Interleave</a>, usually with an <code>.avi</code> extension. The AVI container format was invented by Microsoft in a simpler time, when the fact that computers could play video at all was considered pretty amazing. It does not officially support features of more recent container formats like embedded metadata. It does not even officially support most of the modern video and audio codecs in use today. Over time, companies have tried to extend it in generally incompatible ways to support this or that, and it is still the default container format for popular encoders such as <a href="http://www.mplayerhq.hu/DOCS/HTML/en/encoding-guide.html">MEncoder</a>.</li>
</ul><h2> Video Codecs
</h2>
<p> When you talk about “watching a video,” you’re probably talking about a combination of one video stream and one audio stream. But you don’t have two different files; you just have “the video.” Maybe it’s an AVI file, or an MP4 file. These are <a href="http://diveintohtml5.info/video.html#video-containers">just container formats</a>, like a ZIP file that contains multiple kinds of files within it. The container format defines how to store the video and audio streams in a single file.
</p>
<p> When you “watch a video,” your video player is doing at least three things at once:
</p>
<ol><li> Interpreting the container format to find out which video and audio tracks are available, and how they are stored within the file so that it can find the data it needs to decode next</li>
  <li> Decoding the video stream and displaying a series of images on the screen</li>
  <li> Decoding the audio stream and sending the sound to your speakers</li>
</ol><p> A <em>video codec</em> is an algorithm by which a video stream is encoded, i.e. it specifies how to do #2 above. (The word “codec” is a <a href="http://en.wikipedia.org/wiki/Portmanteau">portmanteau</a>, a combination of the words “coder” and “decoder.”) Your video player <em>decodes</em> the video stream according to the <em>video codec</em>, then displays a series of images, or “frames,” on the screen. Most modern video codecs use all sorts of tricks to minimize the amount of information required to display one frame after the next. For example, instead of storing each individual frame (like a screenshot), they will only store the differences between frames. Most videos don’t actually change all that much from one frame to the next, so this allows for high compression rates, which results in smaller file sizes.
</p>
<p> There are <em>lossy</em> and <em>lossless</em> video codecs. Lossless video is much too big to be useful on the web, so I’ll concentrate on lossy codecs. A <em>lossy video codec</em> means that information is being irretrievably lost during encoding. Like copying an audio cassette tape, you’re losing information about the source video, and degrading the quality, every time you encode. Instead of the “hiss” of an audio cassette, a re-re-re-encoded video may look blocky, especially during scenes with a lot of motion. (Actually, this can happen even if you encode straight from the original source, if you choose a poor video codec or pass it the wrong set of parameters.) On the bright side, lossy video codecs can offer amazing compression rates by smoothing over blockiness during playback, to make the loss less noticeable to the human eye.
</p>
<p> There are <a href="http://samples.mplayerhq.hu/V-codecs/"><em>tons</em> of video codecs</a>. The three most relevant codecs are <a href="http://diveintohtml5.info/video.html#h264">H.264</a>, <a href="http://diveintohtml5.info/video.html#theora">Theora</a>, and <a href="http://diveintohtml5.info/video.html#vp8">VP8</a>.
</p>
<h3> H.264
</h3>
<p> <a href="http://en.wikipedia.org/wiki/H.264">H.264</a> is also known as “MPEG-4 part 10,” a.k.a. “MPEG-4 AVC,” a.k.a. “MPEG-4 Advanced Video Coding.” H.264 was also developed by <a href="http://en.wikipedia.org/wiki/Moving_Picture_Experts_Group">the MPEG group</a> and standardized in 2003. It aims to provide a single codec for low-bandwidth, low-CPU devices (cell phones); high-bandwidth, high-CPU devices (modern desktop computers); and everything in between. To accomplish this, the H.264 standard is split into “<a href="http://en.wikipedia.org/wiki/H.264#Profiles">profiles</a>,” which each define a set of optional features that trade complexity for file size. Higher profiles use more optional features, offer better visual quality at smaller file sizes, take longer to encode, and require more CPU power to decode in real-time.
</p>
<p> To give you a rough idea of the range of profiles, <a href="http://www.apple.com/iphone/specs.html">Apple’s iPhone supports Baseline profile</a>, the <a href="http://www.apple.com/appletv/specs.html">AppleTV set-top box supports Baseline and Main profiles</a>, and <a href="http://www.kaourantin.net/2007/08/what-just-happened-to-video-on-web_20.html">Adobe Flash on a desktop PC supports Baseline, Main, and High profiles</a>. YouTube now uses H.264 to encode <a href="http://blog.wired.com/business/2008/12/youtube-adds-hd.html">high-definition videos</a>, playable through Adobe Flash; YouTube also provides H.264-encoded video to mobile devices, including Apple’s iPhone and phones running Google’s <a href="http://code.google.com/android/">Android mobile operating system</a>. Also, H.264 is one of the video codecs mandated by the Blu-Ray specification; Blu-Ray discs that use it generally use the High profile.
</p>
<p> Most non-PC devices that play H.264 video (including iPhones and standalone Blu-Ray players) actually do the decoding on a dedicated chip, since their main CPUs are nowhere near powerful enough to decode the video in real-time. These days, even low-end desktop graphics cards support decoding H.264 in hardware. There are <a href="http://compression.ru/video/codec_comparison/mpeg-4_avc_h264_2007_en.html">competing H.264 encoders</a>, including the open source <a href="http://www.videolan.org/developers/x264.html">x264 library</a>. <strong>The H.264 standard is patent-encumbered</strong>; licensing is brokered through the <a href="http://www.mpegla.com/">MPEG LA group</a>. H.264 video can be embedded in most popular <a href="http://diveintohtml5.info/video.html#video-containers">container formats</a>, including MP4 (used primarily by <a href="http://www.apple.com/itunes/whatson/movies.html">Apple’s iTunes Store</a>) and MKV (used primarily by non-commercial video enthusiasts).
</p>
<h3> Theora
</h3>
<p> <a href="http://en.wikipedia.org/wiki/Theora">Theora</a> evolved from the <a href="http://en.wikipedia.org/wiki/Theora#History">VP3 codec</a> and has subsequently been developed by the <a href="http://xiph.org/">Xiph.org Foundation</a>. <strong>Theora is a royalty-free codec and is not encumbered by any known patents</strong> other than the original VP3 patents, which have been licensed royalty-free. Although the standard has been “frozen” since 2004, the Theora project (which includes an open source reference encoder and decoder) <a href="http://lists.xiph.org/pipermail/theora-dev/2008-November/003736.html">only released version 1.0 in November 2008</a> and <a href="http://lists.xiph.org/pipermail/theora-dev/2009-September/003985.html">version 1.1 in September 2009</a>.
</p>
<p> Theora video can be embedded in any container format, although it is most often seen in an Ogg container. All major Linux distributions support Theora out-of-the-box, and Mozilla Firefox 3.5 <a href="https://developer.mozilla.org/En/Using_audio_and_video_in_Firefox">includes native support for Theora video</a> in an Ogg container. And by “native”, I mean “available on all platforms without platform-specific plugins.” You can also play Theora video <a href="http://www.xiph.org/dshow/">on Windows</a> or <a href="http://xiph.org/quicktime/">on Mac OS X</a> after installing Xiph.org’s open source decoder software.
</p>
<h3> VP8
</h3>
<p> <a href="http://en.wikipedia.org/wiki/VP8">VP8</a> is another video codec from On2, the same company that originally developed VP3 (later Theora). Technically, it produces output on par with H.264 High Profile, while maintaining a low decoding complexity on par with H.264 Baseline.
</p>
<p><strong>VP8 is a royalty-free, modern codec and is not encumbered by any known patents</strong>.
  <br></p>
<h2> Audio Codecs
</h2>
<p> Unless you’re going to stick to films made before <a href="http://www.filmsite.org/jazz.html">1927 or so</a>, you’re going to want an audio track in your video. Like <a href="http://diveintohtml5.info/video.html#video-codecs">video codecs</a>, <em>audio codecs</em> are algorithms by which an audio stream is encoded. Like video codecs, there are <em>lossy</em> and <em>lossless</em> audio codecs. And like lossless video, lossless audio is really too big to put on the web. So I’ll concentrate on lossy audio codecs.
</p>
<p>
</p>
<p> <a href="http://diveintohtml5.info/video.html#video-codecs">As I mentioned earlier</a>, when you “watch a video,” your computer is doing at least three things at once:
</p>
<ol><li> Interpreting the container format</li>
  <li> Decoding the video stream</li>
  <li> Decoding the audio stream and sending the sound to your speakers</li>
</ol><p> The <em>audio codec</em> specifies how to do #3 — decoding the audio stream and turning it into digital waveforms that your speakers then turn into sound. As with video codecs, there are all sorts of tricks to minimize the amount of information stored in the audio stream. And since we’re talking about <em>lossy</em> audio codecs, information is being lost during the recording <span>→</span> encoding <span>→</span> decoding <span>→</span> listening lifecycle. Different audio codecs throw away different things, but they all have the same purpose: to trick your ears into not noticing the parts that are missing.
</p>
<p> One concept that audio has that video does not is <em>channels</em>. We’re sending sound to your speakers, right? Well, how many speakers do you have? If you’re sitting at your computer, you may only have two: one on the left and one on the right. My desktop has three: left, right, and one more on the floor. So-called “<a href="http://en.wikipedia.org/wiki/Surround_sound">surround sound</a>” systems can have six or more speakers, strategically placed around the room. Each speaker is fed a particular <em>channel</em> of the original recording. The theory is that you can sit in the middle of the six speakers, literally surrounded by six separate channels of sound, and your brain synthesizes them and feels like you’re in the middle of the action. Does it work? A multi-billion-dollar industry seems to think so.
</p>
<p> Most general-purpose audio codecs can handle two channels of sound. During recording, the sound is split into left and right channels; during encoding, both channels are stored in the same audio stream; during decoding, both channels are decoded and each is sent to the appropriate speaker. Some audio codecs can handle more than two channels, and they keep track of which channel is which and so your player can send the right sound to the right speaker.
</p>
<p> There are <em>lots</em> of audio codecs. Did I say there were lots of video codecs? Forget that. There are <a href="http://wiki.multimedia.cx/index.php?title=">gobs and gobs of audio codecs</a>, but on the web, there are really only three you need to know about: MP3, AAC, and Vorbis.
</p>
<h3> MPEG-1 Audio Layer 3
</h3>
<p> <a href="http://en.wikipedia.org/wiki/MPEG-1_Audio_Layer_3">MPEG-1 Audio Layer 3</a> is colloquially known as “MP3.”
  <br></p>
<p> MP3s can contain <strong>up to 2 channels</strong> of sound. They can be encoded at different <em>bitrates</em>: 64 kbps, 128 kbps, 192 kbps, and a variety of others from 32 to 320. Higher bitrates mean larger file sizes and better quality audio, although the ratio of audio quality to bitrate is not linear. (128 kbps sounds more than twice as good as 64 kbps, but 256 kbps doesn’t sound twice as good as 128 kbps.) Furthermore, the MP3 format allows for <em>variable bitrate encoding</em>, which means that some parts of the encoded stream are compressed more than others. For example, silence between notes can be encoded at a low bitrate, then the bitrate can spike up a moment later when multiple instruments start playing a complex chord. MP3s can also be encoded with a constant bitrate, which, unsurprisingly, is called <em>constant bitrate encoding</em>.
</p>
<p> The MP3 standard doesn’t define exactly how to encode MP3s (although it does define exactly how to decode them); different encoders use different psychoacoustic models that produce wildly different results, but are all decodable by the same players. The open source <a href="http://lame.sourceforge.net/">LAME project</a> is the best free encoder, and arguably the best encoder period for all but the lowest bitrates.
</p>
<p> The MP3 format (standardized in 1991) <strong>is patent-encumbered</strong>, which explains why Linux can’t play MP3 files out of the box. Pretty much every portable music player supports standalone MP3 files, and MP3 audio streams can be embedded in any <a href="http://diveintomark.org/archives/2008/12/18/give-part-1-container-formats">video container</a>. Adobe Flash can play both standalone MP3 files and MP3 audio streams within an MP4 video container.
</p>
<h3> Advanced Audio Coding
</h3>
<p> <a href="http://en.wikipedia.org/wiki/Advanced_Audio_Coding">Advanced Audio Coding</a> is affectionately known as “AAC.” Standardized in 1997, it lurched into prominence when Apple chose it as their default format for the iTunes Store. Originally, all AAC files “bought” from the iTunes Store were encrypted with Apple’s proprietary DRM scheme, called <a href="http://en.wikipedia.org/wiki/FairPlay">FairPlay</a>. Selected songs in the iTunes Store are now available as unprotected AAC files, which Apple calls “iTunes Plus” because it sounds so much better than calling everything else “iTunes Minus.” <strong>The AAC format is patent-encumbered</strong>; <a href="http://www.vialicensing.com/licensing/aac-fees.aspx">licensing rates are available online</a>.
</p>
<p> AAC was designed to provide better sound quality than MP3 at the same <em>bitrate</em>, and it can encode audio at any bitrate. (MP3 is limited to a fixed number of bitrates, with an upper bound of 320 kbps.) AAC can encode <strong>up to 48 channels of sound</strong>, although in practice no one does that. The AAC format also differs from MP3 in defining multiple <em>profiles</em>, in much the same way as <a href="http://diveintomark.org/archives/2008/12/19/give-part-2-lossy-video-codecs#h264">H.264</a>, and for the same reasons. The “low-complexity” profile is designed to be playable in real-time on devices with limited CPU power, while higher profiles offer better sound quality at the same bitrate at the expense of slower encoding and decoding.
</p>
<p> All current Apple products, including iPods, AppleTV, and QuickTime support certain profiles of AAC in standalone audio files and in audio streams in an MP4 video container. Adobe Flash supports all profiles of AAC in MP4, as do the open source MPlayer and VLC video players. For encoding, the FAAC library is the open source option; support for it is a compile-time option in mencoder and ffmpeg.
</p>
<h3> Vorbis
</h3>
<p> <a href="http://en.wikipedia.org/wiki/Vorbis">Vorbis</a> is often called “Ogg Vorbis,” although this is technically incorrect. (“Ogg” is just <a href="http://diveintohtml5.info/video.html#video-containers">a container format</a>, and Vorbis audio streams can be embedded in other containers.) <strong>Vorbis is not encumbered by any known patents</strong> and is therefore supported out-of-the-box by all major Linux distributions and by portable devices running the open source <a href="http://www.rockbox.org/">Rockbox</a> firmware. Mozilla Firefox 3.5 supports Vorbis audio files in an Ogg container, or Ogg videos with a Vorbis audio track. <a href="http://code.google.com/android/">Android</a> mobile phones can also play standalone Vorbis audio files. Vorbis audio streams are usually embedded in an Ogg or WebM container, but they can also be <a href="http://samples.mplayerhq.hu/MPEG-4/vorbis-in-mp4/">embedded in an MP4</a> or <a href="http://en.wikipedia.org/wiki/Matroska">MKV</a> container (or, with some hacking, <a href="http://www.alexander-noe.com/video/amg/">in AVI</a>). Vorbis supports <strong>an arbitrary number of sound channels</strong>.
</p>
<p> There are open source Vorbis encoders and decoders, including <a href="http://oggconvert.tristanb.net/">OggConvert</a> (encoder), <a href="http://www.ffmpeg.org/">ffmpeg</a> (decoder), <a href="http://www.geocities.jp/aoyoume/aotuv/">aoTuV</a> (encoder), and <a href="http://downloads.xiph.org/releases/vorbis/">libvorbis</a> (decoder). There are also <a href="http://www.xiph.org/quicktime/">QuickTime components for Mac OS X</a> and <a href="http://www.xiph.org/dshow/">DirectShow filters for Windows</a>.
</p>
<h2> What Works on the Web
</h2>
<p> If your eyes haven’t glazed over yet, you’re doing better than most. As you can tell, video (and audio) is a complicated subject — and this was the abridged version! In case you’re wondering how all of this relates to HTML5 - well, HTML5 includes a <code>&lt;video&gt;</code> element for embedding video into a web page. There are no restrictions on the video codec, audio codec, or container format you can use for your video. One <code>&lt;video&gt;</code> element can link to multiple video files, and the browser will choose the first video file it can actually play. <strong>It is up to you to know which browsers support which containers and codecs.</strong>
</p>
<p>This link takes you to a summary of the landscape of HTML5 video:
  <br><a href="http://diveintohtml5.info/video.html#what-works">http://diveintohtml5.info/video.html#what-works</a>
  <br></p>
<div>
  <h4> Professor Markup Says
  </h4>
  <div>
    <blockquote>
      <ul><li> There is no single combination of containers and codecs that works in all HTML5 browsers.</li>
        <li> This is not likely to change in the near future.</li>
        <li> To make your video watchable across all of these devices and platforms, you’re going to need to encode your video more than once.</li>
      </ul></blockquote>
  </div>
</div>
<p> For maximum compatibility, here’s what your video workflow will look like:
</p>
<ol><li> Make one version that uses WebM (VP8 + Vorbis).</li>
  <li> Make another version that uses H.264 baseline video and AAC “low complexity” audio in an MP4 container.</li>
  <li> Make another version that uses Theora video and Vorbis audio in an Ogg container.</li>
  <li> Link to all three video files from a single <code>&lt;video&gt;</code> element, and fall back to a Flash-based video player</li>
</ol><h2> Task: Go to the park!
  <br></h2>
<p>There is no assessment task for this section. Go to the next task. Or even better go play in the park, or have a nice cup of tea. You have earned it. It would be great if you could share your thoughts about how we could better present this information in the comments.
  <br></p></body></html>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

