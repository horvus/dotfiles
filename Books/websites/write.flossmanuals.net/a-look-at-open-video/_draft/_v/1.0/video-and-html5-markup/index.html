
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Video-And-Html5-Markup / A Look at Open Video</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for A Look at Open Video" href="/feeds/rss/book/a-look-at-open-video/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for A Look at Open Video" href="/feeds/atom/book/a-look-at-open-video/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Video and HTML5 Markup" href="/feeds/rss/chapter/a-look-at-open-video/a-look-at-open-video/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Video and HTML5 Markup" href="/feeds/atom/chapter/a-look-at-open-video/a-look-at-open-video/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/a-look-at-open-video/_draft/_v/1.0/video-and-html5-markup/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>A Look at Open Video</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>Part One</b></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/a-look-at-open-video/">A Look at Open Video</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/what-is-open-video/">What is Open Video?</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/understanding-video-files/">Understanding Video Files</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/creating-open-subtitles/">Creating Open Subtitles</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/understanding-codecs-and-containers/">Understanding Codecs and Containers</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/tools-for-creating-open-video-files/">Tools for Creating Open Video Files</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/encoding-explained/">Encoding Explained</a></li>
    
   
    
      <li><b>Part Two</b></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/a-look-at-open-video-part-two/">A Look at Open Video - Part Two </a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/taking-video-to-the-web/">Taking Video to the Web</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/video-and-html5-markup/">Video and HTML5 Markup</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/collecting-and-moving-video-metadata/">Collecting and Moving Video Metadata</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/using-ffmpeg-and-avconfv/">Using ffmpeg and avconfv</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/what-next-for-open-video/">What Next for Open Video</a></li>
    
   
    
      <li><a href="/a-look-at-open-video/_draft/_v/1.0/course-process-credits/">Course Process &amp; Credits</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <html><body><h1>Video and HTML5 Markup
</h1>
<p><strong><abbr>Adapted from - <a href="http://diveintohtml5.info/video.html#markup">http://diveintohtml5.info/video.html#markup</a></abbr></strong>
</p>
<p><img src="static/796px-2.1_MP_CCD_Close_Up_2_Qwertyle_600x.jpg"><br> 
</p>
<p><abbr>HTML5</abbr> gives you two ways to include video on your web page. Both of them involve the <code>&lt;video&gt;</code> element. If you only have one video file, you can simply link to it in a <code>src</code> attribute. This is remarkably similar to including an image with an <code>&lt;img src="..."&gt;</code> tag.
</p>
<p class="legend top" style="margin-left:2em">One video file <span class="arrow clockwiseTopSemicircleArrow"></span>
  <br></p>
<pre><code>&lt;video <mark>src="pr6.webm"</mark>&gt;&lt;/video&gt;</code></pre>
<p>Technically, that’s all you need. But just like an <code>&lt;img&gt;</code> tag, you should always include <code>width</code> and <code>height</code> attributes in your <code>&lt;video&gt;</code> tags. The <code>width</code> and <code>height</code> attributes can be the same as the maximum width and height you specified during the encoding process. Don’t worry if one dimension of the video is a little smaller than that. Your browser will center the video inside the box defined by the <code>&lt;video&gt;</code> tag. It won’t ever be smooshed or stretched out of proportion.
</p>
<pre><code>&lt;video src="pr6.webm" <mark>width="320" height="240"</mark>&gt;&lt;/video&gt;</code></pre>
<p>By default, the <code>&lt;video&gt;</code> element will not expose any sort of player controls. You can create your own controls with plain old <abbr>HTML</abbr>, <abbr>CSS</abbr>, and JavaScript. The <code>&lt;video&gt;</code> element has methods like <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#playing-the-media-resource"><code>play()</code> and <code>pause()</code></a> and a read/write property called <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-currenttime"><code>currentTime</code></a>. There are also read/write <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-volume"><code>volume</code></a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#dom-media-muted"><code>muted</code></a> properties. So you really have everything you need to build your own interface.
</p>
<p>If you don’t want to build your own interface, you can tell the browser to display a built-in set of controls. To do this, just include the <code>controls</code> attribute in your <code>&lt;video&gt;</code> tag.
</p>
<pre><code>&lt;video src="pr6.webm" width="320" height="240" <mark>controls</mark>&gt;&lt;/video&gt;</code></pre>
<p>There are two other optional attributes I want to mention before we go any further: <code>preload</code> and <code>autoplay</code>. Don’t shoot the messenger; let me explain why these are useful. The <code>preload</code> attribute tells the browser that you would like it to start downloading the video file as soon as the page loads. This makes sense if the entire point of the page is to view the video. On the other hand, if it’s just supplementary material that only a few visitors will watch, then you can set <code>preload</code> to <code>none</code> to tell the browser to minimize network traffic.
</p>
<p>Here’s an example of a video that will start downloading (but not playing) as soon as the page loads:
</p>
<pre><code>&lt;video src="pr6.webm" width="320" height="240" <mark>preload</mark>&gt;&lt;/video&gt;</code></pre>
<p>And here’s an example of a video that will <em>not</em> start downloading as soon as the page loads:
</p>
<pre><code>&lt;video src="pr6.webm" width="320" height="240" <mark>preload="none"</mark>&gt;&lt;/video&gt;</code></pre>
<p>The <code>autoplay</code> attribute does exactly what it sounds like: it tells the browser that you would like it to start downloading the video file as soon as the page loads, <em>and</em> you would like it to start playing the video automatically as soon as possible. Some people love this; some people hate it. But let me explain why it’s important to have an attribute like this in <abbr>HTML5</abbr>. Some people are going to want their videos to play automatically, even if it annoys their visitors. If <abbr>HTML5</abbr> <em>didn’t</em> define a standard way to auto-play videos, people would resort to JavaScript hacks to do it anyway. (For example, by calling the video’s <code>play()</code> method during the window’s <code>load</code> event.) This would be much harder for visitors to counteract. On the other hand, it’s a simple matter to add an extension to your browser (or write one, if necessary) to say “ignore the <code>autoplay</code> attribute, I don’t ever want videos to play automatically.”
</p>
<p>Here’s an example of a video that will start downloading and playing as soon as possible after the page loads:
</p>
<pre><code>&lt;video src="pr6.webm" width="320" height="240" <mark>autoplay</mark>&gt;&lt;/video&gt;</code></pre>
<p>And here is a <a href="http://www.greasespot.net/">Greasemonkey</a> script that you can install in your local copy of Firefox that prevents <abbr>HTML5</abbr> video from playing automatically. It uses the <code>autoplay</code> <abbr>DOM</abbr> attribute defined by <abbr>HTML5</abbr>, which is the JavaScript equivalent of the <code>autoplay</code> attribute in your <abbr>HTML</abbr> markup. [<a href="http://diveintohtml5.info/examples/disable_video_autoplay.user.js">disable_video_autoplay.user.js</a>]
</p>
<pre><code>// ==UserScript==
// @name           Disable video autoplay
// @namespace      http://diveintomark.org/projects/greasemonkey/
// @description    Ensures that HTML5 video elements do not autoplay
// @include        *
// ==/UserScript==

var arVideos = document.getElementsByTagName('video');
for (var i = arVideos.length - 1; i &gt;= 0; i--) {
    var elmVideo = arVideos[i];
    <mark>elmVideo.autoplay = false;</mark>
}</code></pre>
<p>But wait a second… If you’ve been following along this whole course, you don’t have just one video file; you have three. One is an <code>.ogv</code> file that you created with <a href="http://diveintohtml5.info/video.html#firefogg">Firefogg</a> or <a href="http://diveintohtml5.info/video.html#ffmpeg2theora">ffmpeg2theora</a>. The second is an <code>.mp4</code> file that you created with <a href="http://diveintohtml5.info/video.html#handbrake-gui">HandBrake</a>. The third is a <code>.webm</code> file that you created with <a href="http://diveintohtml5.info/video.html#firefogg">Firefogg</a>. <abbr>HTML5</abbr> provides a way to link to all three of them: the <code>&lt;source&gt;</code> element. Each <code>&lt;video&gt;</code> element can contain more than one <code>&lt;source&gt;</code> element. Your browser will go down the list of video sources, in order, and play the first one it’s able to play.
</p>
<p>That raises another question: how does the browser know which video it can play? Well, in the worst case scenario, it loads each of the videos and tries to play them. That’s a big waste of bandwidth, though. You’ll save a lot of network traffic if you tell the browser up-front about each video. You do this with the <code>type</code> attribute on the <code>&lt;source&gt;</code> element.
</p>
<p>Here’s the whole thing:
</p>
<p class="legend top" style="margin-left:2em">Three (!) video files <span class="arrow clockwiseTopSemicircleArrow"></span>
  <br></p>
<pre><code>&lt;video width="320" height="240" controls&gt;
  &lt;<mark>source src="pr6.mp4"</mark>  type="video/mp4; codecs=avc1.42E01E, mp4a.40.2"&gt;
  &lt;<mark>source src="pr6.webm"</mark> type="video/webm; codecs=vp8, vorbis"&gt;
  &lt;<mark>source src="pr6.ogv"</mark>  type="video/ogg; codecs=theora, vorbis"&gt;
&lt;/video&gt;</code></pre>
<p>Let’s break that down. The <code>&lt;video&gt;</code> element specifies the width and height for the video, but it doesn’t actually link to a video file. Inside the <code>&lt;video&gt;</code> element are three <code>&lt;source&gt;</code> elements. Each <code>&lt;source&gt;</code> element links to a single video file (with the <code>src</code> attribute), and it also gives information about the video format (in the <code>type</code> attribute).
</p>
<p>The <code>type</code> attribute looks complicated — hell, it <em>is</em> complicated. It’s a combination of three pieces of information: the <a href="http://diveintohtml5.info/video.html#video-containers">container format</a>, the <a href="http://diveintohtml5.info/video.html#video-codecs">video codec</a>, and the <a href="http://diveintohtml5.info/video.html#audio-codecs">audio codec</a>. Let’s start from the bottom. For the <code>.ogv</code> video file, the container format is Ogg, represented here as <code>video/ogg</code>. (Technically speaking, that’s the <abbr>MIME</abbr> type for Ogg video files.) The video codec is Theora, and the audio codec is Vorbis. That’s simple enough, except the format of the attribute value is a little screwy. The value itself has to include quotation marks, which means you’ll need to use a different kind of quotation mark to surround the entire value.
</p>
<pre><code>  &lt;source src="pr6.ogv" <mark>type="video/ogg; codecs=theora, vorbis"</mark>&gt;</code></pre>
<p>WebM is much the same, but with a different MIME type (<code>video/webm</code> instead of <code>video/ogg</code>) and a different video codec (<code>vp8</code> instead of <code>theora</code>) listed within the <code>codecs</code> parameter.
</p>
<pre><code>  &lt;source src="pr6.webm" <mark>type="video/webm; codecs=vp8, vorbis"</mark>&gt;</code></pre>
<p>The H.264 video is even more complicated. Remember when I said that both <a href="http://diveintohtml5.info/video.html#h264">H.264 video</a> and <a href="http://diveintohtml5.info/video.html#aac">AAC audio</a> can come in different “profiles”? We encoded with the H.264 “baseline” profile and the AAC “low-complexity” profile, then wrapped it all in an MPEG-4 container. All of that information is included in the <code>type</code> attribute.
</p>
<pre><code>  &lt;source src="pr6.mp4" <mark>type="video/mp4; codecs=avc1.42E01E, mp4a.40.2"</mark>&gt;</code></pre>
<p>The benefit of going to all this trouble is that the browser will check the <code>type</code> attribute first to see if it can play a particular video file. If a browser decides it can’t play a particular video, <em>it won’t download the file</em>. Not even part of the file. You’ll save on bandwidth, and your visitors will see the video they came for, faster.
</p>
<p>If you follow the instructions in this chapter for encoding your videos, you can just copy and paste the <code>type</code> attribute values from this example. Otherwise, you’ll need to <a href="http://wiki.whatwg.org/wiki/Video_type_parameters">work out the <code>type</code> parameters for yourself</a>.
</p>
<h2>Task: Create an HTML page with the &lt;VIDEO&gt; tag 
</h2>
<p>Create an HTML page using the HTML5 Video Tag and videos files you have created
  <br>Post a link it to the comments below
  <br></p></body></html>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

