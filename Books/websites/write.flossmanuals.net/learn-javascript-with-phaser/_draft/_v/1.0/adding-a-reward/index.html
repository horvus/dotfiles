
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Adding-A-Reward / Learn JavaScript with Phaser</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for Learn JavaScript with Phaser" href="/feeds/rss/book/learn-javascript-with-phaser/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for Learn JavaScript with Phaser" href="/feeds/atom/book/learn-javascript-with-phaser/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Adding a Reward" href="/feeds/rss/chapter/learn-javascript-with-phaser/learn-javascript-with-phaser/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Adding a Reward" href="/feeds/atom/chapter/learn-javascript-with-phaser/learn-javascript-with-phaser/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/learn-javascript-with-phaser/_draft/_v/1.0/adding-a-reward/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>Learn JavaScript with Phaser</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>OPENING SCENE</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/introduction/">Introduction</a></li>
    
   
    
      <li><b>Jumping Right In</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/jumping-right-in/">Jumping Right In</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/about-adding-game-mechanics/">Choose your own Adventure</a></li>
    
   
    
      <li><b>Getting Started</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/building-a-world/">Building a World</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/adding-movement/">Adding Movement</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/create-a-game-space/">Create a Game Space</a></li>
    
   
    
      <li><b>Making Things Happen</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/adding-a-reward/">Adding a Reward</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/hazards-and-enemies/">Hazards and Enemies</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/changing-game-states/">Adding Game States</a></li>
    
   
    
      <li><b>GAME MECHANICS</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-add-a-countdown-timer/">Game Mechanic: Add a Countdown Timer</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-jumping-on-enemies/">Game Mechanic: Jumping on Enemies</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-player-health/">Game Mechanic: Player Health</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-longer-jumps-if-holding-jump-down/">Game Mechanic: Longer Jumps if Holding Jump Down</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polish-changing-collision-boxes/">Game Mechanic: Smaller Sprite Collision Boxes</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-extending-the-game-size/">Game Mechanic: Extending the Game Size</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/adding-other-levels/">Game Mechanic: Adding Levels </a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/game-mechanic-keys-and-doors/">Game Mechanic: Keys and Doors</a></li>
    
   
    
      <li><b>ADDING POLISH</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polish-character-animations-when-dying/">Polish: Animate Sprite when Zapped</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polishing-our-game/">Polish: Scaling our Game and Sprites</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polish-screen-shake/">Polish: Screen Shake</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polish-add-soundtrack-music/">Polish: Add Soundtrack Music</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/polish-dramatic-endings/">Polish: Explosions using Particles</a></li>
    
   
    
      <li><b>Appendix</b></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/how-we-learn-javascript-in-this-book/">Summary of our approach to learning Game Making</a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/how-we-approach-coding/">How we approach Coding </a></li>
    
   
    
      <li><a href="/learn-javascript-with-phaser/_draft/_v/1.0/playful-reflective-activities/">Playful and Reflective Approaches</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <h1>Adding a Reward</h1>
<p>In the last chapter we talked about not having a real goal for our game. Yes, that was a problem. In this chapter we put in place a reward, a goal for us to chance. In this case it will be to collect coins.</p>
<h2>Hands on: Creating our Coin</h2>
<p>We already know how to add images as sprites to our world. We did that with the player. Now we need to do the same a coin. But we can go one step further and add a simple animation to the coin. animation of a sprite is a good way of letting the player know that this is an active object in the game rather than part of the scenery. This involves adding it in a slightly different way. &nbsp;</p>
<p>To make our image animated we change the way we add our image. We add it as a <em><strong>spritesheet</strong></em>, and specify the width and height of each frame in that line too, this this case 22 pixels wide and 22 high. &nbsp;</p>
<p>In the <strong>preload </strong>function add the following code</p>
<pre>&nbsp;&nbsp;&nbsp; game.load.spritesheet("coin", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fcoin_animated.png", 22, 22);<br /><br /></pre>
<p>Before adding any coins to the game. We are going to create a group for all of our coins called, <em><strong>coins</strong></em>, this will be useful when we programme the part of the game where the player takes the coin. Generally we might want to create groups of objects when we want the same kind of thing to happen to all the members in the group. In this case each time our player touches a coin we will want that coin to disappear.</p>
<p>Add the following code in the <strong>create</strong> function in our code after where we add the platforms.</p>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coins = game.add.group();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coins.enableBody = true;</pre>
<p>Instead of adding all of our coins one at a time, which we can see would be quite repetitive, we can use a loop to do the job for us. Let's add 3 coins to the screen, spaced every 100 pixels. We will add them at the top, but then add gravity so that they fall down until they touch a platform.</p>
<p>To do this add the following lines after the code above.</p>
<pre>&nbsp;&nbsp;&nbsp; for (var i = 1; i &lt; 4; i += 1) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var coin = coins.create(i * 100, 0, "coin");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coin.body.gravity.y = 200;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coin.animations.add("rotate", [0, 1, 2, 1], 6, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coin.animations.play("rotate");<br />&nbsp;&nbsp;&nbsp; }</pre>
<h2>Hands On: Making the coins disappear</h2>
<p>At the moment we have something for our player to head for but when they get there, they just overlap with the coins rather than it seeming like the player takes them. Our next stage is to make them disapear.</p>
<p>To do this we rely on another bit of Phaser physics which is expecially for cases like this. Add the following code at the top of your <strong>update:</strong> function.</p>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; game.physics.arcade.overlap(player, coins, this.collectCoins);</pre>
<p>This line will be explained at the end of this chapter but what it means is that when player and any member of the coins group overlap then run a function called collectCoins (which we still have to write yet).</p>
<p>Now let's write the code that runs when that overlap happens. Add this after the <strong>update:</strong> code has ended.</p>
<pre>playState.collectCoins = function (player, coin) {<br />&nbsp;&nbsp;&nbsp; coin.kill();<br />&nbsp;&nbsp;&nbsp; coinSound.play();<br />};<strong><br /></strong></pre>
<p>Now that we have a means for the rewards to dissapear when the player touches them, it makes sense to count how many coins are left, and when there are none left to do something. In our simple example let's restart the game. We'll need a new function to count the coins add the following line to the end of the update function.</p>
<pre>    this.checkAlive(coins);</pre>
<p>Then add a totally new function after the playState.collectCoins one by putting in this code.</p>
<pre>playState.checkAlive = function (group) {<br />&nbsp;&nbsp;&nbsp; var count_alive = 0, i;<br />&nbsp;&nbsp;&nbsp; for (i = 0; i &lt; group.children.length; i += 1) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (group.children[i].alive === true) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count_alive += 1;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; if (count_alive === 0) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; game.state.restart("play");<br />&nbsp;&nbsp;&nbsp; }<br />};</pre>
<p>Adding these lines of code could be a bit tricky to get in the right place. You may want to use the Check Your Code section to help you.</p>
<h2>Hands On: Adding a sound</h2>
<p>Adding sounds is fun and pretty easy to do and we really need that right now to give a bit of feedback to the player that they are on the right track. <strong><br /></strong></p>
<p>Follow these steps which should be starting to be familiar</p>
<ul>
<li>create a global variable at the start of the code</li>
<li>load the sound in preload</li>
<li>add sound to the game in create</li>
<li>add code to play the sound when the coin is collected.</li>
</ul>
<div>So add this to the list of variables at the start so it can be accessed from any part of our code.</div>
<pre><br />&nbsp;   var coinSound;</pre>
<div>&nbsp;add the following line to <strong>preload</strong> it doesn't really matter where.<br /><br /></div>
<pre>&nbsp;&nbsp;&nbsp; game.load.audio("coinwav", "https://cdn.glitch.com/f555a7cf-4ed2-4768-8167-e545853a6981%2Fct_coin_1.wav");<br /><br /></pre>
<div>Then in <strong>create:</strong> this sound need to be added as an audio object.</div>
<div>&nbsp;</div>
<pre>    coinSound = game.add.audio('coinwav');</pre>
<div>&nbsp;</div>
<div>This then gets played in the code where the coin is collected using the play() method.&nbsp;</div>
<div>&nbsp;</div>
<pre>playState.collectCoins = function (player, coin) {<br />&nbsp;&nbsp;&nbsp; coin.kill();<br />&nbsp;&nbsp;&nbsp; coinSound.play();<br />};</pre>
<div>&nbsp;</div>
<h2>Checking our Code</h2>
<p>You can check what you have in your code with the the completed code for this chapter here - <a title="https://glitch.com/edit/#!/add-a-reward-chapter?path=game.js:1:0" href="https://glitch.com/edit/#!/add-a-reward-chapter?path=game.js:1:0">https://glitch.com/edit/#!/add-a-reward-chapter?path=game.js:1:0</a></p>
<div class="glitch-embed-wrap" style="height: 420px; width: 100%;"><iframe style="height: 100%; width: 100%; border: 0;" src="https://glitch.com/embed/#!/embed/add-a-reward-chapter?path=game.js&amp;previewSize=0" width="320" height="240"></iframe></div>
<h2><strong><br /></strong></h2>
<h2>Have a Play: with Sounds and Art</h2>
<h3><strong>Challenge One: Alter the coin art<br /></strong></h3>
<p><img src="static/coins_11pichache.png" alt="" width="300" height="300" /></p>
<p>Your challenge is to change the art of the the animated coin.You can replace it with anything that you imagine our player might want to collect. Let's call it a reward from now on.</p>
<p>Remember in the first chapter Jumping Right In we altered art and brought it into our game. In that chapter we used a bit of a sneaky short cut but now is the time to really learn how to do that well in our code playground. You can follow the instructions in <strong>Jumping Right In</strong> to learn how to create your animated reward. If you want to make your life easier you can keep your reward the same size and length of animation. The two relevant lines are&nbsp;</p>
<pre> &nbsp;&nbsp; game.load.spritesheet("coin", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fcoin_animated.png", 22, 22);</pre>
<p>which tells us that our original coin art is 22 pixels wide and 22 pixels high and the line</p>
<pre>&nbsp;&nbsp;&nbsp; coin.animations.add("rotate", [0, 1, 2, 1], 6, true);</pre>
<p>which shows us that the animation using three frames to make it seem like the coin is spinning.<br /><br />When you are finished designing your new reward you now need to download it to your hard drive as a PNG file.</p>
<p><img src="static/piskel_a_2.png" alt="" width="383" height="452" /></p>
<p>Next you can click on the assets part of your glitch project and drag that downloaded file into that assets window or browse for it on your computer but clicking on <strong>Add Asset.</strong></p>
<p>When it is uploaded click on it and then click on the <strong>Copy Url</strong> button. You can now go back to your game.js file and paste in the URL of your uploaded reward art into the relevant part of preload. Make sure to change the numbers in the code shown above in this section if you have changed the image size or number of frames.</p>
<h3><br /><strong>Challenge Two: Add our own sound effects<br /></strong></h3>
<p><img src="static/headphones_elias.png" alt="" width="300" height="300" /></p>
<p>Our game now plays a sound when we reach a coin. This means we can play around with making our own sounds and upload our own version.</p>
<p>Create your own sound anyway you want but one good online tool is ChipTone - <a title="http://sfbgames.com/chiptone/" href="http://sfbgames.com/chiptone/">http://sfbgames.com/chiptone/</a></p>
<p><img src="static/chiptone.png" alt="" width="735" height="430" /></p>
<p>Play around and when you ahve a sound you like click on <strong>SAVE WAV</strong> to save the sound to your computer</p>
<p><img src="static/chiptone_2.png" alt="" width="382" height="303" /></p>
<p>You can follow the instructions for the section on changing your reward image to upload your sound to the assets section of your Glitch remix project and change over the URL of the coin sound in the preload section.</p>
<p><strong>Bonus Challenge:</strong> Can you add another sound which plays when your character jumps?</p>
<p>&nbsp;</p>
<h2>Under the Hood: Loops and Iterating</h2>
<p>When find ourselves doing the same thing over and over again when coding, there is normally a better way to do this. At times in this guide we do things the longer way in order to make the code easier to read but here we use a loop when creating our coins.</p>
<p>There are a few ways to do this but one of the more flexible ways is to create a <strong>For Loop</strong> which takes three statements.</p>
<p>Here is a summary of some more detailed information on how to use a for loop here - <a title="http://sfbgames.com/chiptone/" href="https://www.w3schools.com/js/js_loop_for.asp">https://www.w3schools.com/js/js_loop_for.asp</a></p>
<p>There are three key parts of For Loop, a starting point, a way of knowing when to end the loop, and a way of changing the loop. <br />Let's look at a simplified example of how this is used in our code.</p>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (var i = 1; i &lt; 4; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coin = coins.create(i * 100, 0, 'coin');<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</pre>
<p>You can see the first like of the littpt follows the following pattern.</p>
<pre>     for (statement 1; statement 2; statement 3) 
      {
        code block to be executed (normally more than once
      }
</pre>
<div>Officially the definition of what these statements are is as follows:</div>
<ul>
<li>Statement 1 is executed (one time) before the execution of the code block.</li>
<li>Statement 2 defines the condition for executing the code block.</li>
<li>Statement 3 is executed (every time) after the code blocrek has been executed.</li>
</ul>
<div>Very often a for loop will follow the following convention:</div>
<ul>
<li>Statement 1 creates a varaible often called <strong>i</strong> for iterator, (to iterate means to do things more than once).</li>
<li>Statement 2 sets up when the loop will end using some maths, in this case it will end when <strong>i</strong> is no longer less than 4.</li>
<li>Statement 3 runs after every loop and in this case increases the value of <strong>i</strong> by one each time.</li>
</ul>
<div>
<div>We can see that because i is also used in the code that gets run each time the loop happens, the result will be different if <strong>i</strong> is different in each loop.</div>
</div>
<div>And if <strong>i</strong> starts off at 1 and increases by one each time the loop runs until <strong>i</strong> is no longer less than 4, it will run three times. Let's chart out how it will be different.</div>
<div>&nbsp;</div>
<div>
<pre> coin = coins.create(i * 100, 0, 'coin');<br /><br /></pre>
</div>
<div>
<div>The code above becomes:</div>
<ol>
<li>Loop One: i = 1 : coin = coins.create(1 * 100, 0, 'coin'); - so coin created at 100,0</li>
<li>Loop Two: i = 2 : coin = coins.create(2 * 100, 0, 'coin'); - so coin created at 200,0</li>
<li>Loop Three: i = 3 : coin = coins.create(3 * 100, 0, 'coin'); - so coin created at 300,0</li>
</ol></div>
<div>
<div><strong>Note:</strong> that in the code i starts as value one - i =1 - very often in these kinds of loops people set v to be 0 when starting to fit with the normal coding convention of starting counting from 0. But in this case we start at 1 as if we were to start at 0 then the coin would overlap with our main player.</div>
</div>
<div>&nbsp;</div>
<h2>Under the Hood: Making and calling functions <strong><br /></strong></h2>
<p>We added our own function to the playState object called collectCoins when the player overlapped with any coins. This is about the most complicated bit of coding we need to do to make our first game so let's take some time to explain what is happening.</p>
<p>When creating our overlap statement the most correct way to do it would be the following line.</p>
<pre>    game.physics.arcade.overlap(player, coins, collectCoins, null, this);</pre>
<p>You may notice that in our game we use a more simple approach which is the following:</p>
<pre>    game.physics.arcade.overlap(player, coins, collectCoins);</pre>
<p>If we are new to code then there is quite a lot going on here. To help explain what is happening we can borrow a bit from the phaser documentation. We will simplify the full documentation which is here <a title="http://sfbgames.com/chiptone/" href="https://phaser.io/docs/2.4.4/Phaser.Physics.Arcade.html#overlap">https://phaser.io/docs/2.4.4/Phaser.Physics.Arcade.html#overlap</a></p>
<p><strong>Overlap()</strong> is a function with serveral possible paramaters. here we are passing five parameters let's look at them in turn.</p>
<pre id="overlap" class="name ">    overlap<span class="signature">(object1, object2, <span class="optional">overlapCallback</span>, <span class="optional">processCallback</span>, <span class="optional">callbackContext</span>)</span></pre>
<p><span class="signature">There is a lot of new information here. We can learn a lot about coding by working out what works and just copying it from one project to the next (especially if we post in forums when we get stuck), so feel free to skip this bit if it is really hard. On the otherhand this is very useful information about coding concepts (and I wish I had understood this earlier), so it is worth reading on. </span></p>
<p><span class="signature">These different parameters can be likened do different holes in a block toy. </span></p>
<p><img src="static/toyblocks.jpg" alt="" width="300" height="271" /></p>
<p><span class="signature">Each function may have several parameters defined and then to use it we need to include variables or other objects in the holes those parameters represent. Let's look at the specification of the overlap function again parameter by parameter</span></p>
<pre id="overlap" class="name ">    overlap<span class="signature">(object1, object2, <span class="optional">overlapCallback</span>, <span class="optional">processCallback</span>, <span class="optional">callbackContext</span>)</span></pre>
<ol>
<li><span class="signature"><strong>object1:</strong> The first object or group of objects to check (needed)<br /></span></li>
<li><span class="signature"><strong>object2:</strong> The first object or group of objects to check<span class="signature"> (needed)</span></span></li>
<li><span class="signature"><strong>overlapCallback:</strong> An callback function that is called if the objects overlap. (optional)<br /></span></li>
<li><span class="signature"><strong>processCallback</strong>: A function that lets you perform additional checks before ovelapCallback is called <span class="signature">(optional)</span><br /></span></li>
<li><span class="signature"><strong>callbackContext:</strong> The context in which to run the callback functions <span class="signature">(optional)</span><br /></span></li>
</ol>
<p><span class="signature">We can see that some of these paramenters are optional, but we do need to pass in two objects or groups as a minimum. In this case the player and the the group of coins. We also want something to happen when there is an overlap between the player and any of the coins. </span></p>
<p><span class="signature">This is where the overlap callback parameter comes in. We don't need to know a lot about what a callback function is here. But in a nutshell here is a code that we pass to this overlap function. In this particular case we don't seem to need to include the other options to make our code work. But if we did then we would use the full code </span></p>
<pre>game.physics.arcade.overlap(player, coins, this.collectCoins, null, this);</pre>
<p><span class="signature">Although we don't need it, we have to put null in for parameter 4, we can't skip one and jump right to paramater 5 or the function will get confused.&nbsp;<strong>&nbsp; </strong><br /></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

