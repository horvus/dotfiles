
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Objects / chuck update</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chuck update" href="/feeds/rss/book/chuck-update/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chuck update" href="/feeds/atom/book/chuck-update/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Objects" href="/feeds/rss/chapter/chuck-update/chuck-update/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Objects" href="/feeds/atom/chapter/chuck-update/chuck-update/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/chuck-update/_draft/_v/1.0/objects/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>chuck update</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/introduction/">Introduction</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/places/">Places</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/authors/">Authors</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/installation/">Installation</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/tutorials/">Tutorials</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/hello-chuck/">Hello ChucK</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/conventions/">Conventions</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/on-the-fly-programming/">On-the-fly Programming</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/modifying-basic-patches/">Modifying Basic Patches</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/lfos-and-blackholes/">LFOs and Blackholes</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/working-with-midi/">Working with MIDI</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/writing-to-disk/">Writing to Disk</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/stereo/">Stereo</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/using-osc-in-chuck/">Using OSC in ChucK</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/reference/">Reference</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/overview/">Overview</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/the-chuck-compiler-and-virtual-machine/">The ChucK Compiler and Virtual Machine</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/on-the-fly-commands/">On-the-fly Commands</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/types-values-and-variables/">Types, Values and Variables</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/operators-and-operations/">Operators and Operations</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/time-and-timing/">Time and Timing</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/concurrency-and-shreds/">Concurrency and Shreds</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/events/">Events</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/control-structures/">Control Structures</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/functions/">Functions</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/objects/">Objects</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/arrays/">Arrays</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/unit-analyzers/">Unit Analyzers</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/standard-libraries/">Standard Libraries</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/event-reference/">Event Reference</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/other-objects-reference/">Other Objects Reference</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/ugenreference/">UgenReference</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/unit-generators/">Unit Generators</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/ugens-oscillators/">Ugens: Oscillators</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/ugens-stkinstruments/">Ugens: STKInstruments</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/unit-analyzer-reference/">Unit Analyzer Reference</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/extending-chuck/">Extending ChucK</a></li>
    
   
    
      <li><a href="/chuck-update/_draft/_v/1.0/lick-library-for-chuck/">LiCK: Library for ChucK</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <html lang="en"><head><title>Objects</title></head><body><h1>Objects
</h1>
<h2>Introduction
</h2>
<p>Chuck implements an object system that borrows from both C++ and Java conventions. In our case this means: 
</p>
<ul><li>You can deﬁne custom classes as new types and instantiate objects</li>
  <li>ChucK supports polymorphic inheritance (this is the same model used in Java, and also known as virtual inheritance in C++)</li>
  <li>All object variables are references (like Java), but instantiation resembles C++. We will discuss this in detail below.</li>
  <li>There is a default class library.</li>
  <li>All objects inherit from the Object class (as in Java)</li>
</ul><p>For the sake of clarity we will deﬁne these terms:
</p>
<ul><li>A class is an abstraction of data (members) and behavior (methods)</li>
  <li>A class is a type.</li>
  <li>An object is an instantiation of that class</li>
  <li>A reference variable refers indirectly to an object - it is not the object itself. All ChucK object variables are reference variables (like in Java).</li>
  <li>Similarly, reference assignment duplicates a reference to an object and assigns the reference to a reference variable. The object itself is not duplicated. All ChucK object assignments are reference assignments.</li>
</ul><h2>Built-in Classes
</h2>
<p>ChucK has a number of classes deﬁned within the language.
</p>
<ul><li>Object : base class to all ChucK objects.</li>
  <li>Event : ChucK’s basic synchronization mechanism; may be extended to create custom Event functionality (discussed here).</li>
  <li>Shred : basic abstraction for a non-premptive ChucK process.</li>
  <li>UGen : base unit generator class (discussed here).</li>
</ul><p>These are some of the more commonly used classes in ChucK.
</p>
<h2>Working With Objects
</h2>
<p>Let’s begin with some examples. For these examples, let’s assume Foo is a deﬁned class.
</p>
<pre>// create a Foo object; stored in reference variable bar
Foo bar;
</pre>
<p>The above code does two things:
</p>
<ul><li>A reference variable bar is declared; its type is Foo</li>
  <li>A new instance of Foo is created, and its reference is assigned to bar</li>
</ul><p>Note that in contrast to Java, this statement both declares a reference variable and instantiates a instance of that class and assigns the reference to the variable. Also note that in contrast to C++, bar is a reference, and does not represent the object itself.
</p>
<p>To declare a reference variable that refers to nothing (also called a null reference):
</p>
<pre>// create a null reference to a Foo object
Foo @ bar; </pre>
<p>The above code only declare a reference and initializes it to null. (random note: the above statement may be read as ”Foo at bar”).
</p>
<p>We can assign a new instance to the reference variable:
</p>
<pre>// assign new instance of Foo to bar
new Foo @=&gt; Foo @ bar;

// (this statement is equivalent to ’Foo bar’, above)</pre>
<p>The code above is exactly equivalent to Foo bar; as shown above. The new operator creates an instance of a class, in this case Foo. The @=&gt; operator performs the reference assignment. (see Operators chapter for more information on @=&gt;)
</p>
<p>It is possible to make many references to same object:
</p>
<pre>// make a Foo
Foo bar;

// reference assign to duh
bar @=&gt; Foo @ duh;

// (now both bar and duh points to the same object)
</pre>
<p>ChucK objects are reference counted and garbage collection takes place automatically. (note: this is still being implemented!)
</p>
<p>As stated above, a classes may contain data and behavior, in the form of member variables and mem- ber functions, respectively. Members are accessed by using ’dot notation’ - reference.memberdata and reference.memberfunc(). To invoke a member function of an object (assuming class Foo has a member function called compute that takes two integers and returns an integer):
</p>
<pre>// make a Foo
Foo bar;
// call compute(), store result in boo
bar.compute( 1, 2 ) =&gt; int boo;</pre>
<h2>Writing a Class
</h2>
<p>If a class has already been deﬁned in the ChucK virtual machine (either in the same ﬁle or as a public class in a different ﬁle) then it can be instantiated similar to primitive types.
</p>
<p>Unless declared public, class deﬁnitions are scoped to the shred and will not conﬂict with identically named classes in other running shreds.
</p>
<p>Classes encapsulate a set of behaviors and data. To deﬁne a new object type, the keyword class is used followed by the name of that class.
</p>
<pre>// define class X
class X
{
  // insert code here
} </pre>
<p>If a class is deﬁned as public, it is integrated into the central namespace (instead of the local one), and can be instantiated from other programs that are subsequently compiled. There can be at most one public class per ﬁle.
</p>
<pre>// define public class MissPopular
public class MissPopular
{
  // ...
}

// define non-public class Flarg
class Flarg
{
  // ...
}

// both MissPopular and Flarg can be used in this file
// only MissPopular can be used from another file
</pre>
<p>We deﬁne member data and methods to specify the data types and functionality required of the class. Members, or instance data and instance functions are associated with individual instances of a class, whereas static data and functions are only associated with the class (and shared by the instances).
</p>
<h2>Members (Instance Data + Functions)
</h2>
<p>Instance data and methods are associated with an object.
</p>
<pre>// define class X
class X
{
  // declare instance variable ’m_foo’
  int m_foo;

  // another instance variable ’m_bar’
  float m_bar;

  // yet another, this time an object
  Event m_event;

  // function that returns value of m_foo
  fun int getFoo() { return m_foo; }

  // function to set the value of m_foo
  fun void setFoo( int value ) { value =&gt; m_foo; }

  // calculate something
  fun float calculate( float x, float y )
  {
    // insert code
  }

  // print some stuff
  fun void print()
  {
    &lt;&lt;&lt; m_foo, m_bar, m_event &gt;&gt;&gt;;
  }
}

// instantiate an X
X x;

// set the Foo
x.setFoo( 5 );

// print the Foo
&lt;&lt;&lt; x.getFoo() &gt;&gt;&gt;;

// call print
x.print();</pre>
<h2>Class Constructors
</h2>
<p>In the initial release, we do not support constructors yet. However, we have a single pre-constructor. The code immediately inside a class deﬁniton (and not inside any functions) is run every time an instance of that class is created.
</p>
<pre>// define class X
class X
{
  // we can put any ChucK statements here as pre-constructor
  // initialize an instance data
  109 =&gt; int m_foo;

  // loop over stuff
  for( 0 =&gt; int i; i &lt; 5; i++ )
  {
    // print out message how silly
    &lt;&lt;&lt; "part of class pre-constructor...", this, i &gt;&gt;&gt;;
  }

  // function
  fun void doit()
  {
    // ...
  }
}

// when we instantiate X, the pre-constructor is run
X x;

// print out m_foo
&lt;&lt;&lt; x.m_foo &gt;&gt;&gt;;
</pre>
<h2>Static (Data + Functions)
</h2>
<p>Static data and functions are associated with a class, and are shared by all instances of that class – in fact, static elements can be accessed without an instance, by using the name of the class: Classname.element.
</p>
<pre>// define class X
class X
{
  // static data
  static int our_data;

  // static function
  fun static int doThatThing()
  {
    // return the data
    return our_data;
  }
}

// do not need an instance to access our_data
2 =&gt; X.our_data;

// print out
&lt;&lt;&lt; X.our_data &gt;&gt;&gt;;

// print
&lt;&lt;&lt; X.doThatThing() &gt;&gt;&gt;;

// create instances of X
X x1;
X x2;

// print out their static data - should be same
&lt;&lt;&lt; x1.our_data, x2.our_data &gt;&gt;&gt;;

// change use one
5 =&gt; x1.our_data;

// the other should be changed as well
&lt;&lt;&lt; x1.our_data, x2.our_data &gt;&gt;&gt;;
</pre>
<h2>Inheritance
</h2>
<p>Inheritance in ob ject-oriented code allows the programmer to take an existing class and extend or alter its functionality. In doing so we can create a taxonomy of classes that all share a speciﬁc set of behaviors, while implementing those behaviors in different, yet well-deﬁned, ways. We indicate that a new class inherits from another class using the extends keyword. The class from which we inherit is referred to as the parent class, and the inheriting class is the child class. The Child class receives all of the member data and functions from the parent class, although functions from the parent class may be overridden ( below ). Because the children contain the functionality of the parent class, references to instances of a child class may be assigned to a parent class reference type.
</p>
<p>For now, access modiﬁers (public, protected, private) are included but not fully implemented. Everything is public by default.
</p>
<pre>// define class X
class X
{
  // define member function
  fun void doThatThing()
  {
    &lt;&lt;&lt;"Hallo"&gt;&gt;&gt;;
  }

  // define another
  fun void hey()
  {
    &lt;&lt;&lt;"Hey!!!"&gt;&gt;&gt;;
  }

  // data
  int the_data;
}

// define child class Y
class Y extends X
{
  // override doThatThing()
  fun void doThatThing()
  {
    &lt;&lt;&lt;"No! Get away from me!"&gt;&gt;&gt;;
  }
}

// instantiate a Y
Y y;

// call doThatThing
y.doThatThing();

// call hey() - should use X’s hey(), since we didn’t override
y.hey();

// data is also inherited from X
&lt;&lt;&lt; y.the_data &gt;&gt;&gt;;
</pre>
<p>Inheritance provides us a way of efficiently sharing code between classes which perform similar roles. We can deﬁne a particular complex pattern of behavior, while changing the way that certain aspects of the behavior operate.
</p>
<pre>// parent class defines some basic data and methods
class Xfunc
{
  int x;
  fun int doSomething( int a, int b ) {
    return 0;
  }
}

// child class
// which overrides the doSomething function with an addition operation
class Xadds extends Xfunc
{
  fun int doSomething ( int a, int b )
  {
    return a + b ;
  }
}

// child class, which overrides the doSomething function with a multiply operation
class Xmuls extends Xfunc
{
  fun int doSomething ( int a, int b )
  {
    return a * b;
  }
}

// array of references to Xfunc
Xfunc @ operators[2];

// instantiate two children and assign reference to the array
new Xadds @=&gt; operators[0];
new Xmuls @=&gt; operators[1];

// loop over the Xfunc
for( 0 =&gt; int i; i &lt; operators.cap(); i++ )
{
  // doSomething, potentially different for each Xfunc
  &lt;&lt;&lt; operators[i].doSomething( 4, 5 ) &gt;&gt;&gt;;
}
</pre>
<p>Because Xmuls and Xadds each redeﬁne doSomething( int a, int b ) with their own code, we say that they have overridden the behavior of the parent class. They observe the same interface, but have potentially different implementation. This is known as polymorphism.
</p>
<h2>Overloading
</h2>
<p>Function overloading in classes is similar to that of regular functions. see functions.
</p>

</body></html>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

