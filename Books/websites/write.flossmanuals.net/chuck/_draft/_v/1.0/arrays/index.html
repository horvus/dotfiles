
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Arrays / ChucK</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for ChucK" href="/feeds/rss/book/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for ChucK" href="/feeds/atom/book/chuck/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Arrays" href="/feeds/rss/chapter/chuck/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Arrays" href="/feeds/atom/chapter/chuck/chuck/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/chuck/_draft/_v/1.0/arrays/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>ChucK</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><a href="/chuck/_draft/_v/1.0/introduction/">Introduction</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/places/">Places</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/authors/">Authors</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/installation/">Installation</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/tutorials/">Tutorials</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/hello-chuck/">Hello ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/conventions/">Conventions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-programming/">On-the-fly Programming</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/modifying-basic-patches/">Modifying Basic Patches</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lfos-and-blackholes/">LFOs and Blackholes</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/working-with-midi/">Working with MIDI</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/writing-to-disk/">Writing to Disk</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/stereo/">Stereo</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/using-osc-in-chuck/">Using OSC in ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/reference/">Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/overview/">Overview</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/the-chuck-compiler-and-virtual-machine/">The ChucK Compiler and Virtual Machine</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-commands/">On-the-fly Commands</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/types-values-and-variables/">Types, Values and Variables</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/operators-and-operations/">Operators and Operations</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/time-and-timing/">Time and Timing</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/concurrency-and-shreds/">Concurrency and Shreds</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/events/">Events</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/control-structures/">Control Structures</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/functions/">Functions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/objects/">Objects</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/arrays/">Arrays</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzers/">Unit Analyzers</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/standard-libraries/">Standard Libraries</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/event-reference/">Event Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/other-objects-reference/">Other Objects Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugenreference/">UgenReference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-generators/">Unit Generators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-oscillators/">Ugens: Oscillators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-stkinstruments/">Ugens: STKInstruments</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzer-reference/">Unit Analyzer Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/extending-chuck/">Extending ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lick-library-for-chuck/">LiCK: Library for ChucK</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <html lang="en"><head><title>Arrays</title></head><body><h1>Arrays
</h1>
<p>Arrays are used represent N-dimensional ordered sets of data (of the same type). This sections speci&#64257;es how arrays are declared and used in ChucK. Some quick notes:
</p>
<ul><li>Arrays can be indexed by integer (0-indexed)</li>
  <li>Any array can also be used as an associative map, indexed by strings</li>
  <li>It is important to note that the integer-indexed portion and the associative portion of an array are stored in separate namespaces</li>
  <li>Arrays are objects (see objects and classes), and will behave similarly under reference assign- ment and other operations common to objects</li>
</ul><h2>Declaration
</h2>
<p>Arrays can be declared in the following way:
</p>
<pre>// declare 10 element array of int, called foo
int foo[10];

// since array of int (primitive type), the contents
// are automatically initialized to 0</pre>
<p>Arrays can also be initialized:
</p>
<pre>// chuck intializer to array reference
[ 1, 1, 2, 3, 5, 8 ] @=&gt; int foo[];</pre>
<p>In the above code, there are several things to note.
</p>
<ul><li>Initializers must contain the same or similar types. the compiler will attempt to &#64257;nd the highest common base type of all the elements. if no such common element is found, an error is reported.</li>
  <li>The type of the initializer [ 1, 1, 2, 3, 5, 8 ] is int[ ]. The intializer is an array that can be used directly when arrays are expected.</li>
  <li>The at-chuck operator (@=&gt; ) means assignment, and is discussed at length in the Operators and Operations section.</li>
  <li>int foo[ ] is declaring an empty reference to an array. the statement assigns the initializer array to foo.</li>
  <li>Arrays are objects.</li>
</ul><p>When declaring an array of ob jects, the ob jects inside the array are automatically instantiated.
</p>
<pre>// objects in arrays are automatically instantiated
Object group[10];</pre>
<p>If you only want an array of object references:
</p>
<pre>// array of null object references
Object @ group[10]; </pre>
<p>The above examples are 1-dimensional arrays (or vectors). Coming up next are multi-dimensional arrays!
</p>
<h2>Multi-Dimensional Arrays
</h2>
<p>Here's a declaration of a multi-dimensional array:
</p>
<pre>// declare 4 by 6 by 8 array of float
float foo3D[4][6][8];</pre>
<p>Initializing a multi-dimensional array works in a similar way:
</p>
<pre>// declare 2 by 2 array of int
[ [1,3], [2,4] ] @=&gt; int bar[][];</pre>
<p>In the above code, note the two [ ][ ] since we make a matrix.
</p>
<h2>Lookup
</h2>
<p>Elements in an array can be accessed using [ ] (in the appropriate quantities).
</p>
<p>
</p>
<pre>// declare an array of floats
[ 3.2, 5.0, 7 ] @=&gt; float foo[];

// access the 0th element (debug print)
&lt;&lt;&lt; foo[0] &gt;&gt;&gt;; // hopefully 3.2

// set the 2nd element
8.5 =&gt; foo[2];</pre>
<p>Looping over the elements of an array:
</p>
<pre>// array of floats again
[ 1, 2, 3, 4, 5, 6 ] @=&gt; float foo[];
// loop over the entire array
for( 0 =&gt; int i; i &lt; foo.cap(); i++ ) {
  // do something (debug print)
  &lt;&lt;&lt; foo[i] &gt;&gt;&gt;;
}
</pre>
<p>Accessing multi-dimensional array:
</p>
<pre>// 2D array
int foo[4][4];

// set an element
10 =&gt; foo[2][2];</pre>
<p>If the index exceeds the bounds of the array in any dimension, an exception is issued and the current shred is halted.
</p>
<pre>// array capacity is 5
int foo[5];

// this should cause ArrayOutOfBoundsException
// access element 6 (index 5)
&lt;&lt;&lt; foo[5] &gt;&gt;&gt;;</pre>
<p>A longer program: otf_06.ck from the examples folder:
</p>
<pre>// the period
.5::second =&gt; dur T;
// synchronize to period (for on-the-fly synchronization)
T - (now % T) =&gt; now;
// our patch
SinOsc s =&gt; JCRev r =&gt; dac;
// initialize
.05 =&gt; s.gain;
.25 =&gt; r.mix;
// scale (pentatonic; in semitones)
[ 0, 2, 4, 7, 9 ] @=&gt; int scale[];
// infinite time loop
while( true ) {
  // pick something from the scale
  scale[ Math.rand2(0,4) ] =&gt; float freq;
  // get the final freq
  Std.mtof( 69 + (Std.rand2(0,3)*12 + freq) ) =&gt; s.freq;
  // reset phase for extra bandwidth
  0 =&gt; s.phase;
  // advance time
  if( Std.randf() &gt; -.5 ) .25::T =&gt; now;
  else .5::T =&gt; now;
}
</pre>
<h2>Associative Arrays
</h2>
<p>Any array can be used also as an associative array, indexed on strings. Once the regular array is instantiated, no further work has to be done to make it associative as well - just start using it as such.
</p>
<pre>// declare regular array (capacity doesn&#8217;t matter so much)
float foo[4];

// use as integer-indexed array
2.5 =&gt; foo[0];

// use as associative array
4.0 =&gt; foo["yoyo"];

// access as associative (print)
&lt;&lt;&lt; foo["yoyo"] &gt;&gt;&gt;;

// access empty element
&lt;&lt;&lt; foo["gaga"] &gt;&gt;&gt;; // -&gt; should print 0.0</pre>
<p>It is important to note (again), that the address space of the integer portion and the associative portion of the array are completely separate. For example:
</p>
<pre>// declare array
int foo[2];

// put something in element 0
10 =&gt; foo[0];

// put something in element "0"
20 =&gt; foo["0"];

// this should print out 10 20
&lt;&lt;&lt; foo[0], foo["0"] &gt;&gt;&gt;;</pre>
<p>The capacity of an array relates only to the integer portion of it. An array with an integer portion of capacity 0, for example, can still have any number of associative indexes.
</p>
<pre>// declare array of 0 capacity
int foo[0];

// put something in element "here"
20 =&gt; foo["here"];

// this should print out 20
&lt;&lt;&lt; foo["here"] &gt;&gt;&gt;

// this should cause an exception
&lt;&lt;&lt; foo[0] &gt;&gt;&gt;</pre>
<p>Note: The associative capacity of an array is not de&#64257;ned, so objects used in the associative names- pace must be explicitly instantiated, in contrast to those in the integer namespace.
</p>
<p>Accessing an uninstantiated element of the associate array will return a null reference. Please check the class documentation page for an explanation of ChucK objects and references.
</p>
<pre>class Item {
  float weight;
}
Item box[10];

// integer indices ( up to capacity ) are pre-instantiated.
1.2 =&gt; box[1].weight;

// instantiate element "lamp";
new Item @=&gt; box["lamp"];

// access allowed to "lamp"
2.0 =&gt; box["lamp"].weight;

// access causes a NullPointerException
2.0 =&gt; box["sweater"].weight; </pre>
<h2>Array Assignment
</h2>
<p>Arrays are ob jects. So when we declare an array, we are actually (1) declaring a reference to array (reference variable) and (2) instantiating a new array and reference assigned to the variable. A (null) reference is a reference variable that points to no object or null. A null reference to an array can be created in this fasion:
</p>
<pre>// declare array reference (by not specifying a capacity)
int foo[];

// we can now assign any int[] to foo
[ 1, 2, 3 ] @=&gt; foo;

// print out 0th element
&lt;&lt;&lt; foo[0] &gt;&gt;&gt;;
</pre>
<p>This is also useful in declaring functions that have arrays as arguments or return type.
</p>
<pre>// our function
fun void print( int bar[] ) {
  // print it
  for( 0 =&gt; int i; i &lt; bar.cap(); i++ )
  &lt;&lt;&lt; bar[0] &gt;&gt;&gt;;
}

// we can call the function with a literal
print( [ 1, 2, 3, 4, 5 ] );

// or can we can pass a reference variable
int foo[10];
print( foo );</pre>
<p>Like other objects, it is possible make multiple references to a single array. Like other ob jects, all assignments are reference assignments, meaning the contents are NOT copied, only a reference to array is duplicated.
</p>
<pre>// our single array
int the_array[10];

// assign reference to foo and bar
the_array =&gt; int foo[] =&gt; int bar[];

// (the_array, foo, and bar now all reference the same array)
// we change the_array and print foo...
// they reference the same array, changing one is like changing the other
5 =&gt; the_array[0];
&lt;&lt;&lt; foo[0] &gt;&gt;&gt;; // should be 5</pre>
<p>It is possible to reference sub-sections of multi-dimensional arrays.
</p>
<pre>// a 3D array
int foo3D[4][4][4];

// we can make a reference to a sub-section
foo3D[2] =&gt; int bar[][];

// (note that the dimensions must add up!)</pre>

</body></html>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

