
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Hello-Chuck / ChucK</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for ChucK" href="/feeds/rss/book/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for ChucK" href="/feeds/atom/book/chuck/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter Hello ChucK" href="/feeds/rss/chapter/chuck/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter Hello ChucK" href="/feeds/atom/chapter/chuck/chuck/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/chuck/_draft/_v/1.0/hello-chuck/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>ChucK</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><a href="/chuck/_draft/_v/1.0/introduction/">Introduction</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/places/">Places</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/authors/">Authors</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/installation/">Installation</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/tutorials/">Tutorials</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/hello-chuck/">Hello ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/conventions/">Conventions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-programming/">On-the-fly Programming</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/modifying-basic-patches/">Modifying Basic Patches</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lfos-and-blackholes/">LFOs and Blackholes</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/working-with-midi/">Working with MIDI</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/writing-to-disk/">Writing to Disk</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/stereo/">Stereo</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/using-osc-in-chuck/">Using OSC in ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/reference/">Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/overview/">Overview</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/the-chuck-compiler-and-virtual-machine/">The ChucK Compiler and Virtual Machine</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-commands/">On-the-fly Commands</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/types-values-and-variables/">Types, Values and Variables</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/operators-and-operations/">Operators and Operations</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/time-and-timing/">Time and Timing</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/concurrency-and-shreds/">Concurrency and Shreds</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/events/">Events</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/control-structures/">Control Structures</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/functions/">Functions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/objects/">Objects</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/arrays/">Arrays</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzers/">Unit Analyzers</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/standard-libraries/">Standard Libraries</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/event-reference/">Event Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/other-objects-reference/">Other Objects Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugenreference/">UgenReference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-generators/">Unit Generators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-oscillators/">Ugens: Oscillators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-stkinstruments/">Ugens: STKInstruments</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzer-reference/">Unit Analyzer Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/extending-chuck/">Extending ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lick-library-for-chuck/">LiCK: Library for ChucK</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <p>Hello ChucK</p>
<h1>Hello ChucK </h1>
<p><em>This tutorial was written for the command line version of ChucK (currently the most stable and widely supported). Other ways of running ChucK include using the miniAudicle (<a href="http://audicle.cs.princeton.edu/mini/">download and documentation</a>) and the Audicle (in pre-pre-alpha).&nbsp; The ChucK code is the same, but the way to run them differs, depending the ChucK system. </em> <br /><br />The first thing we are going to do is do generate a sine wave and send it to the speaker so we can hear it. We can do this easily in ChucK by connecting audio processing modules (unit generators) and having them work together to compute the sound.</p>
<p>We start with a blank ChucK program and add the following line of code:</p>
<pre>// connect sine oscillator to D/A convertor (sound card)
SinOsc s =&gt; dac;</pre>
<p>NOTE: by default, a ChucK program starts executing from the first instruction in the top-level (global) scope.</p>
<p>The above does several things:</p>
<ol>
<li>It creates a new unit generator of type `SinOsc' (sine oscillator), and stores its reference in variable `s'.</li>
<li>`dac' (D/A convertor) is a special unit generator (created by the system) which is our abstraction for the underlying audio interface.&nbsp;</li>
<li>We are using the ChucK operator (=&gt;) to ChucK `s' to `dac'. In ChucK, when one unit generator is ChucKed to another, we connect them. We can think of this line as setting up a data flow from `s', a signal generator, to `dac', the sound card/speaker. Collectively, we will call this a `patch'. </li>
</ol>
<p>The above is a valid ChucK program, but all it does so far is make the connection -- if we ran this program, it would exit immediately. In order for this to do what we want, we need to take care of one more very important thing: time. Unlike many other languages, we don't have to explicitly say "play" to hear the result. In ChucK, we simply have to "allow time to pass" for data to be computed. As we will see, time and audio data are both inextricably related in ChucK (as in reality), and separated in the way they are manipulated. But for now, let's generate our sine wave and hear it by adding one more line:</p>
<pre>// connect sine oscillator to D/A convertor (sound card)
SinOsc s =&gt; dac;
// allow 2 seconds to pass
2::second =&gt; now;</pre>
<p>Let's now run this (assuming you saved the file as `foo.ck'):</p>
<pre>chuck foo.ck</pre>
<p>This would cause the sound to play for 2 seconds (the :: operator simply multiplies the arguments), during which time audio data is processed (and heard), after which the program exits (since it has reached the end). For now, we can just take the second line of code to mean ``let time pass for 2 seconds (and let audio compute during that time)''. If you want to play it indefinitely, we could write a loop:</p>
<pre>// connect sine oscillator to D/A convertor (sound card) SinOsc s =&gt; dac;
// loop in time
while( true ){
  2::second =&gt; now;
}</pre>
<p>In ChucK, this is called a `time-loop' (in fact this particular one is an `infinite time loop'). This program executes (and generate/process audio) indefinitely. Try running this program.</p>
<p>IMPORTANT: perhaps more important than how to run ChucK is how to stop ChucK.&nbsp; To stop a ongoing ChucK program from the command line, hit (ctrl&nbsp; c).</p>
<p>So far, since all we are doing is advancing time; it doesn't really matter (for now) what value we advance time by - (we used 2::second here, but we could have used any number of `ms', `second', `minute', `hour', `day', and even `week'), and the result would be the same. It is good to keep in mind from this example that almost everything in ChucK happens naturally from the timing.</p>
<p>Now, let's try changing the frequency randomly every 100ms:</p>
<pre>// make our patch
SinOsc s =&gt; dac;
// time-loop, in which the Osc&rsquo;s frequency is changed every 100 ms
while( true ) {
  100::ms =&gt; now;
  Std.rand2f(30.0, 1000.0) =&gt; s.freq;
}
</pre>
<p>This should sound like computer mainframes in old sci-fi movies. Two more things to note here. (1) We are advancing time inside the loop by 100::ms durations. (2) A random value between 30.0 and 1000.0 is generated and 'assigned' to the oscillator's frequency, every 100::ms.</p>
<p>Go ahead and run this (again replace foo.ck with your filename):</p>
<pre>chuck foo.ck</pre>
<p>Play with the parameters in the program. Change 100::ms to something else (like 50::ms or 500::ms, or 1::ms, or 1::samp(every sample)), or change 1000.0 to 5000.0.</p>
<p>Run and listen:</p>
<pre>chuck foo.ck</pre>
<p>Once things work, hold on to this file - we will use it again soon. <br /><br />Concurrency in ChucK: </p>
<p>Now let's write another (slightly longer) program:</p>
<pre>// impulse to filter to dac
Impulse i =&gt; BiQuad f =&gt; dac;
// set the filter&rsquo;s pole radius
.99 =&gt; f.prad;
// set equal gain zero&rsquo;s
1 =&gt; f.eqzs;
// initialize float variable
0.0 =&gt; float v;
// infinite time-loop
while( true ) {
  // set the current sample/impulse
  1.0 =&gt; i.next;
  // sweep the filter resonant frequency
  Std.fabs(Math.sin(v)) * 4000.0 =&gt; f.pfreq;
  // increment v
  v + .1 =&gt; v;
  // advance time
  100::ms =&gt; now;
}
</pre>
<p>Name this moe.ck, and run it:</p>
<pre>%&gt;chuck moe.ck</pre>
<p>Now, make two copies of moe.ck - larry.ck and curly.ck. Make the following modifications: </p>
<ol>
<li>Change larry.ck to advance time by 99::ms (instead of 100::ms)</li>
<li>Change curly.ck to advance time by 101::ms (instead of 100::ms)</li>
<li>Optionally, change the 4000.0 to something else (like 400.0 for curly) </li>
</ol>
<p>Run all three in parallel:</p>
<pre>%&gt;chuck moe.ck larry.ck curly.ck</pre>
<p>What you hear (if all goes well) should be 'phasing' between moe, larry, and curly, with curly emitting the lower-frequency pulses. <br /><br />ChucK supports sample-synchronous concurrency via the ChucK timing mechanism. Given any number of source files that uses the timing mechanism above, the ChucK VM can use the timing information to automatically synchronize all of them. Furthermore, the concurrency is 'sample-synchronous', meaning that inter-process audio timing is guaranteed to be precise to the sample. The audio samples generated by our three stooges in this examples are completely synchronized. Note that each process do not need to know about each other - it only has to deal with time locally. The VM will make sure things happen correctly and globally. </p>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

