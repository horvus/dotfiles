
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Lick-Library-For-Chuck / ChucK</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for ChucK" href="/feeds/rss/book/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for ChucK" href="/feeds/atom/book/chuck/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter LiCK: Library for ChucK" href="/feeds/rss/chapter/chuck/chuck/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter LiCK: Library for ChucK" href="/feeds/atom/chapter/chuck/chuck/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/chuck/_draft/_v/1.0/lick-library-for-chuck/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>ChucK</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><a href="/chuck/_draft/_v/1.0/introduction/">Introduction</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/places/">Places</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/authors/">Authors</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/installation/">Installation</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/tutorials/">Tutorials</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/hello-chuck/">Hello ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/conventions/">Conventions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-programming/">On-the-fly Programming</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/modifying-basic-patches/">Modifying Basic Patches</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lfos-and-blackholes/">LFOs and Blackholes</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/working-with-midi/">Working with MIDI</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/writing-to-disk/">Writing to Disk</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/stereo/">Stereo</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/using-osc-in-chuck/">Using OSC in ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/reference/">Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/overview/">Overview</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/the-chuck-compiler-and-virtual-machine/">The ChucK Compiler and Virtual Machine</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/on-the-fly-commands/">On-the-fly Commands</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/types-values-and-variables/">Types, Values and Variables</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/operators-and-operations/">Operators and Operations</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/time-and-timing/">Time and Timing</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/concurrency-and-shreds/">Concurrency and Shreds</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/events/">Events</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/control-structures/">Control Structures</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/functions/">Functions</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/objects/">Objects</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/arrays/">Arrays</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzers/">Unit Analyzers</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/standard-libraries/">Standard Libraries</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/event-reference/">Event Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/other-objects-reference/">Other Objects Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugenreference/">UgenReference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-generators/">Unit Generators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-oscillators/">Ugens: Oscillators</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/ugens-stkinstruments/">Ugens: STKInstruments</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/unit-analyzer-reference/">Unit Analyzer Reference</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/extending-chuck/">Extending ChucK</a></li>
    
   
    
      <li><a href="/chuck/_draft/_v/1.0/lick-library-for-chuck/">LiCK: Library for ChucK</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <html lang="en"><head><title>LiCK: Library for ChucK</title></head><body><h1>&#160;LiCK&#160; Library for ChucK
</h1>
<h2>Summary
</h2>
<p> LiCK, a Library for ChucK, was born out of frequent requests on the chuck-users mailing list to have a shared repository for various bits of reusable ChucK code.
</p>
<p>&#160;LiCK currently provides
</p>
<ul><li> int, float, and Object Lists</li>
  <li>Functor classes
  <br></li>
  <li>Interpolating functions</li>
  <li>Composite procedures for building loops
  <br></li>
  <li>An Assert class for writing unit tests
  <br></li>
</ul><h2>Download and installation
</h2>
<p>To download LiCK, visit the LiCK repository page on GitHub
</p>
<p><a title="http://github.com/heuermh/lick" href="http://github.com/heuermh/lick">http://github.com/heuermh/lick</a>
</p>
<p>Use git to clone to a local repository, or use the download link for a zip archive or a tarball.
</p>
<p>To install and use LiCK in your own ChucK scripts, use the <a title="import.ck" href="http://github.com/heuermh/lick/blob/master/import.ck">import.ck</a> script
</p>
<pre><code>$ chuck --loop &amp;

$ chuck + import.ck
...
"LiCK imported." : (string)

$ chuck + my-script.ck</code>
</pre>
<p>If you don't want to include all of LiCK, use Machine.add(file name) to include individual LiCK source files.&#160; Do be careful to include the LiCK source files of dependencies as well.
</p>
<pre>Machine.add("FloatFunction.ck");
Machine.add("Interpolation.ck");
Machine.add("ExponentialOut.ck");
</pre>
<p>Hopefully, a future version of ChucK will support a proper include and namespace mechanism, simplifying the use of external libraries like LiCK.
  <br></p>
<h2>Contributing to LiCK
</h2>
<p>
</p>
<p>LiCK is welcome to any contributions! Don&#8217;t worry too much about style or formatting, that can all be worked out later.
</p>
<p>Please add the license header (<a title="HEADER.txt" href="http://github.com/heuermh/lick/blob/master/HEADER.txt"><span class="caps">HEADER</span>.txt</a>) to the top of each file and provide an author statement if you wish.
</p>
<p>If you add classes to LiCK, be sure to update import.ck with the new classes and their dependencies in the correct order. If you have unit tests for those classes, be sure to update <a title="tests.ck" href="http://github.com/heuermh/lick/blob/master/tests.ck">tests.ck</a> with the new unit tests.
</p>
<p>Any suggestions as to where examples should live in the repository are also welcome.
</p>
<h2>int, float, and Object Lists
</h2>
<p>For those more comfortable with Smalltalk, C#, or Java-style collections than arrays, LiCK provides int, float, and Object Lists.
</p>
<p>Lists are created and sized in manner similar to that of ChucK arrays
</p>
<pre>// create a new object list
ArrayList list;

// initially the size of the list is zero
Assert.assertTrue(0, list.size());
Assert.assertTrue(list.isEmpty());

// pass an argument to the size method to resize the array
list.size(16);
Assert.assertTrue(16, list.size());
Assert.assertFalse(list.isEmpty());

list.clear();
Assert.assertTrue(0, list.size());
Assert.assertTrue(list.isEmpty());

// or add elements to the list to resize it dynamically
Object foo;
list.add(foo);
Assert.assertTrue(1, list.size());
Assert.assertFalse(list.isEmpty());
</pre>
<p>Indexed access is provided via get and set methods
</p>
<pre>ArrayList list;
Object foo;
Object bar;
Object baz;

list.set(0, foo);
list.set(1, bar);
list.set(2, baz);

Assert.assertEquals(foo, list.get(0));
Assert.assertEquals(bar, list.get(1));
Assert.assertEquals(baz, list.get(2));
</pre>
<p>&#160;All the elements in a list can be accessed using a for loop over the indices
</p>
<pre>for (0 =&gt; int i; i &lt; list.size(); i++)
{
  list.get(i) @=&gt; Object value;
  Assert.assertNotNull(value);
}</pre>
<p>an Iterator
  <br></p>
<pre>list.iterator() @=&gt; Iterator iterator;
while (iterator.hasNext())
{
  iterator.next() @=&gt; Object value;
  Assert.assertNotNull(value);
}
</pre>
<p>&#160;or an internal iterator via any of the forEach methods
</p>
<pre>class AssertNotNull extends UnaryProcedure
{
  fun void run(Object value)
  {
    Assert.assertNotNull(value);
  }
}

AssertNotNull assertNotNull;
list.forEach(assertNotNull);
</pre>
<p>Int and float list implementations also provide similar behaviour.
</p>
<pre>IntArrayList intList;
intList.add(42);
intList.set(1, -42);
Assert.assertEquals(42, intList.get(0));
Assert.assertEquals(-42, intList.get(1));

FloatArrayList floatList;
floatList.size(16);
floatList.assign(3.14);
floatList.iterator() @=&gt; Iterator iterator;
while (iterator.hasNext())
{
  iterator.next() =&gt; float value;
  Assert.assertEquals(3.14, value, 0.001);
}

</pre>
<h2>Functor classes
  <br></h2>
<p>LiCK provides a suite of Functor classes [1], objects that act as functions or procedures.&#160; Functor objects can be passed to methods, as shown above in the ArrayList.forEach(UnaryProcedure) example.
</p>
<p>A procedure accepts argument(s)
</p>
<pre>class Write extends UnaryProcedure
{
  fun void run(Object value)
  {
    &lt;&lt;&lt;value&gt;&gt;&gt;;
  }
}
</pre>
<p> A function accepts argument(s) and returns a value
</p>
<pre>class Multiply extends FloatFloatFunction
{
  fun float evaluate(float value0, float value1)
  {
    return value0 * value1;
  }
}
</pre>
<p>A predicate accepts argument(s) and returns a boolean value
</p>
<pre>class AllPositive extends IntIntIntPredicate
{
  fun int test(int value0, int value1, int value2)
  {
    return (value &gt; 0) &amp;&amp; (value1 &gt; 0) &amp;&amp; (value2 &gt; 0);
  }
}
</pre>
<p>Functor classes are provided for int, float, and Object arguments, in varying number of arguments.&#160; For Object functors, the prefix indicates the number of arguments, i.e. Unary is 1 argument, Binary is 2 arguments, Tertiary is 3 arguments, Quaternary is 4 arguments.&#160; Thus a QuaternaryFunction accepts 4 Object arguments and returns an Object value.
</p>
<p>Similarly, for int and float functors, the number of prefix repeats is the number of arguments, e.g. an IntIntIntIntFunction accepts four int arguments and returns an int value.
  <br></p>
<p>For convenience, all of the functions in Math are implemented as functors
</p>
<pre>// functors can be evaluated against scalar values
Log10 log10;
log10.evaluate(3.14) =&gt; float result;

// ...however, they really show their utility when you can pass them to a method
ArrayList list;
list.size(16);
list.assign(3.14);
list.transform(log10);  // log10 is used to transform all the values in list
</pre>
<h2>Interpolating functions
</h2>
<p>Interpolating functions.
  <br></p>
<h2>Composite procedures
</h2>
<p>Composite procedures.
</p>
<h2>Sample-based drum machine emulators
</h2>
<p>LiCK provides classes that trigger samples for various vintage drum machines, such as the Oberheim DMX (<a title="OberheimDmx.ck" href="http://github.com/heuermh/lick/blob/master/OberheimDmx.ck">OberheimDmx.ck</a>) and the Roland TR-909 (<a title="RolandTr909.ck" href="http://github.com/heuermh/lick/blob/master/RolandTr909.ck">RolandTr909.ck</a>). To use these classes, find or record samples of each instrument and copy them to the paths in the source code, or alternatively edit the paths in the source code to match your samples directory.
</p>
<p>For example, the samples directory layout for the Roland CR-78 defaults to
</p>
<pre><code>samples/RolandCr78/Claves.wav
samples/RolandCr78/ClosedHat.wav
samples/RolandCr78/CowBell.wav
samples/RolandCr78/Crash.wav
samples/RolandCr78/Guiro.wav
samples/RolandCr78/HighBongo.wav
samples/RolandCr78/Kick.wav
samples/RolandCr78/LowBongo.wav
samples/RolandCr78/LowConga.wav
samples/RolandCr78/Maracas.wav
samples/RolandCr78/OpenHat.wav
samples/RolandCr78/Rim.wav
samples/RolandCr78/Snare.wav
samples/RolandCr78/Tamborine.wav</code> </pre>
<p> Each sample is triggered by an IntProcedure that accepts a MIDI velocity value (0 .. 127) mapped to gain. The sample procedures also have rate and maxGain fields. Call these procedures directly in ChucK code
</p>
<pre><code>RolandCr78 cr78;
while (true)
{
  cr78.kick.run(127);
  400::ms =&gt; now;
  cr78.snare.run(80);
  400::ms =&gt; now;
}</code> </pre>
<p>or use a MIDI controller class, such as the nanoPAD (<a title="NanoPad.ck" href="http://github.com/heuermh/lick/blob/master/NanoPad.ck">NanoPad.ck</a>)
</p>
<pre><code>NanoPad nanoPad;
RolandCr78 cr78;

// assign sample triggers to nanoPAD buttons
cr78.kick @=&gt; nanoPad.button1;
cr78.snare @=&gt; nanoPad.button2;
cr78.closedHat @=&gt; nanoPad.button3;

// open nanoPAD MIDI device 0
nanoPad.open(0);</code> </pre>
<h2>Unit tests
</h2>
<p>Unit testing is a software verification, validation, and documentation method in which a programmer tests if individual units of source code are fit for use [2].&#160; LiCK provides support for unit testing via its <a title="Assert.ck" href="http://github.com/heuermh/lick/blob/master/Assert.ck">Assert.ck</a> class and the following implementation pattern.
  <br></p>
<p>ChucK currently does not support calling methods via reflection, so unit tests in LiCK should follow the pattern described below to be executed properly.
</p>
<p>Each unit test should be a class which extends Assert.ck
</p>
<pre><code>class MyUnitTest extends Assert
{
}</code> </pre>
<p>Next, provide test methods that utilize assertXxx methods to make assertions about the class under test. Assertion messages are optional.
</p>
<pre><code>class MyUnitTest extends Assert
{

  fun void testFoo()
  {
    assertTrue("this should be true", true);
  }

  fun void testBar()
  {
    assertFalse("this should be false", false);
  }
}</code>
</pre>
<p>Provide an pseudo-constructor method that sets exitOnFailure as desired, calls each of the testXxx methods, and prints out a message to stdout on success
</p>
<pre><code>class MyUnitTest extends Assert
{
  {
    true =&gt; exitOnFailure;
    testFoo();
    testBar();
    &lt;&lt;&lt;"MyUnitTest ok"&gt;&gt;&gt;;
  }

  fun void testFoo()
  {
    assertTrue("this should be true", true);
  }

  fun void testBar()
  {
    assertFalse("this should be false", false);
  }
}</code>
</pre>
<p>Finally, instantiate the unit test and allow ChucK time to pass.
</p>
<pre><code>class MyUnitTest extends Assert
{
  {
    true =&gt; exitOnFailure;
    testFoo();
    testBar();
    &lt;&lt;&lt;"MyUnitTest ok"&gt;&gt;&gt;;
  }

  fun void testFoo()
  {
    assertTrue("this should be true", true);
  }

  fun void testBar()
  {
    assertFalse("this should be false", false);
  }
}

MyUnitTest myUnitTest;
1::second =&gt; now;</code>
</pre>
<p> See <a href="http://www.junit.org/">http://www.junit.org</a> for further documentation on assertions and unit testing in general.
</p>
<p>For examples of actual unit tests, see e.g. <a title="ArrayListTest.ck" href="http://github.com/heuermh/lick/blob/master/ArrayListTest.ck">ArrayListTest.ck</a>, <a title="FloatArrayListTest.ck" href="http://github.com/heuermh/lick/blob/master/FloatArrayListTest.ck">FloatArrayListTest.ck</a>, or <a title="IntArrayListTest.ck" href="http://github.com/heuermh/lick/blob/master/IntArrayListTest.ck">IntArrayListTest.ck</a> in LiCK.
  <br></p>
<h2>License
</h2>
<p>
</p>
<pre>LiCK  Library for ChucK.
Copyright (c) 2007-2010 held jointly by the individual authors.

LiCK is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

LiCK is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
</pre>
<h2>&#160; References
</h2>
<p>1, <a title="http://c2.com/cgi/wiki?FunctorObject" href="http://c2.com/cgi/wiki?FunctorObject">http://c2.com/cgi/wiki?FunctorObject </a>
  <br></p>
<p>2,&#160; <a title="http://en.wikipedia.org/wiki/Unit_testing" href="http://en.wikipedia.org/wiki/Unit_testing">http://en.wikipedia.org/wiki/Unit_testing</a>
  <br></p>
</body></html>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

