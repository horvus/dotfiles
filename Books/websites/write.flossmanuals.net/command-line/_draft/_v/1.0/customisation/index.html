
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: Customisation / COMMAND LINE</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for COMMAND LINE" href="/feeds/rss/book/command-line/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for COMMAND LINE" href="/feeds/atom/book/command-line/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter CUSTOMISATION" href="/feeds/rss/chapter/command-line/command-line/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter CUSTOMISATION" href="/feeds/atom/chapter/command-line/command-line/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/command-line/_draft/_v/1.0/customisation/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>COMMAND LINE</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>INTRODUCTION</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/introduction/">INTRODUCTION</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/about-this-manual/">ABOUT THIS  MANUAL</a></li>
    
   
    
      <li><b>BASICS</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/getting-started/">GETTING STARTED</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/beginning-syntax/">BEGINNING SYNTAX</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/moving-around/">MOVING AROUND</a></li>
    
   
    
      <li><b>COMMANDS</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/basic-commands/">BASIC COMMANDS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/standard-files/">STANDARD FILES</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/cut-down-on-typing/">CUT DOWN ON TYPING</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/superusers/">SUPERUSERS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/redirection/">REDIRECTION</a></li>
    
   
    
      <li><b>ADVANCED-ISH</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/multiple-files/">MULTIPLE FILES</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/searching-for-files/">SEARCHING FOR FILES</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/piping/">PIPING</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/processes/">PROCESSES</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/file-structure/">FILE STRUCTURE</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/command-history/">COMMAND HISTORY</a></li>
    
   
    
      <li><b>ADVANCED</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/permissions/">PERMISSIONS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/interactive-editing/">INTERACTIVE EDITING</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/checking-exit/">CHECKING EXIT</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/sub-commands/">SUB COMMANDS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/moving-again/">MOVING AGAIN</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/customisation/">CUSTOMISATION</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/parameter-substitution/">PARAMETER SUBSTITUTION</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/gnuscreen/">GNUSCREEN</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/ssh/">SSH</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/installing-software/">INSTALLING SOFTWARE</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/making-your-own-interpreter/">MAKING YOUR OWN INTERPRETER</a></li>
    
   
    
      <li><b>TEXT EDITORS</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/text-editors/">TEXT EDITORS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/nano/">NANO</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/vim/">VIM</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/emacs/">EMACS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/kedit/">KEDIT</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/gedit/">GEDIT</a></li>
    
   
    
      <li><b>SCRIPTING</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/scripting/">SCRIPTING</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/maintaining-scripts/">MAINTAINING SCRIPTS</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/other-languages/">OTHER LANGUAGES</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/sed/">SED</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/awk/">AWK</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/regular-expressions/">REGULAR EXPRESSIONS</a></li>
    
   
    
      <li><b>SCRIPTING LANGUAGES</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/perl/">PERL</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/python/">PYTHON</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/ruby/">RUBY</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/gnu-octave/">GNU OCTAVE</a></li>
    
   
    
      <li><b>APPENDICES</b></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/glossary/">GLOSSARY</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/command-quickie/">COMMAND QUICKIE</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/outline/">OUTLINE</a></li>
    
   
    
      <li><a href="/command-line/_draft/_v/1.0/credits/">CREDITS</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <p>CommandLineIntro: Customization</p>
<h1>Useful customizations</h1>
<p>You can really make the shell your own, adapting every facet to the way you work (and even the different ways you work from week to week). In this section we'll look at quick changes you can make. Scripting, a way to extend and combine the functions offered by the shell, will be introduced later. </p>
<h2>Variables<strong></strong></h2>
<p>Each command-line shell has the concept of a <em>variable</em>.&nbsp; Variables consist of two parts: the variable&nbsp; <em>name</em> and the variable <em>value</em>.&nbsp; If I were to say "x=6", "x" is the name of the variable, and "6" is the value.&nbsp; To see the value of a variable, one puts a dollar sign in front of the variable name.&nbsp; Here is a very simple example. <br /><br /></p>
<pre>$ <strong>x=6</strong>
$ <strong>echo $x</strong>
6
$</pre>
<p>Above, the first line <em>assigns</em> the value 6 to the variable x and the second line asks the shell to display the value of x. Note that we put the dollar sign in front of the variable name when we want to see its value, but we <span style="text-decoration: underline;">never</span> use the dollar sign when assigning the value. </p>
<p>So anything starting with a dollar sign ($) is interpreted by the shell as a variable. One variable sneaked into an earlier section on exit status: you saw that <strong>$?</strong> contains the exit status of the previous command.</p>
<p>Now, what kind of useful things can we do with variables? A common use is to save typing. Say that the files for the project you're working on all week are located in a directory called <em>/home/jsmith/projects/foo/confoobulator</em>.&nbsp; <em>/home/jsmith/projects/foo/confoobulator</em> is a lot to type, but you can save typing by assigning the value to a variable.</p>
<pre>$<strong> p=/home/jsmith/projects/foo/confoobulator</strong></pre>
<p>Now you can change to my project directory by typing</p>
<pre>$<strong> cd $p</strong></pre>
<p>You can remove the value of a variable by setting it to an empty string:</p>
<pre>$<strong> VAR=""</strong></pre>
<p>or by issuing the <code>unset</code> builtin command: </p>
<pre>$<strong> unset VAR</strong>
</pre>
<h2>Ordinary Variables and Environment Variables</h2>
<p>Most shells (including the GNU bash shell) recognize two kinds of variables: <em>ordinary variables and environment variables</em>.&nbsp; An ordinary variable is available to your shell, but not to any programs that your shell runs.&nbsp; On the other hand, an environment variable is available to both your shell and all of the commands it runs.&nbsp; One can turn an ordinary variable into an environment variable by using the <code>export</code> command.&nbsp; If I were to type</p>
<pre>$ <strong>export p</strong></pre>
<p>The (ordinary) variable <strong>p</strong> becomes an environment variable, and can be used by any command that my shell runs.</p>
<h2>Shell Variables </h2>
<p>The shell provides a lot of its own variables. For instance, the output of the <code>whoami</code> command (which was shown near the beginning of the book) is the same as $USER. Your home directory is stored in $HOME. You can see any variable's value by echoing it:</p>
<pre>$ <strong>echo $HOME</strong></pre>
<p>The first dollar sign shown in that example is just a prompt; it has nothing to do with variables.</p>
<p>You can see the shell's built-in variables (actually a subset known as <em>environment</em> variables) through:</p>
<pre>$ <strong>env</strong>
<strong></strong>SHELL=/bin/bash
USER=jsmith
PATH=/usr/local/bin:/usr/bin:/bin:/usr/games
PWD=/home/jsmith
HOME=/home/smith
_=/usr/bin/env
...</pre>
<p>Your output will look different, but many of the variable names will be the same. You will find some of these useful in later work.</p>
<ul>
<li>SHELL is the path to your login shell.</li>
<li>USER is your username.&nbsp; When you logged into your GNU/Linux system, this is the username you typed in.&nbsp;</li>
<li>PATH is a list of directories, separated by colons.&nbsp; When you run a command (like <code>cat</code> or <code>ls</code>), your shell looks in these directories to find the executable program.&nbsp; We'll talk more about PATH in just a moment. </li>
<li>PWD is your current working directory (that is, the folder you are in).</li>
<li>HOME is your home directory.&nbsp; You start out in this directory when you first log in.&nbsp;</li>
<li>_ is the last executed command. In this case, /usr/bin/env. </li>
</ul>
<p>&nbsp;</p>
<h2><strong>Controlling Variable Expansion</strong>&nbsp;</h2>
<p>If you jam a variable up against other characters, the shell won't recognize it. For instance, the following won't work:</p>
<pre>$ <strong>curr=myfile</strong>
$ <strong>rm $curr1.jpeg</strong>
rm: .jpeg: No such file or directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</pre>
<p>The error message could easily be perplexing. Here's what has happened: the shell saw a variable named<strong><strong> $curr1</strong></strong>. When it couldn't find any such variable, it substituted an empty string. So you ended up trying to execute: </p>
<pre>$ <strong>rm .jpeg</strong></pre>
<p>If you want to remove <em>myfile1.jpeg</em>, use curly braces around the variable so the shell knows where the variable name ends: </p>
<pre>$ <strong>rm ${curr}1.jpeg</strong></pre>
<h2>The Search Path</h2>
<p>We've looked at several examples of running commands.&nbsp; If I type "ls -l" on the command line, then my shell runs the <code>ls</code> command, which makes a list of files.&nbsp; The <code>ls</code> command is actually a program sitting on your computer's hard drive.&nbsp; You can ask your shell where a command lives by using the <code>which</code> command.&nbsp;&nbsp; If I type</p>
<pre>$ <strong>which ls</strong></pre>
<p>then my shell responds with "/bin/ls", which tells me the <code>ls</code> command is a program that lives in the <em>/bin</em> directory of my hard drive.&nbsp;&nbsp; We can even use the <code>ls</code> command to look at itself </p>
<pre>$ <strong>ls -l /bin/ls</strong>
-rwxr-xr-x 1 root root 92672 2007-01-30 15:48 /bin/ls
</pre>
<p>My shell found the <code>ls</code> command by using the PATH environment variable.</p>
<pre>PATH=/usr/local/bin:/usr/bin:/bin:/usr/games</pre>
<p>The value of PATH is a list of directories, separated with colons. When I typed <code>ls</code>, my shell looked for the command in <em>/usr/local/bin/ls</em>, then <em>/usr/bin/ls</em>, and finally <em>/bin/ls</em>.&nbsp; <em>/bin/ls</em> is where the command lives, so my shell was able to run that.&nbsp; If there wasn't a <em>/bin/ls</em>, then my shell would have tried <em>/usr/games/ls</em>, and then given up. </p>
<p>&nbsp;</p>
<h2>Configuration Files</h2>
<p>You may have seen a lot of nice customizations in the book--or even better, thought up a few customizations of your own--and may be ready to save some of them so you can reuse them in every terminal session. Anything you define in the shell is lost when you close the terminal window. So this is a good time to look at configuration files, which save useful customizations between sessions.</p>
<p>Your home directory contains several hidden files that contain settings for the shell and other programs. In addition, there are entire hidden directories where programs store information, such as the colors you chose to put on your desktop.</p>
<p>How are these directories hidden? Through a simple convention: any file that begins with a dot (.) is considered hidden. Your file manager in your desktop won't show you the files unless you choose a special option to display hidden files. Similarly, the shell doesn't display them by default in an <code>ls</code> command. To display them in the shell, add the <code>-a</code> (for "all") option:</p>
<p>&nbsp;</p>
<pre>$ <strong>ls -a</strong>
<strong>.</strong>
..
.bash_history
.bash_logout
.bashrc
.irssi
.profile
foo
examplefile
</pre>
<p>In the previous listing (which will look different on your system) the <em>.bashrc</em> and <em>.profile</em> files are what we're particularly interested in. These are where you can put your customizations. It doesn't matter much which one you choose. The <em>.bashrc</em> file is particular to a type of shell (there are many types) called Bash, whereas <em>.profile</em> is read by other shells in case you decide to use something besides Bash.</p>
<p>Bash configuration works in a very simple manner: Bash just executes the commands when it starts up, exactly as if you typed them in before you did anything else. So anything you see in this section that you like--an alias, a function, a change to an environment variable, etc.--you can put in a configuration file. Entire scripts can be included.</p>
<p>Your startup files likely have commands in them already. Some are installed along with the operating system, while others are added by system administrators at workplaces. To change these customizations or add your own, check out the section on text editors in this book. Pick one editor and learn a dozen or so of its basic commands so you can do the minimal editing needed to put in your customizations. </p>
<h2>Functions </h2>
<p>You can combine a number of commands and give it a name; then you can use this name like any other command. Consider writing a function whenever you find yourself executing the same commands repeatedly. You can also write flexible functions that change their behavior based on arguments, just as other commands do.</p>
<p>As a simple example, suppose you want to save information in a file each day:</p>
<pre><strong>echo ENTRY -------------- &gt;&gt;~/save/log</strong>
<strong>date &gt;&gt;~/save/log</strong>
<strong>du -c &gt;&gt;~/save/log</strong>
<strong>ls -R &gt;&gt;~/save/log</strong>
<strong>echo &gt;&gt;~/save/log</strong>
</pre>
<p>To save your commands as a function, issue a command named <code>function</code> followed by the name you want to assign it, and the commands in curly braces. Note that we've used hash marks (#) to add some comments so we will remember what the function is for later. The shell ignores the hash mark and any text that follows on that line. </p>
<pre><strong>function savelog {</strong>
<strong># Add information about this directory a log file, ~/save/log</strong>
<strong>&nbsp; echo ENTRY -------------- &gt;&gt;~/save/log</strong>
<strong>&nbsp; date &gt;&gt;~/save/log</strong>
<strong>&nbsp; du -c &gt;&gt;~/save/log # Size of subdirectories</strong>
<strong>&nbsp; ls -R &gt;&gt;~/save/log # Complete file listing</strong>
<strong>&nbsp; echo &gt;&gt;~/save/log</strong>
<strong>}</strong>
</pre>
<p>Now you can issue the command <code>savelog</code> and execute the embedded commands. You can put the function definition in a startup file so you never have to type the definition in again.</p>
<p>The previous example was quite contrived because you very rarely issue the exact same commands in sequence. However, you often have a complicated command that you run on different files, or other objects.</p>
<p>For instance, here is a command that shows you the differences between the current version of a file and the most recently edited version, if you edit with Emacs. Emacs saves an old version of your file by creating another file with the same name but an added tilde (~). In this example, we view the differences between <em>txtfile</em> and the back-up <em>txtfile~</em> version:</p>
<pre>$<strong> diff txtfile~ txtfile | less</strong>
</pre>
<p>This is just complicated enough (and common enough) to be worth saving as a function. But you want to pass the filename as an argument so you can use the function on any file you edit. So specify the argument as $1, a special variable that the function understands: </p>
<pre><strong>function d~ {</strong>
<strong># Compare the Emacs back-up version with the current version.</strong>
<strong>&nbsp; diff -u $1~ $1 | less</strong>
<strong>&nbsp;}</strong>
</pre>
<p>&nbsp;Now you can run your new <code>d~</code> command on any file that has a backup:</p>
<pre>$ <strong>d~ txtfile</strong></pre>
<p>As you might guess, a function can take up to nine arguments, which you can refer to as $1, $2, up to and including $9. If you want more than nine arguments, you can save an argument and remove it from the list:</p>
<pre><strong>function manyargs {</strong>
<strong>&nbsp; arg=$1</strong>
<strong>&nbsp; shift</strong>
<strong>&nbsp; ...</strong>
<strong>}</strong>&nbsp;
</pre>
<p>The first thing this function does is save the first argument in its own <strong>$arg</strong> variable. The <code>shift</code> command removes the $1 argument and shifts all the other arguments over, so that the second argument is now $1. In the section on scripting, you'll see how to use loops to process arguments or other items one by one.</p>
<p>If you want to pass all the arguments to a command, use $*. For instance, the following <code>orth</code> function runs the spell utility on whatever string you pass: </p>
<pre><strong>function orth () {</strong>
<strong>&nbsp; echo $* | spell</strong>
<strong>}</strong>
</pre>
<p>Functions can contain compound statements, such as if/then blocks. To show how flexible and powerful the combination of functions and compound statements can be, we'll include here an if/then statement that was shown earlier in the section "Handling command failure".</p>
<pre><strong>function helpme() { if man $1 then echo "you now know more about $1" else apropos $1 fi</strong>
<strong>} </strong></pre>
<p>So the following:</p>
<pre>$ <strong><strong>helpme draw</strong></strong></pre>
<p>&nbsp;will now be equivalent to: </p>
<pre><strong><strong> </strong> if man draw</strong>
<strong> then echo "you now know more about draw"</strong>
<strong> else apropos draw</strong>
<strong> fi</strong>
</pre>
<p>As long as you can guess what errors or other conditions will occur, you can handle them automatically in a function. </p>
<h2>Sourcing in files</h2>
<p>If this chapter has gotten you excited about the possibilities of writing up your customizations and saving them in files, good. But you will eventually have lots of different functions that fall into various categories, and you'll find it confusing to keep them all in one file. At this point, you can start storing commands, variable settings, and functions in various files that meet different needs, and read them into your <em>.bashrc</em> file or any other script. Just use a dot to read a file and have its contents executed by the shell:</p>
<pre><em><strong>.&nbsp; scriptfile</strong></em></pre>
<p>It's important to put a space after the dot, before the filename. </p>
<h2>Setting prompts</h2>
<p>Whenever bash or any other shell is waiting for the user to type a command, it displays a prompt, which can be as simple or complex as you like. A minimal prompt would be</p>
<pre>$</pre>
<p>The default prompt looks something like</p>
<pre>&nbsp;user@host:~$</pre>
<p>where user is the login name, host is the name of the computer, ~ is the working directory, short for the user's home, typically in the form <em>/home/user</em>, and $ means that the current user is not root.</p>
<p>To change the prompt, give a new value to the environment variable PS1. To make the change permanent, put the assignment in your <em>.profile</em> file, which bash reads whenever it starts up. The default value is \u@\h:\w\$, specifying username, host, working directory, and decorator characters. The following table describes the fields that can appear in a prompt, and various other useful characters. The prompt can ring the terminal "bell", now more usually a beep; it can contain multiple lines using \r for Carriage Return; and it can contain embedded terminal control sequences, typically starting with the Escape character. We will not attempt to explain all of these options here. See <em>Bash Reference Manual</em>, by Brian Fox and Chet Ramey, for full details. <a href="http://www.gnu.org/software/bash/manual/">http://www.gnu.org/software/bash/manual/</a> </p>
<table style="width: 578px;" border="1" cellspacing="0" cellpadding="3">
<tbody>
<tr>
<td align="center">\a</td>
<td>an ASCII bell character (07)</td>
<td align="center">\d</td>
<td>the date in "Weekday Month Date" format (e.g., "Tue May 26")</td>
</tr>
<tr>
<td align="center">\]</td>
<td>end a sequence of non-printing characters</td>
<td align="center">\e</td>
<td>an ASCII escape character (033)</td>
</tr>
<tr>
<td align="center">\h</td>
<td>the hostname up to the first '.'</td>
<td align="center">\H</td>
<td>the hostname</td>
</tr>
<tr>
<td align="center">\j</td>
<td>the number of jobs currently managed by the shell</td>
<td align="center">\l</td>
<td>the basename of the shell's terminal device name</td>
</tr>
<tr>
<td align="center">\n</td>
<td>newline</td>
<td align="center">\r</td>
<td>carriage return</td>
</tr>
<tr>
<td align="center">\s</td>
<td>the name of the shell, the basename of $0 (the portion following the final slash)</td>
<td align="center">\t</td>
<td>the current time in 24-hour HH:MM:SS format</td>
</tr>
<tr>
<td align="center">\T</td>
<td>the current time in 12-hour HH:MM:SS format</td>
<td align="center">\@</td>
<td>the current time in 12-hour am/pm format</td>
</tr>
<tr>
<td align="center">\A</td>
<td>the current time in 24-hour HH:MM format</td>
<td align="center">\u</td>
<td>the username of the current user</td>
</tr>
<tr>
<td align="center">\v</td>
<td>the version of bash (e.g., 2.00)</td>
<td align="center">\V</td>
<td>the release of bash, version + patchelvel (e.g., 2.00.0)</td>
</tr>
<tr>
<td align="center">\w</td>
<td>the current working directory</td>
<td align="center">\W</td>
<td>the basename of the current working directory</td>
</tr>
<tr>
<td align="center">\!</td>
<td>the history number of this command</td>
<td align="center">\#</td>
<td>the command number of this command</td>
</tr>
<tr>
<td align="center">\$</td>
<td>if the effective UID is 0 (root), a #, otherwise a $</td>
<td align="center">\nnn</td>
<td>the character corresponding to the octal number nnn</td>
</tr>
<tr>
<td align="center">\\</td>
<td>a backslash</td>
<td align="center">\[</td>
<td>begin a sequence of non-printing characters, which could be used to embed a terminal control sequence into the prompt</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre>$<strong> PS1="\a\d, \e[31m\t\r\n\e[0m\u@\h:\w $"</strong>
</pre>
<p>would result in a sound from the computer, and the visible prompt</p>
<pre>Mon Mar 23, 13:47:43
user@host:~ $
</pre>
<p>with the time printed in red. This uses \d for the date, \e[31m to turn on red color, \t for the time, \e[0m to turn off red, \r\n for Carriage Return and New Line, and the rest as in the default. </p>
<p>To make things more interesting, you can run a program within the prompt by enclosing it in [\$( )]. This example counts the number of files in the current directory, by counting the lines (<code>wc -l</code>) piped in from a directory listing (<code>ls</code>).</p>
<p>&nbsp;</p>
<pre>$<strong> PS1="\u@\h [\$(ls | wc -l)]:\$ "</strong>
user@host [3]:$
</pre>
<h2>Superuser Privileges</h2>
<p>Besides the configuration files in each user's directory, the system has a lot of configuration files that control system-wide behavior. Sometimes you'll find it necessary to edit one by hand, using a text editor. In this section we'll show how to grant someone superuser privileges, a system-wide issue controlled by a file named <em>/etc/sudoers</em>.</p>
<p>It is best not to edit this file in an ordinary text editor. The <code>sudoedit</code> command provides a much safer way to edit configuration files.</p>
<pre>$<strong> sudoedit /etc/sudoers</strong></pre>
<p>This makes a temporary copy of the file and opens the copy in an editor. You can override the default editor by setting the VISUAL or EDITOR environment variable to "vi", "emacs", or whatever you like.</p>
<p>Permission lines in <em>/etc/sudoers</em> identify the user, followed by the hosts the user can use <code>sudo</code> on, which groups the user can act as a member of, and which commands the user can execute using <code>sudo</code>. </p>
<p>An operator in a corporate or school system might have permissions that look like this.</p>
<pre>operator       ALL = DUMPS, KILL, SHUTDOWN, HALT, REBOOT, PRINTING,\
                       sudoedit /etc/printcap, /usr/oper/bin/
</pre>
<p>(The '\' character continues the permissions on the next line.) This gives permission to run a specific set of commands, and to edit two specific configuration files, but no others. To give someone permission to run any superuser command using <code>sudo</code>, set the username's permission line to:</p>
<pre><em>username</em> ALL = (ALL) ALL
</pre>
<p>This also lets you edit any configuration file on your computer.</p>
<h2>Localization</h2>
<p>Different countries use different conventions for all sorts of things: character sets, currencies, the formats of dates and times, and even paper size and shape. Computers can be instructed which language to use, and which version of the language to use for a particular country. This combination of customized information is called the <em>locale</em>. </p>
<p>All of the locale settings are reported by the <code>locale</code> command. For example,</p>
<p>&nbsp;</p>
<pre>$ <strong>locale</strong>
LANG=en_US.UTF-8
LC_CTYPE="en_US.UTF-8
LC_NUMERIC="en_US.UTF-8
LC_TIME="en_US.UTF-8"
LC_COLLATE="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
LC_ALL=</pre>
<p>The LANG setting <strong>en_US.UTF-8</strong> specifies English as the language, US as the country,&nbsp; and Unicode UTF-8 as the encoding. Money in the US is in dollars, $. Paper is letter, 8.5" &times; 11", as opposed to A4 for most of the rest of the world.</p>
<p>You usually specify a language and country when you install your operating system, and everything including the shell picks those values up. Originally, it was supposed that language, country, and character encoding would go together, but in our increasingly global society, it can happen that a Hungarian temporarily in the US on UN business would choose UTF-8, French language, metric (SI) measurements, Euros, Swiss address and telephone formats (for the home office in Geneva), and US letter paper.</p>
<p>You can change any of these settings in your shell by assigning an appropriate string to the relevant environment variable. The accepted values for locale settings are provided with options to the locale command.</p>
<pre>$<strong> locale -m # available charmaps: character set and encoding identifiers</strong>ANSI_X3.110-1983
ANSI_X3.4-1968
ARMSCII-8
ASMO_449
BIG5
BIG5-HKSCS
...         # 226 choices in Ubuntu 8.10</pre>
<p>$<strong> locale -a # available locales for English and UTF-8 in various countries</strong> C en_AU.utf8 en_BW.utf8 en_CA.utf8 en_DK.utf8 en_GB.utf8 en_HK.utf8 en_IE.utf8 en_IN en_NG en_NZ.utf8 en_PH.utf8 en_SG.utf8 en_US.utf8 en_ZA.utf8 en_ZW.utf8 POSIX</p>
<p>You will get different locale specifications depending on the languages and encodings selected on your system at installation time or modified later.&nbsp;</p>
<p>To set your preferences, check for the correct format using these commands, and set the locale environment values in your <em>.profile</em> accordingly.</p>
<p>Another essential element of localization is your preferred keyboard layout, set with the <code>loadkeys</code> command for the command line, and <code>setxkbmap</code> for the X Window System (used on virtually all free desktops).</p>
<pre>$ <strong>loadkeys&nbsp;de-latin1 # German</strong>
</pre>
<p>or</p>
<pre>$ <strong>setxkbmap dvorak # Dvorak keyboard for English</strong></pre>
<p>The <code>setfont</code>command lets you change to a font for a specific writing system.</p>
<pre>&nbsp;$ <strong>setfont iso01.f16</strong>
</pre>
<p>This sets a bitmap font covering ISO 8859-1, suitable for many Western European languages.</p>
<p>If you need to type documents in more than one writing system, you probably need to move to X. But there are extended versions of Emacs and vim that can create plain text files in multiple writing systems, either in their own format or in Unicode. </p>
<p>&nbsp;</p>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

