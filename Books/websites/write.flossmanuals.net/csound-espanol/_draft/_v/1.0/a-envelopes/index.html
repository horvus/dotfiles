
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: A-Envelopes / CSOUND Español</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for CSOUND Español" href="/feeds/rss/book/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for CSOUND Español" href="/feeds/atom/book/csound-espanol/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter A. ENVELOPES" href="/feeds/rss/chapter/csound-espanol/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter A. ENVELOPES" href="/feeds/atom/chapter/csound-espanol/csound-espanol/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/csound-espanol/_draft/_v/1.0/a-envelopes/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>CSOUND Español</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>INTRODUCCIÓN</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/preface/">PREFACIO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/how-to-use-this-manual/">CÓMO USAR ESTE MANUAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/on-this-release/">ACERCA DE ESTE LANZAMIENTO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/credits/">CRÉDITOS</a></li>
    
   
    
      <li><b>01 CUESTIONES BÁSICAS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-digital-audio/">A. AUDIO DIGITAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-pitch-and-frequency/">B. ALTURA Y FRECUENCIA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-intensities/">C. INTENSIDADES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-random/">D. ALEATORIEDAD</a></li>
    
   
    
      <li><b>02 INICIO RÁPIDO</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-make-csound-run/">A. CORRIENDO CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-syntax/">B. SINTÁXIS DE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-configuring-midi/">C. CONFIGURACIÓN MIDI</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-live-audio/">D. AUDIO EN VIVO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-rendering-to-file/">E. SALIDA A UN ARCHIVO</a></li>
    
   
    
      <li><b>03 EL LENGUAJE DE CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-initialization-and-performance-pass/">A. PASADAS DE INICIALIZACIÓN Y EJECUCIÓN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-local-and-global-variables/">B. LOCAL AND GLOBAL VARIABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-control-structures/">C. CONTROL STRUCTURES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-function-tables/">D. FUNCTION TABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-arrays/">E. ARRAYS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-live-events/">F. LIVE EVENTS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-user-defined-opcodes/">G. USER DEFINED OPCODES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-macros/">H. MACROS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-functional-syntax/">I. FUNCTIONAL SYNTAX</a></li>
    
   
    
      <li><b>04 SOUND SYNTHESIS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-additive-synthesis/">A. ADDITIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-subtractive-synthesis/">B. SUBTRACTIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-amplitude-and-ring-modulation/">C. AMPLITUDE AND RING MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-frequency-modulation/">D. FREQUENCY MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-waveshaping/">E. WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-granular-synthesis/">F. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-physical-modelling/">G. PHYSICAL MODELLING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-scanned-synthesis/">H. SCANNED SYNTHESIS</a></li>
    
   
    
      <li><b>05 SOUND MODIFICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-envelopes/">A. ENVELOPES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-panning-and-spatialization/">B. PANNING AND SPATIALIZATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-filters/">C. FILTERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-delay-and-feedback/">D. DELAY AND FEEDBACK</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-reverberation/">E. REVERBERATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-am-rm-waveshaping/">F. AM / RM / WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-granular-synthesis/">G. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-convolution/">H. CONVOLUTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-fourier-analysis-spectral-processing/">I. FOURIER ANALYSIS / SPECTRAL PROCESSING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/k-ats-resynthesis/">K. ATS RESYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/l-amplitude-and-pitch-tracking/">L. AMPLITUDE AND PITCH TRACKING</a></li>
    
   
    
      <li><b>06 SAMPLES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-record-and-play-soundfiles/">A. RECORD AND PLAY SOUNDFILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-record-and-play-buffers/">B. RECORD AND PLAY BUFFERS</a></li>
    
   
    
      <li><b>07 MIDI</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-receiving-events-by-midiin/">A. RECEIVING EVENTS BY MIDIIN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-triggering-instrument-instances/">B. TRIGGERING INSTRUMENT INSTANCES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-working-with-controllers/">C. WORKING WITH CONTROLLERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-reading-midi-files/">D. READING MIDI FILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-midi-output/">E. MIDI OUTPUT</a></li>
    
   
    
      <li><b>08 OTHER COMMUNICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-open-sound-control/">A. OPEN SOUND CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-and-arduino/">B. CSOUND AND ARDUINO</a></li>
    
   
    
      <li><b>09 CSOUND IN OTHER APPLICATIONS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-csound-in-pd/">A. CSOUND IN PD</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-in-maxmsp/">B. CSOUND IN MAXMSP</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-csound-in-ableton-live/">C. CSOUND IN ABLETON LIVE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-csound-as-a-vst-plugin/">D. CSOUND AS A VST PLUGIN</a></li>
    
   
    
      <li><b>10 CSOUND FRONTENDS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csoundqt/">CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/cabbage/">CABBAGE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/blue/">BLUE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/winxound/">WINXOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-via-terminal/">CSOUND VIA TERMINAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/web-based-csound/">WEB BASED CSOUND</a></li>
    
   
    
      <li><b>11 CSOUND UTILITIES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-utilities/">CSOUND UTILITIES</a></li>
    
   
    
      <li><b>12 CSOUND AND OTHER PROGRAMMING LANGUAGES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-the-csound-api/">A. THE CSOUND API</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-python-inside-csound/">B. PYTHON INSIDE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-python-in-csoundqt/">C. PYTHON IN CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-lua-in-csound/">D. LUA IN CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-csound-in-ios/">E. CSOUND IN iOS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-csound-on-android/">F. CSOUND ON ANDROID</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-csound-and-haskell/">G. CSOUND AND HASKELL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-csound-and-html/">H. CSOUND AND HTML</a></li>
    
   
    
      <li><b>13 EXTENDING CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/extending-csound/">EXTENDING CSOUND</a></li>
    
   
    
      <li><b>OPCODE GUIDE</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/overview/">OVERVIEW</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-i/">SIGNAL PROCESSING I</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-ii/">SIGNAL PROCESSING II</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/data/">DATA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/realtime-interaction/">REALTIME INTERACTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/instrument-control/">INSTRUMENT CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/maths-pythonsystem-plugins/">MATHS, PYTHON/SYSTEM, PLUGINS</a></li>
    
   
    
      <li><b>APPENDIX</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/methods-of-writing-csound-scores/">METHODS OF WRITING CSOUND SCORES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/glossary/">GLOSSARY</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/links/">LINKS</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <h1>ENVELOPES</h1>
<p>Envelopes are used to define how a value evolves over time. In early synthesisers, envelopes were used to define the changes in amplitude in a sound across its duration thereby imbuing sounds characteristics such as 'percussive', or 'sustaining'. Envelopes are also commonly used to modulate filter cutoff frequencies and the frequencies of oscillators but in reality we are only limited by our imaginations in regard to what they can be used for.</p>
<p>Los sobres se utilizan para definir c&oacute;mo evoluciona un valor con el tiempo. En los primeros sintetizadores, se usaron sobres para definir los cambios de amplitud en un sonido a lo largo de su duraci&oacute;n, imbuyendo caracter&iacute;sticas sonoras tales como percusi&oacute;n o sostenimiento. Los sobres tambi&eacute;n se utilizan com&uacute;nmente para modular las frecuencias de corte del filtro y las frecuencias de los osciladores, pero en realidad s&oacute;lo estamos limitados por nuestra imaginaci&oacute;n con respecto a lo que se puede utilizar.</p>
<p>Csound offers a wide array of opcodes for generating envelopes including ones which emulate the classic ADSR (attack-decay-sustain-release) envelopes found on hardware and commercial software synthesizers. A selection of these opcodes types shall be introduced here.</p>
<p>Csound ofrece una amplia gama de opcodes para generar sobres incluyendo los que emulan los sobres cl&aacute;sicos ADSR (ataque-decay-sustain-release) encontrados en hardware y sintetizadores de software comercial. Se introducir&aacute; aqu&iacute; una selecci&oacute;n de estos tipos de opcodes.</p>
<p>The simplest opcode for defining an envelope is line. line describes a single envelope segment as a straight line between a start value and an end value which has a given duration.</p>
<p>El opcode m&aacute;s simple para definir un sobre es line. Line describe un solo segmento de envolvente como una l&iacute;nea recta entre un valor inicial y un valor final que tiene una duraci&oacute;n determinada.</p>
<p>ares <span class="command"><strong>line</strong></span> ia, idur, ib</p>
<pre>kres <span class="command"><strong>line</strong></span> ia, idur, ib
</pre>
<p>&nbsp;</p>
<p>In the following example line is used to create a simple envelope which is then used as the amplitude control of a poscil oscillator. This envelope starts with a value of 0.5 then over the course of 2 seconds descends in linear fashion to zero.</p>
<p>En el ejemplo siguiente, se utiliza una l&iacute;nea para crear un sobre simple que se utiliza a continuaci&oacute;n como control de amplitud de un oscilador de poscil. Esta envoltura comienza con un valor de 0,5 y luego en el curso de 2 segundos desciende de forma lineal a cero.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A01_line.csd</em></strong></p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine&nbsp;&nbsp; ftgen&nbsp;&nbsp;&nbsp; 0, 0, 2^12, 10, 1 ; a sine wave

&nbsp; instr 1
aEnv&nbsp;&nbsp;&nbsp;&nbsp; line&nbsp;&nbsp;&nbsp;&nbsp; 0.5, 2, 0         ; amplitude envelope
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; aEnv, 500, giSine ; audio oscillator
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig              ; audio sent to output
&nbsp; endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i 1 0 2 ; instrument 1 plays a note for 2 seconds
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<p>&nbsp;</p>
<p>The envelope in the above example assumes that all notes played by this instrument will be 2 seconds long. In practice it is often beneficial to relate the duration of the envelope to the duration of the note (p3) in some way. In the next example the duration of the envelope is replaced with the value of p3 retrieved from the score, whatever that may be. The envelope will be stretched or contracted accordingly.</p>
<p>El sobre en el ejemplo anterior asume que todas las notas tocadas por este instrumento ser&aacute;n 2 segundos de largo. En la pr&aacute;ctica, a menudo es beneficioso relacionar la duraci&oacute;n del sobre con la duraci&oacute;n de la nota (p3) de alguna manera. En el ejemplo siguiente, la duraci&oacute;n del sobre se sustituye por el valor de p3 recuperado de la partitura, cualquiera que sea. El sobre se estira o se contrae en consecuencia.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A02_line_p3.csd</em></strong></p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ;activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine&nbsp;&nbsp; ftgen&nbsp;&nbsp;&nbsp; 0, 0, 2^12, 10, 1 ; a sine wave

&nbsp; instr 1
; A single segment envelope. Time value defined by note duration.
aEnv&nbsp;&nbsp;&nbsp;&nbsp; line&nbsp;&nbsp;&nbsp;&nbsp; 0.5, p3, 0
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; aEnv, 500, giSine ; an audio oscillator
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig              ; audio sent to output
&nbsp; endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
; p1 p2&nbsp; p3
i 1&nbsp; 0&nbsp;&nbsp;&nbsp; 1
i 1&nbsp; 2&nbsp; 0.2
i 1&nbsp; 3&nbsp;&nbsp;&nbsp; 4
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<p>It may not be disastrous if a envelope's duration does not match p3 and indeed there are many occasions when we want an envelope duration to be independent of p3 but we need to remain aware that if p3 is shorter than an envelope's duration then that envelope will be truncated before it is allowed to complete and if p3 is longer than an envelope's duration then the envelope will complete before the note ends (the consequences of this latter situation will be looked at in more detail later on in this section).</p>
<p>No puede ser desastroso si la duraci&oacute;n de los sobres no coincide con p3 y de hecho hay muchas ocasiones cuando queremos que la duraci&oacute;n de una envolvente sea independiente de p3, pero debemos seguir siendo conscientes de que si p3 es m&aacute;s corto que una duraci&oacute;n de sobres, Truncado antes de que se le permita completar y si p3 es m&aacute;s largo que una duraci&oacute;n de sobres, el sobre se completar&aacute; antes de que finalice la nota (las consecuencias de esta &uacute;ltima situaci&oacute;n ser&aacute;n examinadas con m&aacute;s detalle m&aacute;s adelante en esta secci&oacute;n).</p>
<p>&nbsp;</p>
<p>line (and most of Csound's envelope generators) can output either k or a-rate variables. k-rate envelopes are computationally cheaper than a-rate envelopes but in envelopes with fast moving segments quantisation can occur if they output a k-rate variable, particularly when the control rate is low, which in the case of amplitude envelopes can lead to clicking artefacts or distortion.</p>
<p>Line (y la mayor&iacute;a de los generadores de sobres Csounds) pueden generar variables k o a-rate. Las envolventes de k-velocidad son computacionalmente m&aacute;s baratas que las sobres de velocidad pero en sobres con segmentos de movimiento r&aacute;pido la cuantificaci&oacute;n puede ocurrir si producen una variable de k-velocidad, particularmente cuando la velocidad de control es baja, lo que en el caso de sobres de amplitud puede conducir a hacer clic Artefactos o distorsi&oacute;n.</p>
<p>linseg is an elaboration of line and allows us to add an arbitrary number of segments by adding further pairs of time durations followed envelope values. Provided we always end with a value and not a duration we can make this envelope as long as we like.</p>
<p>Linseg es una elaboraci&oacute;n de l&iacute;nea y nos permite agregar un n&uacute;mero arbitrario de segmentos a&ntilde;adiendo pares de duraciones de tiempo seguidas de valores de envolvente. Siempre que siempre terminan con un valor y no una duraci&oacute;n que podemos hacer este sobre, siempre y cuando nos gusta.</p>
<p>In the next example a more complex amplitude envelope is employed by using the linseg opcode. This envelope is also note duration (p3) dependent but in a more elaborate way. An attack-decay stage is defined using explicitly declared time durations. A release stage is also defined with an explicitly declared duration. The sustain stage is the p3 dependent stage but to ensure that the duration of the entire envelope still adds up to p3, the explicitly defined durations of the attack, decay and release stages are subtracted from the p3 dependent sustain stage duration. For this envelope to function correctly it is important that p3 is not less than the sum of all explicitly defined envelope segment durations. If necessary, additional code could be employed to circumvent this from happening.</p>
<p>En el ejemplo siguiente se emplea una envolvente de amplitud m&aacute;s compleja utilizando el c&oacute;digo de operaci&oacute;n linseg. Este sobre es tambi&eacute;n la duraci&oacute;n de la nota (p3) dependiente pero de una manera m&aacute;s elaborada. Una etapa ataque-decadencia se define utilizando duraciones de tiempo expl&iacute;citamente declaradas. Una etapa de liberaci&oacute;n tambi&eacute;n se define con una duraci&oacute;n expl&iacute;citamente declarada. La etapa de sustentaci&oacute;n es la etapa dependiente de p3 pero para asegurar que la duraci&oacute;n de toda la envolvente todav&iacute;a se agrega a p3, las duraciones expl&iacute;citamente definidas de las etapas de ataque, decaimiento y liberaci&oacute;n se restan de la duraci&oacute;n de la etapa de sostenimiento dependiente de p3. Para que este sobre funcione correctamente es importante que p3 no sea menor que la suma de todas las duraciones del segmento de envolvente definidas expl&iacute;citamente. Si fuera necesario, podr&iacute;a emplearse c&oacute;digo adicional para evitar que esto suceda.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A03_linseg.csd</em></strong></p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine&nbsp;&nbsp; ftgen&nbsp;&nbsp;&nbsp; 0, 0, 2^12, 10, 1 ; a sine wave

&nbsp; instr 1
; a more complex amplitude envelope:
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-attack-|-decay--|---sustain---|-release-|
aEnv&nbsp;&nbsp;&nbsp;&nbsp; linseg&nbsp;&nbsp; 0, 0.01, 1, 0.1,  0.1, p3-0.21, 0.1, 0.1, 0
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; aEnv, 500, giSine
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig
&nbsp; endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
i 1 0 1
i 1 2 5
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;
</pre>
<p>The next example illustrates an approach that can be taken whenever it is required that more than one envelope segment duration be p3 dependent. This time each segment is a fraction of p3. The sum of all segments still adds up to p3 so the envelope will complete across the duration of each note regardless of duration.</p>
<p>El siguiente ejemplo ilustra un enfoque que se puede tomar siempre que se requiera que m&aacute;s de una duraci&oacute;n de segmento de sobre sea p3 dependiente. Esta vez cada segmento es una fracci&oacute;n de p3. La suma de todos los segmentos todav&iacute;a se suma a p3, por lo que el sobre se completar&aacute; a lo largo de la duraci&oacute;n de cada nota independientemente de la duraci&oacute;n.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A04_linseg_p3_fractions.csd</em>&nbsp; </strong></p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ;activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine   ftgen    0, 0, 2^12, 10, 1 ; a sine wave

  instr 1
aEnv     linseg   0, p3*0.5, 1, p3*0.5, 0 ; rising then falling envelope
aSig     poscil   aEnv, 500, giSine
         out      aSig
  endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
; 3 notes of different durations are played
i 1 0   1
i 1 2 0.1
i 1 3   5
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<p>The next example highlights an important difference in the behaviours of line and linseg when p3 exceeds the duration of an envelope.</p>
<p>El siguiente ejemplo resalta una diferencia importante en los comportamientos de line y linseg cuando p3 excede la duraci&oacute;n de un sobre.</p>
<p>When a note continues beyond the end of the final value of a linseg defined envelope the final value of that envelope is held. A line defined envelope behaves differently in that instead of holding its final value it continues in the trajectory defined by its one and only segment.</p>
<p>Cuando una nota contin&uacute;a m&aacute;s all&aacute; del final del valor final de un sobre definido de linseg, se mantiene el valor final de ese sobre. Un sobre definido en la l&iacute;nea se comporta de manera diferente en que en lugar de mantener su valor final, contin&uacute;a en la trayectoria definida por su &uacute;nico segmento.</p>
<p>This difference is illustrated in the following example. The linseg and line envelopes of instruments 1 and 2 appear to be the same but the difference in their behaviour as described above when they continue beyond the end of their final segment is clear when listening to the example.</p>
<p>Esta diferencia se ilustra en el siguiente ejemplo. El lino y la l&iacute;nea envolvente de los instrumentos 1 y 2 parecen ser los mismos, pero la diferencia en su comportamiento como se describe anteriormente cuando contin&uacute;an m&aacute;s all&aacute; del final de su segmento final es clara al escuchar el ejemplo.</p>
<p><br />&nbsp;</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A05_line_vs_linseg.csd</em></strong></p>
<p>&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine&nbsp;&nbsp; ftgen&nbsp;&nbsp;&nbsp; 0, 0, 2^12, 10, 1 ; a sine wave

&nbsp; instr 1 ; linseg envelope
aCps&nbsp;&nbsp;&nbsp;&nbsp; linseg&nbsp;&nbsp; 300, 1, 600       ; linseg holds its last value
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; 0.2, aCps, giSine
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig
&nbsp; endin

&nbsp; instr 2 ; line envelope
aCps&nbsp;&nbsp;&nbsp;&nbsp; line&nbsp;&nbsp;&nbsp;&nbsp; 300, 1, 600       ; line continues its trajectory
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; 0.2, aCps, giSine
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig
&nbsp; endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
i 1 0 5 ; linseg envelope
i 2 6 5 ; line envelope
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;&nbsp;</pre>
<p>&nbsp;</p>
<p>expon and expseg are versions of line and linseg that instead produce envelope segments with concave exponential shapes rather than linear shapes. expon and expseg can often be more musically useful for envelopes that define amplitude or frequency as they will reflect the logarithmic nature of how these parameters are perceived. On account of the mathematics that are used to define these curves, we cannot define a value of zero at any node in the envelope and an envelope cannot cross the zero axis. If we require a value of zero we can instead provide a value very close to zero. If we still really need zero we can always subtract the offset value from the entire envelope in a subsequent line of code.</p>
<p>Expon y expseg son versiones de line y linseg que en su lugar producen segmentos de envolvente con formas exponenciales c&oacute;ncavas en lugar de formas lineales. Expon y expseg a menudo pueden ser m&aacute;s musicalmente &uacute;tiles para sobres que definen amplitud o frecuencia, ya que reflejar&aacute;n la naturaleza logar&iacute;tmica de c&oacute;mo se perciben estos par&aacute;metros. Debido a las matem&aacute;ticas que se utilizan para definir estas curvas, no podemos definir un valor de cero en ning&uacute;n nodo en el sobre y un sobre no puede cruzar el eje cero. Si requerimos un valor de cero, en vez de eso podemos proporcionar un valor muy cercano a cero. Si todav&iacute;a necesitamos realmente cero siempre podemos restar el valor de offset de todo el sobre en una l&iacute;nea de c&oacute;digo subsiguiente.</p>
<p>The following example illustrates the difference between line and expon when applied as amplitude envelopes.</p>
<p>El ejemplo siguiente ilustra la diferencia entre la l&iacute;nea y el exponente cuando se aplica como sobres de amplitud.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A06_line_vs_expon.csd</em>&nbsp; </strong></p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine&nbsp;&nbsp; ftgen&nbsp;&nbsp;&nbsp; 0, 0, 2^12, 10, 1 ; a sine wave

&nbsp; instr 1 ; line envelope
aEnv&nbsp;&nbsp;&nbsp;&nbsp; line&nbsp;&nbsp;&nbsp;&nbsp; 1, p3, 0
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; aEnv, 500, giSine
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig
&nbsp; endin

&nbsp; instr 2 ; expon envelope
aEnv&nbsp;&nbsp;&nbsp;&nbsp; expon&nbsp;&nbsp;&nbsp; 1, p3, 0.0001
aSig&nbsp;&nbsp;&nbsp;&nbsp; poscil&nbsp;&nbsp; aEnv, 500, giSine
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aSig
&nbsp; endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
i 1 0 2 ; line envelope
i 2 2 1 ; expon envelope
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;&nbsp;</pre>
<p>The nearer our 'near-zero' values are to zero the quicker the curve will appear to reach 'zero'. In the next example smaller and smaller envelope end values are passed to the expon opcode using p4 values in the score. The percussive 'ping' sounds are perceived to be increasingly short.</p>
<p>Cuanto m&aacute;s cercanos est&eacute;n nuestros valores cero-cero, m&aacute;s r&aacute;pido aparecer&aacute; la curva para llegar a cero. En el ejemplo siguiente, los valores finales de envolvente m&aacute;s peque&ntilde;os y m&aacute;s peque&ntilde;os se pasan al c&oacute;digo de operaci&oacute;n de exponencia usando valores de p4 en la partitura. Los sonidos percusivos de ping son percibidos como cada vez m&aacute;s cortos.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A07_expon_pings.csd</em></strong></p>
<p>&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activates real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine   ftgen    0, 0, 2^12, 10, 1 ; a sine wave

  instr 1; expon envelope
iEndVal  =        p4 ; variable 'iEndVal' retrieved from score
aEnv     expon    1, p3, iEndVal
aSig     poscil   aEnv, 500, giSine
         out      aSig
  endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
;p1  p2 p3 p4
i 1  0  1  0.001
i 1  1  1  0.000001
i 1  2  1  0.000000000000001
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;
</pre>
<p>Note that expseg does not behave like linseg in that it will not hold its last final value if p3 exceeds its entire duration, instead it continues its curving trajectory in a manner similar to line (and expon). This could have dangerous results if used as an amplitude envelope.</p>
<p>Tenga en cuenta que expseg no se comporta como linseg en que no mantendr&aacute; su &uacute;ltimo valor final si p3 excede su duraci&oacute;n entera, sino que contin&uacute;a su trayectoria curvada de una manera similar a la l&iacute;nea (y expon). Esto podr&iacute;a tener resultados peligrosos si se usa como una envolvente de amplitud.</p>
<p>When dealing with notes with an indefinite duration at the time of initiation (such as midi activated notes or score activated notes with a negative p3 value), we do not have the option of using p3 in a meaningful way. Instead we can use one of Csound's envelopes that sense the ending of a note when it arrives and adjust their behaviour according to this. The opcodes in question are linenr, linsegr, expsegr, madsr, mxadsr and envlpxr. These opcodes wait until a held note is turned off before executing their final envelope segment. To facilitate this mechanism they extend the duration of the note so that this final envelope segment can complete.</p>
<p>Cuando se trata de notas con una duraci&oacute;n indefinida en el momento de la iniciaci&oacute;n (como las notas midi activadas o la puntuaci&oacute;n activada notas con un valor p3 negativo), no tenemos la opci&oacute;n de usar p3 de una manera significativa. En su lugar, podemos usar uno de los sobres Csounds que detecte el final de una nota cuando llegue y ajustar su comportamiento de acuerdo a esto. Los opcodes en cuesti&oacute;n son linenr, linsegr, expsegr, madsr, mxadsr y envlpxr. Estos opcodes esperan hasta que una nota retenida se apague antes de ejecutar su segmento de envolvente final. Para facilitar este mecanismo se extiende la duraci&oacute;n de la nota para que este segmento de la envoltura final pueda completarse.</p>
<p>The following example uses midi input (either hardware or virtual) to activate notes. The use of the linsegr envelope means that after the short attack stage lasting 0.1 seconds, the penultimate value of 1 will be held as long as the note is sustained but as soon as the note is released the note will be extended by 0.5 seconds in order to allow the final envelope segment to decay to zero.</p>
<p>El siguiente ejemplo utiliza la entrada midi (hardware o virtual) para activar las notas. El uso de la envolvente de linsegr significa que despu&eacute;s de la etapa de ataque corto que dura 0,1 segundos, se mantendr&aacute; el pen&uacute;ltimo valor de 1 mientras la nota se mantenga, pero tan pronto como se libere la nota, la nota se extender&aacute; 0,5 segundos en orden Para permitir que el segmento de envoltura final se desintegre hasta cero.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A08_linsegr.csd</em></strong></p>
<p>&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac -+rtmidi=virtual -M0
; activate real time audio and MIDI (virtual midi device)
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine   ftgen    0, 0, 2^12, 10, 1        ; a sine wave

  instr 1
icps     cpsmidi
;                 attack-|sustain-|-release
aEnv     linsegr  0, 0.01,  0.1,     0.5,0 ; envelope that senses note releases
aSig     poscil   aEnv, icps, giSine       ; audio oscillator
         out      aSig                     ; audio sent to output
  endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
f 0 240 ; csound performance for 4 minutes
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;
</pre>
<p>Sometimes designing our envelope shape in a function table can provide us with shapes that are not possible using Csound's envelope generating opcodes. In this case the envelope can be read from the function table using an oscillator. If the oscillator is given a frequency of 1/p3 then it will read though the envelope just once across the duration of the note.</p>
<p>A veces, el dise&ntilde;o de nuestra forma de envolvente en una tabla de funciones nos puede proporcionar formas que no son posibles utilizando el envolvente Csounds que genera opcodes. En este caso, el sobre se puede leer desde la tabla de funciones utilizando un oscilador. Si al oscilador se le da una frecuencia de 1 / p3, entonces leer&aacute; el sobre s&oacute;lo una vez a trav&eacute;s de la duraci&oacute;n de la nota.</p>
<p>The following example generates an amplitude envelope which uses the shape of the first half of a sine wave.</p>
<p>El ejemplo siguiente genera una envolvente de amplitud que utiliza la forma de la primera mitad de una onda sinusoidal.</p>
<p><strong>&nbsp;&nbsp; <em>EXAMPLE 05A09_sine_env.csd</em></strong>&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;

&lt;CsOptions&gt;
-odac ; activate real time sound output
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giSine   ftgen    0, 0, 2^12, 10, 1        ; a sine wave
giEnv    ftgen    0, 0, 2^12, 9, 0.5, 1, 0 ; envelope shape: a half sine

  instr 1
; read the envelope once during the note's duration:
aEnv     poscil   1, 1/p3, giEnv
aSig     poscil   aEnv, 500, giSine        ; audio oscillator
         out      aSig                     ; audio sent to output
  endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
; 7 notes, increasingly short
i 1 0 2
i 1 2 1
i 1 3 0.5
i 1 4 0.25
i 1 5 0.125
i 1 6 0.0625
i 1 7 0.03125
f 0 7.1
e
&lt;/CsScore&gt;

&lt;/CsoundSynthesizer&gt;
</pre>
<p>&nbsp;</p>
<p>Comparison of the Standard Envelope Opcodes</p>
<p>&nbsp;</p>
<p>Comparaci&oacute;n de las Opcodes est&aacute;ndar de sobre</p>
<p>The precise shape of the envelope of a sound, whether that envelope refers to its amplitude, its pitch or any other parameter, can be incredibly subtle and our ears, in identifying and characterising sounds, are fantastically adept at sensing those subtleties. Csound's original envelope generating opcode linseg, whilst capable of emulating the envelope generators of vintage electronic synthesisers, may not produce convincing results in the emulation of acoustic instruments and natural sound. linseg has, since Csound's creation, been augmented with a number of other envelope generators whose usage is similar to that of linseg but whose output function is subtly different in shape.</p>
<p>La forma precisa de la envolvente de un sonido, ya sea que se refiera a su amplitud, su tono o cualquier otro par&aacute;metro, puede ser incre&iacute;blemente sutil y nuestros o&iacute;dos, al identificar y caracterizar los sonidos, son fant&aacute;sticamente adeptos a detectar esas sutilezas. Csounds envolvente original que genera opcode linseg, aunque capaz de emular los generadores de envolvente de los sintetizadores electr&oacute;nicos vintage, no puede producir resultados convincentes en la emulaci&oacute;n de instrumentos ac&uacute;sticos y sonido natural. Linseg tiene, desde la creaci&oacute;n de Csounds, aumentado con un n&uacute;mero de otros generadores de envolvente cuyo uso es similar al de linseg pero cuya funci&oacute;n de salida es sutilmente diferente en forma.</p>
<p>If we consider a basic envelope that ramps up across &frac14; of the duration of a note, then sustains for &frac12; the durations of the and finally ramps down across the remaining &frac14; duration of the note, we can implement this envelope using linseg thus:</p>
<p>Si consideramos una envolvente b&aacute;sica que sube a &frac14; de la duraci&oacute;n de una nota, entonces soporta durante &frac12; las duraciones de la y finalmente rampas hacia abajo a lo largo de la duraci&oacute;n restante &frac14; de la nota, podemos implementar este sobre usando linseg as&iacute;:</p>
<p><span style="font-family: Courier New,monospace;">kEnv linseg 0, p3/4, 0.9, p3/2, 0.9, p3/4, 0</span></p>
<p>The resulting envelope will look like this:</p>
<p>El sobre resultante se ver&aacute; as&iacute;:</p>
<p><img src="static/linseg.png" alt="" />&nbsp;</p>
<p>The expseg opcode, introduced sometime after linseg, attempted to address the issue of dynamic response when mapping an envelope to amplitude. Two caveats exist in regard to the use of expseg: firstly a single expseg definition cannot cross from the positive domain to the negative domain (and vice versa), and secondly it cannot reach zero. This second caveat means that an amplitude envelope created using expseg cannot express 'silence' unless we remove the offset away form zero that the envelope employs. An envelope with similar input values to the linseg envelope above but created with expseg could use the following code:</p>
<p>El opcode expseg, introducido alg&uacute;n tiempo despu&eacute;s de linseg, intent&oacute; abordar el problema de la respuesta din&aacute;mica al mapear un sobre a amplitud. Existen dos advertencias con respecto al uso de expseg: en primer lugar, una &uacute;nica definici&oacute;n de expseg no puede cruzar del dominio positivo al dominio negativo (y viceversa), y en segundo lugar no puede alcanzar cero. Esta segunda advertencia significa que una envolvente de amplitud creada usando expseg no puede expresar silencio a menos que quitemos el desplazamiento de la forma cero que el sobre emplea. Un sobre con valores de entrada similares a la sobre linseg anterior, pero creado con expseg podr&iacute;a utilizar el c&oacute;digo siguiente:</p>
<p><span style="font-family: Courier New,monospace;">kEnv expseg 0.001, p3/4, 0.901, p3/2, 0.901, p3/4, 0.001</span></p>
<pre><span style="font-family: Courier New,monospace;">kEnv = kEnv &ndash; 0.001</span></pre>
<p>and would look like this:</p>
<p>Y se ver&iacute;a as&iacute;:</p>
<p><img src="static/expseg.png" alt="" />&nbsp;</p>
<p>In this example the offset above zero has been removed. This time we can see that the sound will build in a rather more natural and expressive way, however the change from crescendo to sustain is even more abrupt this time. Adding some lowpass filtering to the envelope signal can smooth these abrupt changes in direction. This could be done with, for example, the port opcode given a half-point value of 0.05.</p>
<p>En este ejemplo se ha eliminado el desplazamiento por encima de cero. Esta vez podemos ver que el sonido se construir&aacute; de una manera m&aacute;s natural y expresiva, sin embargo el cambio de crescendo a sostener es a&uacute;n m&aacute;s abrupto esta vez. A&ntilde;adir algunos filtros de paso bajo a la se&ntilde;al de envolvente puede suavizar estos cambios abruptos en la direcci&oacute;n. Esto podr&iacute;a hacerse con, por ejemplo, el opcode de puerto dado un valor de medio punto de 0,05.</p>
<p><span style="font-family: Courier New,monospace;">kEnv port kEnv, 0.05</span></p>
<p>The resulting envelope looks like this:</p>
<p>El sobre resultante se ve as&iacute;:</p>
<p>&nbsp;<img src="static/expseg-port.png" alt="" /></p>
<p>&nbsp;</p>
<p>The changes to and from the sustain portion have clearly been improved but close examination of the end of the envelope reveals that the use of port has prevented the envelope from reaching zero. Extending the duration of the note or overlaying a second 'anti-click' envelope should obviate this issue.</p>
<p>Los cambios hacia y desde la parte de mantenimiento se han mejorado claramente, pero un examen detallado del final de la envoltura revela que el uso del puerto ha impedido que la envolvente alcance cero. Extender la duraci&oacute;n de la nota o superponer un segundo sobre anti-clic deber&iacute;a evitar este problema.</p>
<p><span style="font-family: Courier New,monospace;">xtratim 0.1</span></p>
<p>will extend the note by 1/10 of a second.</p>
<p>Extender&aacute; la nota en 1/10 de segundo.</p>
<p><span style="font-family: Courier New,monospace;">aRamp linseg 1, p3-0.1, 1, 0.1, 0</span></p>
<p>will provide a quick ramp down at the note conclusion if multiplied to the previously created envelope.</p>
<p>Proporcionar&aacute; una rampa r&aacute;pida hacia abajo en la conclusi&oacute;n de la nota si se multiplica al sobre creado anteriormente.</p>
<p>&nbsp;</p>
<p>A more recently introduced alternative is the cosseg opcode which applies a cosine transfer function to each segment of the envelope. Using the following code:</p>
<p>Una alternativa m&aacute;s recientemente introducida es el opcode cosseg que aplica una funci&oacute;n de transferencia de coseno a cada segmento de la envolvente. Utilizando el c&oacute;digo siguiente:</p>
<p><span style="font-family: Courier New,monospace;">kEnv cosseg 0, p3/4, 0.9, p3/2, 0.9, p3/4, 0</span></p>
<p>the resulting envelope will look like this:</p>
<p>El sobre resultante se ver&aacute; as&iacute;:</p>
<p><img src="static/cosseg.png" alt="" />&nbsp;</p>
<p>Another alternative that offers enhanced user control and that might in many situations provide more natural results is the transeg opcode. transeg allows us to specify the curvature of each segment but it should be noted that the curvature is dependent upon whether the segment is rising or falling. For example a positive curvature will result in a concave segment in a rising segment but a convex segment in a falling segment. The following code:</p>
<p>Otra alternativa que ofrece un mayor control de usuario y que en muchas situaciones puede proporcionar resultados m&aacute;s naturales es el opcode transeg. Transeg nos permite especificar la curvatura de cada segmento, pero debe se&ntilde;alarse que la curvatura depende de si el segmento est&aacute; subiendo o bajando. Por ejemplo, una curvatura positiva dar&aacute; como resultado un segmento c&oacute;ncavo en un segmento ascendente, pero un segmento convexo en un segmento descendente. El c&oacute;digo siguiente:</p>
<p><span style="font-family: Courier New,monospace;">kEnv transeg 0, p3/4, -4, 0.9, p3/2, 0, 0.9, p3/4, -4, 0</span></p>
<p>will produce the following envelope:</p>
<p>Producir&aacute; el siguiente sobre:</p>
<p><img src="static/transeg.png" alt="" /></p>
<p>This looks perhaps rather lopsided but in emulating acoustic instruments can actually produce more natural results. Considering an instrument such as a clarinet, it is in reality very difficult to fade a note in smoothly from silence. It is more likely that a note will 'start' slightly abruptly in spite of the player's efforts. This aspect is well represented by the attack portion of the envelope above. When the note is stopped, its amplitude will decay quickly and exponentially as reflected in the envelope also. Similar attack and release characteristics can be observed in the slight pitch envelopes expressed by wind instruments.</p>
<p>Esto parece quiz&aacute; m&aacute;s bien desequilibrado, pero en la emulaci&oacute;n de instrumentos ac&uacute;sticos en realidad puede producir resultados m&aacute;s naturales. Considerando un instrumento como un clarinete, en realidad es muy dif&iacute;cil desvanecer una nota suavemente del silencio. Es m&aacute;s probable que una nota empiece ligeramente abruptamente a pesar de los esfuerzos de los jugadores. Este aspecto est&aacute; bien representado por la porci&oacute;n de ataque del sobre anterior. Cuando la nota se detiene, su amplitud se descompondr&aacute; r&aacute;pida y exponencialmente como se refleja en el sobre tambi&eacute;n. Caracter&iacute;sticas de ataque y liberaci&oacute;n similares se pueden observar en los envolventes de paso leve expresados por instrumentos de viento.</p>
<p>&nbsp;</p>
<h2>lpshold, loopseg and looptseg - A Csound TB303</h2>
<p>The next example introduces three of Csound's looping opcodes, lpshold, loopseg and looptseg.</p>
<p>El siguiente ejemplo introduce tres de Csounds looping opcodes, lpshold, loopseg y looptseg.</p>
<p>These opcodes generate envelopes which are looped at a rate corresponding to a defined frequency. What they each do could also be accomplished using the 'envelope from table' technique outlined in an earlier example but these opcodes provide the added convenience of encapsulating all the required code in one line without the need for phasors, tables and ftgens. Furthermore all of the input arguments for these opcodes can be modulated at k-rate.</p>
<p>Estos opcodes generan sobres que se enganchan a una velocidad correspondiente a una frecuencia definida. Lo que cada uno de ellos tambi&eacute;n se puede lograr utilizando la t&eacute;cnica de sobre de la tabla descrita en un ejemplo anterior, pero estos opcodes proporcionan la conveniencia adicional de encapsular todo el c&oacute;digo requerido en una l&iacute;nea sin la necesidad de fasores, tablas y ftgens. Adem&aacute;s, todos los argumentos de entrada para estos opcodes se pueden modular en k-rate.</p>
<p>lpshold generates an envelope in which each break point is held constant until a new break point is encountered. The resulting envelope will contain horizontal line segments. In our example this opcode will be used to generate the notes (as MIDI note numbers) for a looping bassline in the fashion of a Roland TB303. Because the duration of the entire envelope is wholly dependent upon the frequency with which the envelope repeats - in fact it is the reciprocal of the frequency &ndash; values for the durations of individual envelope segments are not defining times in seconds but instead represent proportions of the entire envelope duration. The values given for all these segments do not need to add up to any specific value as Csound rescales the proportionality according to the sum of all segment durations. You might find it convenient to contrive to have them all add up to 1, or to 100 &ndash; either is equally valid. The other looping envelope opcodes discussed here use the same method for defining segment durations.</p>
<p>Lpshold genera un sobre en el que cada punto de ruptura se mantiene constante hasta que se encuentra un nuevo punto de ruptura. El sobre resultante contendr&aacute; segmentos de l&iacute;nea horizontales. En nuestro ejemplo, este c&oacute;digo de operaci&oacute;n se utilizar&aacute; para generar las notas (como n&uacute;meros de notas MIDI) para una l&iacute;nea de bajo en bucle a la manera de un Roland TB303. Debido a que la duraci&oacute;n de toda la envolvente depende totalmente de la frecuencia con la que se repite la envolvente -en realidad es el rec&iacute;proco de la frecuencia- los valores para las duraciones de los segmentos de envolvente individuales no est&aacute;n definiendo tiempos en segundos sino que representan proporciones de la totalidad Duraci&oacute;n del sobre. Los valores dados para todos estos segmentos no necesitan sumar un valor espec&iacute;fico ya que Csound rescala la proporcionalidad de acuerdo con la suma de todas las duraciones de los segmentos. Puede resultarle conveniente hacer que todos ellos sumen 1, o 100 - o es igualmente v&aacute;lido. Los otros opcodes de envolvente de bucle descritos aqu&iacute; usan el mismo m&eacute;todo para definir duraciones de segmentos.</p>
<p>loopseg allows us to define a looping envelope with linear segments. In this example it is used to define the amplitude envelope for each individual note. Take note that whereas the lpshold envelope used to define the pitches of the melody repeats once per phrase, the amplitude envelope repeats once for each note of the melody, therefore its frequency is 16 times that of the melody envelope (there are 16 notes in our melodic phrase).</p>
<p>Loopseg nos permite definir un envolvente de bucle con segmentos lineales. En este ejemplo se utiliza para definir la envolvente de amplitud para cada nota individual. Tenga en cuenta que mientras que la envolvente de lpshold usada para definir los tonos de la melod&iacute;a se repite una vez por frase, la envolvente de amplitud se repite una vez por cada nota de la melod&iacute;a, por lo tanto su frecuencia es 16 veces la de la envolvente de melod&iacute;a Mel&oacute;dico).</p>
<p>looptseg is an elaboration of loopseg in that is allows us to define the shape of each segment individually, whether that be convex, linear or concave. This aspect is defined using the 'type' parameters. A 'type' value of 0 denotes a linear segement, a positive value denotes a convex segment with higher positive values resulting in increasingly convex curves. Negative values denote concave segments with increasing negative values resulting in increasingly concave curves. In this example looptseg is used to define a filter envelope which, like the amplitude envelope, repeats for every note. The addition of the 'type' parameter allows us to modulate the sharpness of the decay of the filter envelope. This is a crucial element of the TB303 design.</p>
<p>Looptseg es una elaboraci&oacute;n de loopseg en la que nos permite definir la forma de cada segmento individualmente, ya sea convexo, lineal o c&oacute;ncavo. Este aspecto se define mediante los par&aacute;metros de tipo. Un valor de tipo de 0 denota un segmento lineal, un valor positivo denota un segmento convexo con valores positivos m&aacute;s altos dando lugar a curvas cada vez m&aacute;s convexas. Los valores negativos denotan segmentos c&oacute;ncavos con valores negativos crecientes que dan lugar a curvas cada vez m&aacute;s c&oacute;ncavas. En este ejemplo looptseg se utiliza para definir una envolvente de filtro que, al igual que la envolvente de amplitud, se repite para cada nota. La adici&oacute;n del par&aacute;metro de tipo nos permite modular la nitidez del decaimiento de la envolvente del filtro. Este es un elemento crucial del dise&ntilde;o TB303.</p>
<p>Other crucial features of this instrument, such as 'note on/off' and 'hold' for each step, are also implemented using lpshold.</p>
<p>Otras caracter&iacute;sticas cruciales de este instrumento, como la nota on / off y hold para cada paso, tambi&eacute;n se implementan usando lpshold.</p>
<p>A number of the input parameters of this example are modulated automatically using the randomi opcodes in order to keep it interesting. It is suggested that these modulations could be replaced by linkages to other controls such as CsoundQt widgets, FLTK widgets or MIDI controllers. Suggested ranges for each of these values are given in the .csd.</p>
<p>Un n&uacute;mero de los par&aacute;metros de entrada de este ejemplo se modulan autom&aacute;ticamente usando los opcodes aleatorios para mantenerlo interesante. Se sugiere que estas modulaciones podr&iacute;an ser reemplazadas por enlaces a otros controles como widgets CsoundQt, widgets FLTK o controladores MIDI. Los rangos sugeridos para cada uno de estos valores se dan en el .csd.</p>
<p>&nbsp;</p>
<p><strong><em>EXAMPLE 05A10_lpshold_loopseg.csd</em></strong></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac ;activates real time sound output
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
; Example by Iain McCurdy

sr = 44100
ksmps = 4
nchnls = 1
0dbfs = 1

seed 0; seed random number generators from system clock

  instr 1; Bassline instrument
kTempo    =            90          ; tempo in beats per minute
kCfBase   randomi      1,4, 0.2    ; base filter frequency (oct format)
kCfEnv    randomi      0,4,0.2     ; filter envelope depth
kRes      randomi      0.5,0.9,0.2 ; filter resonance
kVol      =            0.5         ; volume control
kDecay    randomi      -10,10,0.2  ; decay shape of the filter.
kWaveform =            0           ; oscillator waveform. 0=sawtooth 2=square
kDist     randomi      0,1,0.1     ; amount of distortion
kPhFreq   =            kTempo/240  ; freq. to repeat the entire phrase
kBtFreq   =            (kTempo)/15 ; frequency of each 1/16th note
; -- Envelopes with held segments  --
; The first value of each pair defines the relative duration of that segment,
; the second, the value itself.
; Note numbers (kNum) are defined as MIDI note numbers.
; Note On/Off (kOn) and hold (kHold) are defined as on/off switches, 1 or zero
;                    note:1      2     3     4     5     6     7     8
;                         9     10    11    12    13    14    15    16    0
kNum  lpshold kPhFreq, 0, 0,40,  1,42, 1,50, 1,49, 1,60, 1,54, 1,39, 1,40, \
                       1,46, 1,36, 1,40, 1,46, 1,50, 1,56, 1,44, 1,47,1
kOn   lpshold kPhFreq, 0, 0,1,   1,1,  1,1,  1,1,  1,1,  1,1,  1,0,  1,1,  \
                       1,1,  1,1,  1,1,  1,1,  1,1,  1,1,  1,0,  1,1,  1
kHold lpshold kPhFreq, 0, 0,0,   1,1,  1,1,  1,0,  1,0,  1,0,  1,0,  1,1,  \
                       1,0,  1,0,  1,1,  1,1,  1,1,  1,1,  1,0,  1,0,  1
kHold     vdel_k       kHold, 1/kBtFreq, 1 ; offset hold by 1/2 note duration
kNum      portk        kNum, (0.01*kHold)  ; apply portamento to pitch changes
                                           ; if note is not held: no portamento
kCps      =            cpsmidinn(kNum)     ; convert note number to cps
kOct      =            octcps(kCps)        ; convert cps to oct format
; amplitude envelope                  attack    sustain       decay  gap
kAmpEnv   loopseg      kBtFreq, 0, 0, 0,0.1, 1, 55/kTempo, 1, 0.1,0, 5/kTempo,0,0
kAmpEnv   =            (kHold=0?kAmpEnv:1)  ; if a held note, ignore envelope
kAmpEnv   port         kAmpEnv,0.001

; filter envelope
kCfOct    looptseg      kBtFreq,0,0,kCfBase+kCfEnv+kOct,kDecay,1,kCfBase+kOct
; if hold is off, use filter envelope, otherwise use steady state value:
kCfOct    =             (kHold=0?kCfOct:kCfBase+kOct)
kCfOct    limit        kCfOct, 4, 14 ; limit the cutoff frequency (oct format)
aSig      vco2         0.4, kCps, i(kWaveform)*2, 0.5 ; VCO-style oscillator
aFilt      lpf18        aSig, cpsoct(kCfOct), kRes, (kDist^2)*10 ; filter audio
aSig      balance       aFilt,aSig             ; balance levels
kOn       port         kOn, 0.006              ; smooth on/off switching
; audio sent to output, apply amp. envelope,
; volume control and note On/Off status
aAmpEnv   interp       kAmpEnv*kOn*kVol
          out          aSig * aAmpEnv
  endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i 1 0 3600 ; instr 1 plays for 1 hour
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<p>Hopefully this final example has provided some idea as to the extend of parameters that can be controlled using envelopes and also an allusion to their importance in the generation of musical 'gesture'.</p>
<p>Esperemos que este &uacute;ltimo ejemplo haya proporcionado alguna idea en cuanto a la extensi&oacute;n de los par&aacute;metros que pueden ser controlados usando sobres y tambi&eacute;n una alusi&oacute;n a su importancia en la generaci&oacute;n del gesto musical.</p>
<p><br />&nbsp;</p>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

