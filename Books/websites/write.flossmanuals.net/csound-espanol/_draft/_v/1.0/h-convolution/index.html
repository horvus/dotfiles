
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: H-Convolution / CSOUND Español</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for CSOUND Español" href="/feeds/rss/book/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for CSOUND Español" href="/feeds/atom/book/csound-espanol/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter H. CONVOLUTION" href="/feeds/rss/chapter/csound-espanol/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter H. CONVOLUTION" href="/feeds/atom/chapter/csound-espanol/csound-espanol/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/csound-espanol/_draft/_v/1.0/h-convolution/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>CSOUND Español</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>INTRODUCCIÓN</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/preface/">PREFACIO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/how-to-use-this-manual/">CÓMO USAR ESTE MANUAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/on-this-release/">ACERCA DE ESTE LANZAMIENTO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/credits/">CRÉDITOS</a></li>
    
   
    
      <li><b>01 CUESTIONES BÁSICAS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-digital-audio/">A. AUDIO DIGITAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-pitch-and-frequency/">B. ALTURA Y FRECUENCIA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-intensities/">C. INTENSIDADES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-random/">D. ALEATORIEDAD</a></li>
    
   
    
      <li><b>02 INICIO RÁPIDO</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-make-csound-run/">A. CORRIENDO CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-syntax/">B. SINTÁXIS DE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-configuring-midi/">C. CONFIGURACIÓN MIDI</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-live-audio/">D. AUDIO EN VIVO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-rendering-to-file/">E. SALIDA A UN ARCHIVO</a></li>
    
   
    
      <li><b>03 EL LENGUAJE DE CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-initialization-and-performance-pass/">A. PASADAS DE INICIALIZACIÓN Y EJECUCIÓN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-local-and-global-variables/">B. LOCAL AND GLOBAL VARIABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-control-structures/">C. CONTROL STRUCTURES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-function-tables/">D. FUNCTION TABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-arrays/">E. ARRAYS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-live-events/">F. LIVE EVENTS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-user-defined-opcodes/">G. USER DEFINED OPCODES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-macros/">H. MACROS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-functional-syntax/">I. FUNCTIONAL SYNTAX</a></li>
    
   
    
      <li><b>04 SOUND SYNTHESIS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-additive-synthesis/">A. ADDITIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-subtractive-synthesis/">B. SUBTRACTIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-amplitude-and-ring-modulation/">C. AMPLITUDE AND RING MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-frequency-modulation/">D. FREQUENCY MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-waveshaping/">E. WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-granular-synthesis/">F. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-physical-modelling/">G. PHYSICAL MODELLING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-scanned-synthesis/">H. SCANNED SYNTHESIS</a></li>
    
   
    
      <li><b>05 SOUND MODIFICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-envelopes/">A. ENVELOPES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-panning-and-spatialization/">B. PANNING AND SPATIALIZATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-filters/">C. FILTERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-delay-and-feedback/">D. DELAY AND FEEDBACK</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-reverberation/">E. REVERBERATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-am-rm-waveshaping/">F. AM / RM / WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-granular-synthesis/">G. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-convolution/">H. CONVOLUTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-fourier-analysis-spectral-processing/">I. FOURIER ANALYSIS / SPECTRAL PROCESSING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/k-ats-resynthesis/">K. ATS RESYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/l-amplitude-and-pitch-tracking/">L. AMPLITUDE AND PITCH TRACKING</a></li>
    
   
    
      <li><b>06 SAMPLES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-record-and-play-soundfiles/">A. RECORD AND PLAY SOUNDFILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-record-and-play-buffers/">B. RECORD AND PLAY BUFFERS</a></li>
    
   
    
      <li><b>07 MIDI</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-receiving-events-by-midiin/">A. RECEIVING EVENTS BY MIDIIN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-triggering-instrument-instances/">B. TRIGGERING INSTRUMENT INSTANCES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-working-with-controllers/">C. WORKING WITH CONTROLLERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-reading-midi-files/">D. READING MIDI FILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-midi-output/">E. MIDI OUTPUT</a></li>
    
   
    
      <li><b>08 OTHER COMMUNICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-open-sound-control/">A. OPEN SOUND CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-and-arduino/">B. CSOUND AND ARDUINO</a></li>
    
   
    
      <li><b>09 CSOUND IN OTHER APPLICATIONS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-csound-in-pd/">A. CSOUND IN PD</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-in-maxmsp/">B. CSOUND IN MAXMSP</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-csound-in-ableton-live/">C. CSOUND IN ABLETON LIVE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-csound-as-a-vst-plugin/">D. CSOUND AS A VST PLUGIN</a></li>
    
   
    
      <li><b>10 CSOUND FRONTENDS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csoundqt/">CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/cabbage/">CABBAGE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/blue/">BLUE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/winxound/">WINXOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-via-terminal/">CSOUND VIA TERMINAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/web-based-csound/">WEB BASED CSOUND</a></li>
    
   
    
      <li><b>11 CSOUND UTILITIES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-utilities/">CSOUND UTILITIES</a></li>
    
   
    
      <li><b>12 CSOUND AND OTHER PROGRAMMING LANGUAGES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-the-csound-api/">A. THE CSOUND API</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-python-inside-csound/">B. PYTHON INSIDE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-python-in-csoundqt/">C. PYTHON IN CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-lua-in-csound/">D. LUA IN CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-csound-in-ios/">E. CSOUND IN iOS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-csound-on-android/">F. CSOUND ON ANDROID</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-csound-and-haskell/">G. CSOUND AND HASKELL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-csound-and-html/">H. CSOUND AND HTML</a></li>
    
   
    
      <li><b>13 EXTENDING CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/extending-csound/">EXTENDING CSOUND</a></li>
    
   
    
      <li><b>OPCODE GUIDE</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/overview/">OVERVIEW</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-i/">SIGNAL PROCESSING I</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-ii/">SIGNAL PROCESSING II</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/data/">DATA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/realtime-interaction/">REALTIME INTERACTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/instrument-control/">INSTRUMENT CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/maths-pythonsystem-plugins/">MATHS, PYTHON/SYSTEM, PLUGINS</a></li>
    
   
    
      <li><b>APPENDIX</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/methods-of-writing-csound-scores/">METHODS OF WRITING CSOUND SCORES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/glossary/">GLOSSARY</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/links/">LINKS</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <p>CONVOLUTION CIRCUNVOLUCI&Oacute;N</p>
<p>&nbsp;</p>
<p>Convolution is a mathematical procedure whereby one function is modified by another. Applied to audio, one of these functions might be a sound file or a stream of live audio whilst the other will be, what is referred to as, an impulse response file; this could actually just be another shorter sound file. The longer sound file or live audio stream will be modified by the impulse response so that the sound file will be imbued with certain qualities of the impulse response. It is important to be aware that convolution is a far from trivial process and that realtime performance may be a frequent consideration. Effectively every sample in the sound file to be processed will be multiplied in turn by every sample contained within the impulse response file. Therefore, for a 1 second impulse response at a sampling frequency of 44100 hertz, each and every sample of the input sound file or sound stream will undergo 44100 multiplication operations. Expanding upon this even further, for 1 second's worth of a convolution procedure this will result in 44100 x 44100 (or 1,944,810,000) multiplications. This should provide some insight into the processing demands of a convolution procedure and also draw attention to the efficiency cost of using longer impulse response files.</p>
<p>La convoluci&oacute;n es un procedimiento matem&aacute;tico mediante el cual una funci&oacute;n es modificada por otra. Aplicado al audio, una de estas funciones puede ser un archivo de sonido o un flujo de audio en vivo mientras que el otro ser&aacute;, lo que se conoce como un archivo de respuesta de impulso; Esto podr&iacute;a ser simplemente otro archivo de sonido m&aacute;s corto. El archivo de sonido m&aacute;s largo o flujo de audio en vivo ser&aacute; modificado por la respuesta de impulso para que el archivo de sonido se imbuye con ciertas cualidades de la respuesta de impulso. Es importante tener en cuenta que convoluci&oacute;n es un proceso lejos de trivial y que el rendimiento en tiempo real puede ser una consideraci&oacute;n frecuente. Efectivamente cada muestra en el archivo de sonido a procesar se multiplicar&aacute; a su vez por cada muestra contenida en el archivo de respuesta de impulso. Por lo tanto, para una respuesta de impulso de 1 segundo a una frecuencia de muestreo de 44100 hertzios, cada una de las muestras del archivo de sonido de entrada o flujo de sonido sufrir&aacute;n 44100 operaciones de multiplicaci&oacute;n. Ampliando a&uacute;n m&aacute;s esto, por 1 segundo de valor de un procedimiento de convoluci&oacute;n esto resultar&aacute; en 44100 x 44100 (o 1,944,810,000) multiplicaciones. Esto deber&iacute;a proporcionar una idea de las demandas de procesamiento de un procedimiento de convoluci&oacute;n y tambi&eacute;n llamar la atenci&oacute;n sobre el costo de eficiencia del uso de archivos de respuesta de impulso m&aacute;s largos.</p>
<p>The most common application of convolution in audio processing is reverberation but convolution is equally adept at, for example, imitating the filtering and time smearing characteristics of vintage microphones, valve amplifiers and speakers. It is also used sometimes to create more unusual special effects. The strength of convolution based reverbs is that they implement acoustic imitations of actual spaces based upon 'recordings' of those spaces. All the quirks and nuances of the original space will be retained. Reverberation algorithms based upon networks of comb and allpass filters create only idealised reverb responses imitating spaces that don't actually exist. The impulse response is a little like a 'fingerprint' of the space. It is perhaps easier to manipulate characteristics such as reverb time and high frequency diffusion (i.e. lowpass filtering) of the reverb effect when using a Schroeder derived algorithm using comb and allpass filters but most of these modification are still possible, if not immediately apparent, when implementing reverb using convolution.</p>
<p>La aplicaci&oacute;n m&aacute;s com&uacute;n de la convoluci&oacute;n en el procesamiento de audio es la reverberaci&oacute;n, pero convoluci&oacute;n es igualmente capaz de, por ejemplo, imitar las caracter&iacute;sticas de filtrado y tiempo de manchas de micr&oacute;fonos vintage, amplificadores de v&aacute;lvulas y altavoces. Tambi&eacute;n se utiliza a veces para crear efectos especiales m&aacute;s inusuales. La fuerza de las reverberaciones basadas en convoluci&oacute;n es que implementan imitaciones ac&uacute;sticas de espacios reales basados en grabaciones de esos espacios. Se conservar&aacute;n todas las peculiaridades y matices del espacio original. Los algoritmos de reverberaci&oacute;n basados en redes de peine y filtros de paso &uacute;nico crean s&oacute;lo respuestas de reverberaci&oacute;n idealizadas que imitan espacios que realmente no existen. La respuesta al impulso es un poco como una huella digital del espacio. Es quiz&aacute; m&aacute;s f&aacute;cil manipular caracter&iacute;sticas como el tiempo de reverberaci&oacute;n y la difusi&oacute;n de alta frecuencia (es decir, el filtro de paso bajo) del efecto de reverberaci&oacute;n cuando se utiliza un algoritmo derivado de Schroeder usando filtros de peine y de paso, pero la mayor&iacute;a de estas modificaciones son todav&iacute;a posibles si no son inmediatamente evidentes cuando Implementando la reverberaci&oacute;n usando convoluci&oacute;n.</p>
<p>The quality of a convolution reverb is largely dependent upon the quality of the impulse response used. An impulse response recording is typically achieved by recording the reverberant tail that follows a burst of white noise. People often employ techniques such as bursting balloons to achieve something approaching a short burst of noise. Crucially the impulse sound should not excessively favour any particular frequency or exhibit any sort of resonance. More modern techniques employ a sine wave sweep through all the audible frequencies when recording an impulse response. Recorded results using this technique will normally require further processing in order to provide a usable impulse response file and this approach will normally be beyond the means of a beginner.</p>
<p>La calidad de una reverb de convoluci&oacute;n depende en gran medida de la calidad de la respuesta de impulso utilizada. Una grabaci&oacute;n de respuesta de impulso se logra t&iacute;picamente registrando la cola reverberante que sigue a una r&aacute;faga de ruido blanco. La gente emplea a menudo t&eacute;cnicas tales como estallar los globos para alcanzar algo que se acerca a un estallido corto del ruido. Crucialmente el sonido de impulso no debe favorecer excesivamente ninguna frecuencia particular o exhibir cualquier tipo de resonancia. Las t&eacute;cnicas m&aacute;s modernas emplean un barrido de onda sinusoidal a trav&eacute;s de todas las frecuencias audibles al registrar una respuesta de impulso. Los resultados grabados usando esta t&eacute;cnica normalmente requerir&aacute;n procesamiento adicional para proporcionar un archivo de respuesta de impulso utilizable y este enfoque normalmente estar&aacute; m&aacute;s all&aacute; de los medios de un principiante.</p>
<p>Many commercial, often expensive, implementations of convolution exist both in the form of software and hardware but fortunately Csound provides easy access to convolution for free. Csound currently lists six different opcodes for convolution, convolve (convle), cross2, dconv, ftconv, ftmorf and pconvolve. convolve (convle) and dconv are earlier implementations and are less suited to realtime operation, cross2 relates to FFT-based cross synthesis and ftmorf is used to morph between similar sized function table and is less related to what has been discussed so far, therefore in this chapter we shall focus upon just two opcodes, pconvolve and ftconv.</p>
<p>Muchas aplicaciones comerciales, a menudo costosas, de convoluci&oacute;n existen tanto en forma de software como de hardware, pero afortunadamente Csound proporciona un f&aacute;cil acceso a la convoluci&oacute;n de forma gratuita. Csound actualmente enumera seis opcodes diferentes para la convoluci&oacute;n, convolve (convle), cross2, dconv, ftconv, ftmorf y pconvolve. Convolve (convle) y dconv son implementaciones anteriores y son menos adecuadas para el funcionamiento en tiempo real, cross2 se refiere a la s&iacute;ntesis cruzada basada en FFT y ftmorf se utiliza para morph entre tabla de funciones de tama&ntilde;o similar y est&aacute; menos relacionado con lo que se ha discutido hasta ahora, Este cap&iacute;tulo nos centraremos s&oacute;lo en dos opcodes, pconvolve y ftconv.</p>
<p>pconvolve</p>
<p>pconvolve is perhaps the easiest of Csound's convolution opcodes to use and the most useful in a realtime application. It uses the uniformly partitioned (hence the 'p') overlap-save algorithm which permits convolution with very little delay (latency) in the output signal. The impulse response file that it uses is referenced directly, i.e. it does not have to be previously loaded into a function table, and multichannel files are permitted. The impulse response file can be any standard sound file acceptable to Csound and does not need to be pre-analysed as is required by convolve. Convolution procedures through their very nature introduce a delay in the output signal but pconvolve minimises this using the algorithm mentioned above. It will still introduce some delay but we can control this using the opcode's 'ipartitionsize' input argument.</p>
<p>Pconvolve es quiz&aacute;s el m&aacute;s f&aacute;cil de los opcodes de convoluci&oacute;n Csounds para usar y el m&aacute;s &uacute;til en una aplicaci&oacute;n en tiempo real. Utiliza el algoritmo de superposici&oacute;n-ahorro uniformemente dividido (de ah&iacute; el p) que permite la convoluci&oacute;n con muy poco retardo (latencia) en la se&ntilde;al de salida. El archivo de respuesta de impulso que utiliza se hace referencia directamente, es decir, no tiene que ser cargado previamente en una tabla de funciones, y los archivos multicanal est&aacute;n permitidos. El archivo de respuesta de impulso puede ser cualquier archivo de sonido est&aacute;ndar aceptable para Csound y no necesita ser pre-analizado como es requerido por convolve. Procedimientos de convoluci&oacute;n a trav&eacute;s de su propia naturaleza introducir un retraso en la se&ntilde;al de salida, pero pconvolve minimiza esto utilizando el algoritmo mencionado anteriormente. Todav&iacute;a introducir&aacute; alg&uacute;n retraso, pero podemos controlar esto usando el argumento de entrada opcodes ipartitionsize.</p>
<p>What value we give this will require some consideration and perhaps some experimentation as choosing a high partition size will result in excessively long delays (only an issue in realtime work) whereas very low partition sizes demand more from the CPU and too low a size may result in buffer under-runs and interrupted realtime audio. Bear in mind still that realtime CPU performance will depend heavily on the length of the impulse file. The partition size argument is actually an optional argument and if omitted it will default to whatever the software buffer size is as defined by the -b command line flag. If we specify the partition size explicitly however, we can use this information to delay the input audio (after it has been used by pconvolve) so that it can be realigned in time with the latency affected audio output from pconvolve - this will be essential in creating a 'wet/dry' mix in a reverb effect. Partition size is defined in sample frames therefore if we specify a partition size of 512, the delay resulting from the convolution procedure will be 512/sr (sample rate).</p>
<p>&iquest;Qu&eacute; valor daremos esto requerir&aacute; cierta consideraci&oacute;n y quiz&aacute;s alguna experimentaci&oacute;n como la elecci&oacute;n de un tama&ntilde;o de partici&oacute;n alto dar&aacute; lugar a retrasos excesivamente largos (s&oacute;lo un problema en el trabajo en tiempo real) mientras que los tama&ntilde;os de partici&oacute;n muy baja exigen m&aacute;s de la CPU y un tama&ntilde;o demasiado bajo puede resultar En subintervalos de buffer y audio en tiempo real interrumpido. Tenga en cuenta que el rendimiento en tiempo real de la CPU depender&aacute; en gran medida de la longitud del archivo de impulsos. El argumento de tama&ntilde;o de partici&oacute;n es en realidad un argumento opcional y si se omite, el valor predeterminado ser&aacute; el que sea el tama&ntilde;o del b&uacute;fer de software definido por el indicador de l&iacute;nea de comandos -b. Si especificamos expl&iacute;citamente el tama&ntilde;o de la partici&oacute;n, podemos usar esta informaci&oacute;n para retrasar el audio de entrada (despu&eacute;s de haber sido utilizado por pconvolve) para que pueda ser realineado en el tiempo con la salida de audio afectada por latencia de pconvolve - esto ser&aacute; esencial en Creando una mezcla h&uacute;meda / seca en un efecto de reverberaci&oacute;n. El tama&ntilde;o de partici&oacute;n se define en los cuadros de muestra, por lo tanto, si especificamos un tama&ntilde;o de partici&oacute;n de 512, el retardo resultante del procedimiento de convoluci&oacute;n ser&aacute; 512 / sr (tasa de muestreo).</p>
<p>&nbsp;</p>
<p>In the following example a monophonic drum loop sample undergoes processing through a convolution reverb implemented using pconvolve which in turn uses two different impulse files. The first file is a more conventional reverb impulse file taken in a stairwell whereas the second is a recording of the resonance created by striking a terracota bowl sharply. If you wish to use the three sound files I have used in creating this example, the mono input sound file is here and the two stereo sound files used as impulse responses are here and here. You can, of course, replace them with ones of your own but remain mindful of mono/stereo/multichannel integrity.</p>
<p>En el ejemplo siguiente una muestra de bucle de tambor monof&oacute;nica se somete a procesamiento a trav&eacute;s de una reverberaci&oacute;n de convoluci&oacute;n implementada usando pconvolve que a su vez utiliza dos archivos de impulso diferentes. El primer archivo es un archivo de impulso de reverberaci&oacute;n m&aacute;s convencional tomado en una escalera, mientras que el segundo es una grabaci&oacute;n de la resonancia creada golpeando bruscamente un taz&oacute;n de terracota. Si desea utilizar los tres archivos de sonido que he utilizado para crear este ejemplo, el archivo de sonido de entrada mono est&aacute; aqu&iacute; y los dos archivos de sonido est&eacute;reo utilizados como respuestas de impulso est&aacute;n aqu&iacute; y aqu&iacute;. Usted puede, por supuesto, reemplazarlas por otras de su propiedad, pero mantenga la integridad mono / est&eacute;reo / multicanal.</p>
<p>&nbsp;</p>
<p><em>EXAMPLE 05H01_pconvolve.csd</em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;

sr     =  44100
ksmps  =  512
nchnls =  2
0dbfs  =  1

gasig init 0

 instr 1 ; sound file player
gasig           diskin2   p4,1,0,1
 endin

 instr 2 ; convolution reverb
; Define partion size.
; Larger values require less CPU but result in more latency.
; Smaller values produce lower latency but may cause -
; - realtime performance issues
ipartitionsize	=	  256
ar1,ar2	        pconvolve gasig, p4,ipartitionsize
; create a delayed version of the input signal that will sync -
; - with convolution output
adel            delay     gasig,ipartitionsize/sr
; create a dry/wet mix
aMixL           ntrpol    adel,ar1*0.1,p5
aMixR           ntrpol    adel,ar2*0.1,p5
                outs      aMixL,aMixR
gasig	        =         0
 endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
; instr 1. sound file player
;    p4=input soundfile
; instr 2. convolution reverb
;    p4=impulse response file
;    p5=dry/wet mix (0 - 1)

i 1 0 8.6 "loop.wav"
i 2 0 10 "Stairwell.wav" 0.3

i 1 10 8.6 "loop.wav"
i 2 10 10 "Dish.wav" 0.8
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<h2>ftconv</h2>
<p>ftconv (abbreviated from 'function table convolution) is perhaps slightly more complicated to use than pconvolve but offers additional options. The fact that ftconv utilises an impulse response that we must first store in a function table rather than directly referencing a sound file stored on disk means that we have the option of performing transformations upon the audio stored in the function table before it is employed by ftconv for convolution. This example begins just as the previous example: a mono drum loop sample is convolved first with a typical reverb impulse response and then with an impulse response derived from a terracotta bowl. After twenty seconds the contents of the function tables containing the two impulse responses are reversed by calling a UDO (instrument 3) and the convolution procedure is repeated, this time with a 'backwards reverb' effect. When the reversed version is performed the dry signal is delayed further before being sent to the speakers so that it appears that the reverb impulse sound occurs at the culmination of the reverb build-up.</p>
<p>Ftconv (abreviado de la convoluci&oacute;n de la tabla de funciones) es quiz&aacute;s un poco m&aacute;s complicado de usar que pconvolve, pero ofrece opciones adicionales. El hecho de que ftconv utilice una respuesta de impulso que debemos primero almacenar en una tabla de funciones en lugar de referenciar directamente un archivo de sonido almacenado en disco significa que tenemos la opci&oacute;n de realizar transformaciones sobre el audio almacenado en la tabla de funciones antes de que sea empleado por ftconv Para la convoluci&oacute;n. Este ejemplo comienza exactamente igual que en el ejemplo anterior: una muestra de bucle de mono tambor se convolve primero con una respuesta de impulso de reverberaci&oacute;n t&iacute;pica y luego con una respuesta de impulso derivada de un recipiente de terracota. Despu&eacute;s de veinte segundos el contenido de las tablas de funciones que contienen las dos respuestas de impulso se invierte llamando a un UDO (instrumento 3) y se repite el procedimiento de convoluci&oacute;n, esta vez con un efecto de reverberaci&oacute;n hacia atr&aacute;s. Cuando se realiza la versi&oacute;n inversa, la se&ntilde;al seca se retrasa m&aacute;s antes de ser enviada a los altavoces de modo que parece que el sonido de impulso de reverberaci&oacute;n se produce en la culminaci&oacute;n de la acumulaci&oacute;n de la reverberaci&oacute;n.</p>
<p>This additional delay is switched on or off via p6 from the score. As with pconvolve, ftconv performs the convolution process in overlapping partitions to minimise latency. Again we can minimise the size of these partitions and therefore the latency but at the cost of CPU efficiency. ftconv's documentation refers to this partition size as 'iplen' (partition length). ftconv offers further facilities to work with multichannel files beyond stereo. When doing this it is suggested that you use GEN52 which is designed for this purpose. GEN01 seems to work fine, at least up to stereo, provided that you do not defer the table size definition (size=0). With ftconv we can specify the actual length of the impulse response - it will probably be shorter than the power-of-2 sized function table used to store it - and this action will improve realtime efficiency. This optional argument is defined in sample frames and defaults to the size of the impulse response function table.</p>
<p>Este retardo adicional se activa o desactiva a trav&eacute;s de p6 de la partitura. Como con pconvolve, ftconv realiza el proceso de convoluci&oacute;n en superposici&oacute;n de particiones para minimizar la latencia. Una vez m&aacute;s podemos minimizar el tama&ntilde;o de estas particiones y por lo tanto la latencia, pero a costa de la eficiencia de la CPU. La documentaci&oacute;n de ftconvs hace referencia a este tama&ntilde;o de partici&oacute;n como iplen (longitud de partici&oacute;n). Ftconv ofrece m&aacute;s facilidades para trabajar con archivos multicanal m&aacute;s all&aacute; del est&eacute;reo. Al hacer esto se sugiere que utilice GEN52 que est&aacute; dise&ntilde;ado para este prop&oacute;sito. GEN01 parece funcionar bien, al menos hasta est&eacute;reo, siempre que no aplazar la definici&oacute;n de tama&ntilde;o de tabla (tama&ntilde;o = 0). Con ftconv podemos especificar la longitud real de la respuesta de impulso - probablemente ser&aacute; m&aacute;s corta que la tabla de funciones de tama&ntilde;o de 2 para almacenarla - y esta acci&oacute;n mejorar&aacute; la eficiencia en tiempo real. Este argumento opcional se define en marcos de ejemplo y por defecto en el tama&ntilde;o de la tabla de funci&oacute;n de respuesta de impulso.</p>
<p><em>EXAMPLE 05H02_ftconv.csd</em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac
&lt;/CsOptions&gt;

&lt;CsInstruments&gt;

sr     =  44100
ksmps  =  512
nchnls =  2
0dbfs  =  1

; impulse responses stored as stereo GEN01 function tables
giStairwell	ftgen	1,0,131072,1,"Stairwell.wav",0,0,0
giDish		ftgen	2,0,131072,1,"Dish.wav",0,0,0

gasig init 0

; reverse function table UDO
 opcode	tab_reverse,0,i
ifn             xin
iTabLen         =               ftlen(ifn)
iTableBuffer    ftgentmp        0,0,-iTabLen,-2, 0
icount          =               0
loop:
ival            table           iTabLen-icount-1, ifn
                tableiw         ival,icount,iTableBuffer
                loop_lt         icount,1,iTabLen,loop
icount          =               0
loop2:
ival            table           icount,iTableBuffer
                tableiw		ival,icount,ifn
                loop_lt         icount,1,iTabLen,loop2
 endop

 instr 3 ; reverse the contents of a function table
          tab_reverse p4
 endin

 instr 1 ; sound file player
gasig           diskin2   p4,1,0,1
 endin

 instr 2 ; convolution reverb
; buffer length
iplen	=	1024
; derive the length of the impulse response
iirlen	=	nsamp(p4)
ar1,ar2	ftconv	gasig, p4, iplen,0, iirlen
; delay compensation. Add extra delay if reverse reverb is used.
adel            delay     gasig,(iplen/sr) + ((iirlen/sr)*p6)
; create a dry/wet mix
aMixL   ntrpol    adel,ar1*0.1,p5
aMixR   ntrpol    adel,ar2*0.1,p5
        outs      aMixL,aMixR
gasig	        =         0
 endin

&lt;/CsInstruments&gt;

&lt;CsScore&gt;
; instr 1. sound file player
;    p4=input soundfile
; instr 2. convolution reverb
;    p4=impulse response file
;    p5=dry/wet mix (0 - 1)
;    p6=reverse reverb switch (0=off,1=on)
; instr 3. reverse table contents
;    p4=function table number

; 'stairwell' impulse response
i 1 0 8.5 "loop.wav"
i 2 0 10 1 0.3 0

; 'dish' impulse response
i 1 10 8.5 "loop.wav"
i 2 10 10 2 0.8 0

; reverse the impulse responses
i 3 20 0 1
i 3 20 0 2

; 'stairwell' impulse response (reversed)
i 1 21 8.5 "loop.wav"
i 2 21 10 1 0.5 1

; 'dish' impulse response (reversed)
i 1 31 8.5 "loop.wav"
i 2 31 10 2 0.5 1

e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer</pre>
<p>Suggested avenues for further exploration with ftconv could be applying envelopes to, filtering and time stretching and compressing the function table stored impulse files before use in convolution.</p>
<p>Sugeridas v&iacute;as para una mayor exploraci&oacute;n con ftconv podr&iacute;a ser la aplicaci&oacute;n de sobres a, el filtrado y el tiempo de estiramiento y la compresi&oacute;n de la funci&oacute;n de la tabla de archivos de impulsos almacenados antes de su uso en convoluci&oacute;n.</p>
<p>The impulse responses I have used here are admittedly of rather low quality and whilst it is always recommended to maintain as high standards of sound quality as possible the user should not feel restricted from exploring the sound transformation possibilities possible form whatever source material they may have lying around. Many commercial convolution algorithms demand a proprietary impulse response format inevitably limiting the user to using the impulse responses provided by the software manufacturers but with Csound we have the freedom to use any sound we like.</p>
<p>Las respuestas de impulso que he utilizado aqu&iacute; son, sin duda, de calidad bastante baja y aunque siempre se recomienda mantener los niveles m&aacute;s altos de calidad de sonido como sea posible, el usuario no debe sentirse limitado a explorar las posibilidades de transformaci&oacute;n de sonido posible de cualquier fuente material que puedan tener alrededor. Muchos algoritmos de convoluci&oacute;n comerciales requieren un formato de respuesta de impulso propietario que limita inevitablemente al usuario a usar las respuestas de impulso proporcionadas por los fabricantes de software, pero con Csound tenemos la libertad de usar cualquier sonido que nos guste.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

