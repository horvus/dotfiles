
<!DOCTYPE HTML>
<html>
 <head>
   

<link type="text/css" href="/site_static/css/booki.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/base/jquery.ui.all.css" rel="Stylesheet" >
<link type="text/css" href="/site_static/js/jquery/themes/smoothness/jquery.ui.all.css" rel="Stylesheet" >
<script type="text/javascript" src="/site_static/js/jquery/jquery-1.4.4.js"></script>
<script type="text/javascript" src="/site_static/js/jquery/ui/jquery-ui-1.8.10.custom.js"></script>
<script type="text/javascript" src="/site_static/js/jquery.json-1.3.js"></script>
<script type="text/javascript" src="/site_static/js/booki.js"></script>
<script src="/site_static/js/messaging.js" type="text/javascript"></script>   
<script type="text/javascript" src="/site_static/js/general.js"></script>
<link href="/site_static/css/jquery.bubblepopup.v2.3.1.css" rel="stylesheet" type="text/css" />
<link type="text/css" href="/site_static/css/jquery-ui_overrides.css" rel="Stylesheet" >
<script src="/site_static/js/jquery.bubblepopup.v2.3.1.min.js" type="text/javascript"></script>

<link rel="SHORTCUT ICON" href="http://write.flossmanuals.net/site_static/images/favicon.ico" type="image/x-icon">
<meta property="og:site_name" content="FLOSS Manuals"/><meta name="description" content="Free Manuals for Freedom"/>

<script type="text/javascript">
  $(function() {
      $.booki.sputnikDispatcherURL = "/_sputnik/";

      $("#dialog-sputnik-error").dialog({
          modal: true,
          autoOpen: false,
          buttons: {
            Ok: function() {
               $(this).dialog('close');
               window.location = '.';
            }
          }
      });
  
      $("FORM.messagefield").messagefield('init', {'view_post': '/messaging/post' });  
  });
</script>


   
 <title>/chapter: D-Random / CSOUND Español</title>
 <link type="text/css" href="/site_static/css/draft.css" rel="Stylesheet" />

 <link rel="alternate" type="application/rss+xml" title="RSS feed for CSOUND Español" href="/feeds/rss/book/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for CSOUND Español" href="/feeds/atom/book/csound-espanol/" /> 

 <link rel="alternate" type="application/rss+xml" title="RSS feed for chapter D. ALEATORIEDAD" href="/feeds/rss/chapter/csound-espanol/csound-espanol/" /> 
 <link rel="alternate" type="application/atom+xml" title="Atom feed for chapter D. ALEATORIEDAD" href="/feeds/atom/chapter/csound-espanol/csound-espanol/" /> 
 
 <script type="text/javascript" src="/site_static/js/draft.js"></script>


   <link type="text/css" href="/static/css/_user.css" rel="Stylesheet" >
 </head>
<body>

<div class="topbar"> 
  <div class="logotext"><a href="http://write.flossmanuals.net/">FLOSS Manuals</a> </div>

  <div class="meta-bar">
    
    <ul>
      <li>
        <a href="/accounts/signin/?redirect=/csound-espanol/_draft/_v/1.0/d-random/">Sign In / Create Account</a>
      </li>
    </ul>
    
    <div style="padding-top: 10px; padding-right: 15px;">
      <br/>
      

<script>
  $(function() {
    var $frm = $("FORM[name=changelang]");
	
    $("A[href=#]", $frm).click(function() {
        var lang = $(this).attr("class").substr(4);
	
        $("INPUT[name=language]", $frm).val(lang);
        $frm.submit();
	
        return false;
    });
  });
 </script>

<form name="changelang" method="POST" action="/accounts/i18n/setlang/?language=en-us">
  <input type="hidden" name="language" value="en-us">
  
    &nbsp;English&nbsp;|
  
  
  
    &nbsp;<a class="langes" href="#">Español</a>&nbsp;|
  

  
    &nbsp;<a class="langfr" href="#">Français</a>&nbsp;|
  
	
  
    &nbsp;<a class="langit" href="#">Italiano</a>&nbsp;|
  
	
  
    &nbsp;<a class="langpt" href="#">Português</a>&nbsp;|
  
	
  
    &nbsp;<a class="langru" href="#">Русский</a>&nbsp;|
  
	
  
    &nbsp;<a class="langsq" href="#">Shqip</a>
  	
</form>

    </div>
    
    
  </div><!-- End of .meta-bar -->
</div><!-- End top bar -->

<div class="menubar shadow">
  
  
  <div class="navbox">
    <ul>
      <li><a href="/list-books/">Books</a></li>
      <li><a href="/list-groups/">Groups</a></li>
      <li><a href="/list-people/">People</a></li>
    </ul>      
  </div><!-- End of .navbox -->       
</div>

<div class="content-container">
  <div class="content shadow">
    <!-- Content box and the drop shadow-->
    

<h2>CSOUND Español</h2>
<div class="padded">
 <div id="bookmenu" style="background: url(/site_static/images/draft_bg.png) repeat !important;"> 
  <ul>
   
    
      <li><b>INTRODUCCIÓN</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/preface/">PREFACIO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/how-to-use-this-manual/">CÓMO USAR ESTE MANUAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/on-this-release/">ACERCA DE ESTE LANZAMIENTO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/credits/">CRÉDITOS</a></li>
    
   
    
      <li><b>01 CUESTIONES BÁSICAS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-digital-audio/">A. AUDIO DIGITAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-pitch-and-frequency/">B. ALTURA Y FRECUENCIA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-intensities/">C. INTENSIDADES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-random/">D. ALEATORIEDAD</a></li>
    
   
    
      <li><b>02 INICIO RÁPIDO</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-make-csound-run/">A. CORRIENDO CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-syntax/">B. SINTÁXIS DE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-configuring-midi/">C. CONFIGURACIÓN MIDI</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-live-audio/">D. AUDIO EN VIVO</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-rendering-to-file/">E. SALIDA A UN ARCHIVO</a></li>
    
   
    
      <li><b>03 EL LENGUAJE DE CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-initialization-and-performance-pass/">A. PASADAS DE INICIALIZACIÓN Y EJECUCIÓN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-local-and-global-variables/">B. LOCAL AND GLOBAL VARIABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-control-structures/">C. CONTROL STRUCTURES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-function-tables/">D. FUNCTION TABLES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-arrays/">E. ARRAYS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-live-events/">F. LIVE EVENTS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-user-defined-opcodes/">G. USER DEFINED OPCODES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-macros/">H. MACROS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-functional-syntax/">I. FUNCTIONAL SYNTAX</a></li>
    
   
    
      <li><b>04 SOUND SYNTHESIS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-additive-synthesis/">A. ADDITIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-subtractive-synthesis/">B. SUBTRACTIVE SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-amplitude-and-ring-modulation/">C. AMPLITUDE AND RING MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-frequency-modulation/">D. FREQUENCY MODULATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-waveshaping/">E. WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-granular-synthesis/">F. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-physical-modelling/">G. PHYSICAL MODELLING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-scanned-synthesis/">H. SCANNED SYNTHESIS</a></li>
    
   
    
      <li><b>05 SOUND MODIFICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-envelopes/">A. ENVELOPES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-panning-and-spatialization/">B. PANNING AND SPATIALIZATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-filters/">C. FILTERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-delay-and-feedback/">D. DELAY AND FEEDBACK</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-reverberation/">E. REVERBERATION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-am-rm-waveshaping/">F. AM / RM / WAVESHAPING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-granular-synthesis/">G. GRANULAR SYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-convolution/">H. CONVOLUTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/i-fourier-analysis-spectral-processing/">I. FOURIER ANALYSIS / SPECTRAL PROCESSING</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/k-ats-resynthesis/">K. ATS RESYNTHESIS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/l-amplitude-and-pitch-tracking/">L. AMPLITUDE AND PITCH TRACKING</a></li>
    
   
    
      <li><b>06 SAMPLES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-record-and-play-soundfiles/">A. RECORD AND PLAY SOUNDFILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-record-and-play-buffers/">B. RECORD AND PLAY BUFFERS</a></li>
    
   
    
      <li><b>07 MIDI</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-receiving-events-by-midiin/">A. RECEIVING EVENTS BY MIDIIN</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-triggering-instrument-instances/">B. TRIGGERING INSTRUMENT INSTANCES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-working-with-controllers/">C. WORKING WITH CONTROLLERS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-reading-midi-files/">D. READING MIDI FILES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-midi-output/">E. MIDI OUTPUT</a></li>
    
   
    
      <li><b>08 OTHER COMMUNICATION</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-open-sound-control/">A. OPEN SOUND CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-and-arduino/">B. CSOUND AND ARDUINO</a></li>
    
   
    
      <li><b>09 CSOUND IN OTHER APPLICATIONS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-csound-in-pd/">A. CSOUND IN PD</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-csound-in-maxmsp/">B. CSOUND IN MAXMSP</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-csound-in-ableton-live/">C. CSOUND IN ABLETON LIVE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-csound-as-a-vst-plugin/">D. CSOUND AS A VST PLUGIN</a></li>
    
   
    
      <li><b>10 CSOUND FRONTENDS</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csoundqt/">CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/cabbage/">CABBAGE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/blue/">BLUE</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/winxound/">WINXOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-via-terminal/">CSOUND VIA TERMINAL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/web-based-csound/">WEB BASED CSOUND</a></li>
    
   
    
      <li><b>11 CSOUND UTILITIES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/csound-utilities/">CSOUND UTILITIES</a></li>
    
   
    
      <li><b>12 CSOUND AND OTHER PROGRAMMING LANGUAGES</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/a-the-csound-api/">A. THE CSOUND API</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/b-python-inside-csound/">B. PYTHON INSIDE CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/c-python-in-csoundqt/">C. PYTHON IN CSOUNDQT</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/d-lua-in-csound/">D. LUA IN CSOUND</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/e-csound-in-ios/">E. CSOUND IN iOS</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/f-csound-on-android/">F. CSOUND ON ANDROID</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/g-csound-and-haskell/">G. CSOUND AND HASKELL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/h-csound-and-html/">H. CSOUND AND HTML</a></li>
    
   
    
      <li><b>13 EXTENDING CSOUND</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/extending-csound/">EXTENDING CSOUND</a></li>
    
   
    
      <li><b>OPCODE GUIDE</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/overview/">OVERVIEW</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-i/">SIGNAL PROCESSING I</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/signal-processing-ii/">SIGNAL PROCESSING II</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/data/">DATA</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/realtime-interaction/">REALTIME INTERACTION</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/instrument-control/">INSTRUMENT CONTROL</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/maths-pythonsystem-plugins/">MATHS, PYTHON/SYSTEM, PLUGINS</a></li>
    
   
    
      <li><b>APPENDIX</b></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/methods-of-writing-csound-scores/">METHODS OF WRITING CSOUND SCORES</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/glossary/">GLOSSARY</a></li>
    
   
    
      <li><a href="/csound-espanol/_draft/_v/1.0/links/">LINKS</a></li>
    
   
  </ul>
 </div>
 <div id="bookcontent"   style="background: url(/site_static/images/draft_bg.png) repeat !important;">
   

  <h1 style="margin-top: 8px;">ALEATORIEDAD</h1>
<p><span id="result_box" lang="es"><span>Este cap&iacute;tulo</span> <span>se divide en tres</span> <span>partes</span><span>.</span> <span>La Parte I ofrece</span> <span>una introducci&oacute;n general a</span> <span>los conceptos relacionados con los </span><span>n&uacute;meros aleatorios</span> <span>y sobre c&oacute;mo trabajar</span> <span>con ellos en</span> <span>Csound</span><span>.</span> <span>La Parte II</span> <span>se centra en</span> <span>un enfoque</span> <span>m&aacute;s matem&aacute;tico</span><span>.</span> La <span>Parte III</span> <span>introduce una serie de</span> <span>opcodes</span> <span>para la generaci&oacute;n de</span> <span>n&uacute;meros aleatorios</span><span>, funciones y</span> <span>distribuciones</span> <span>y se demuestra</span> <span>su uso</span> <span>en algunos ejemplos</span> <span>musicales</span><span>.</span></span></p>
<h2>I. INTRODUCCI&Oacute;N GENERAL</h2>
<h3>Lo Aleatorio es Diferente</h3>
<p><span id="result_box" lang="es"><span>El t&eacute;rmino <em>random</em> (aleatorio) hist&oacute;ricamente refiere a una situaci&oacute;n en la que </span><span>un caballo</span> <span>corre</span> <span>tan r&aacute;pido que</span> <span>pasa a estar&nbsp;</span><span>'</span><span>fuera de control</span><span>'</span> <span>o</span> <span>'</span><span>m&aacute;s all&aacute; de lo predecible</span><span>'.<span id="InsertNoteID_6_marker7" class="InsertNoteMarker"><a href="d-random/random#InsertNoteID_6">1</a></span></span> <span>Sin embargo,</span> <span>hay diferentes</span> <span>maneras en que se puede</span> <span>correr r&aacute;pido y</span> <span>estar</span> <span>fuera de control</span><span>;</span> p<span>or lo tanto,</span> <span>hay diferentes</span> <span>tipos de</span> <span>aleatoriedad.</span></span></p>
<p><span id="result_box" lang="es"><span>Podemos dividir</span> <span>los tipos de</span> <span>aleatoriedad</span> <span>en dos clases</span><span>.</span> <span>El primero contiene</span> <span>sucesos aleatorios</span> <span>que son independientes de</span> <span>los eventos</span> <span>anteriores</span><span>.</span> <span>El ejemplo m&aacute;s</span> <span>com&uacute;n&nbsp;</span><span>es el lanzamiento de</span> <span>un dado.</span> <span>Incluso si acaba de lanzar </span><span>tres</span> <span>1s</span> de manera consecutiva<span>,</span> <span>cuando se lanza</span> <span>de nuevo, el </span><span>1</span> <span>tiene</span> <span>la misma probabilidad que</span> <span>antes (y</span> <span>que cualquiera de los</span> <span>otros n&uacute;meros)</span><span>.</span> <span>La segunda clase de</span> <span>n&uacute;meros aleatorios</span> <span>implica</span> <span>sucesos aleatorios</span> <span>que dependen</span> <span>de alguna manera</span> <span>de los n&uacute;meros o estados</span> <span>anteriores</span><span>.</span> <span>Ejemplos de esta &uacute;ltima clase</span> <span>son</span> <span>las cadenas</span> <span>de Markov y</span> las 'random walks' o caminatas<span> aleatorias</span><span>.</span></span></p>
<p>&nbsp;</p>
<p><img src="static/random_overview.png" alt="" width="599" height="315" />&nbsp;</p>
<p><span id="result_box" lang="es"><span>El</span> <span>uso de</span> <span>aleatoriedad</span> <span>en la m&uacute;sica electr&oacute;nica</span> es un fen&oacute;meno <span>muy extendido</span><span>.</span> <span>En</span> <span>este cap&iacute;tulo</span><span>,</span> <span>vamos a tratar de</span> <span>explicar c&oacute;mo</span> <span>los</span> <span>diferentes</span> <span>"caballos"</span> aleatorios <span>se mueven</span><span>,</span> <span>y</span> <span>c&oacute;mo Ud. puede crear</span>los <span>y modificarlos</span> a su gusto<span>.</span> A&uacute;n m&aacute;s<span>,</span> <span>hay muchos</span> <span>opcodes</span><span> para trabajar la aleatoriedad</span> <span>pre-construidos</span> <span>en</span> <span>Csound</span>, <span>que pueden ser utilizados</span> <span>desde un primer momento</span> <span>(</span><span>ver el <a href="http://www.csounds.com/manual/html/SiggenNoise.html">overview</a></span> <span>en el Manual de</span> <span>Csound</span><span>)</span><span>.</span> <span>En la</span> <span>secci&oacute;n final de este</span> <span>cap&iacute;tulo se presentan</span> <span>algunas aplicaciones</span> musicales <span>interesantes en base a ellos.</span></span></p>
<p>&nbsp;</p>
<h2>Aleatorio sin Historia</h2>
<p>&nbsp;</p>
<p><span id="result_box" lang="es"><span>Un ordenador</span> <span>es t&iacute;picamente</span> <span>capaz de</span> realizar s&oacute;lo<span> c&aacute;lculos.</span> <span>Los c&aacute;lculos</span> <span>son procesos</span> <em>deterministas</em><span>: una entrada</span> <span>generar&aacute; siempre</span> <span>la misma salida</span><span>, pero</span> <span>un evento aleatorio</span> <span>no es predecible.</span> <span>Para generar</span> <span>algo</span> <span>que <em>se parezca </em>a</span> <span>un evento aleatorio</span><span>,</span> <span>el equipo utiliza</span> <span>un generador</span> <span>pseudo-aleatorio</span><span>.</span></span></p>
<p><span id="result_box" lang="es"><span>El generador</span> <span>pseudo-</span><span>aleatorio</span> <span>tiene</span> <span>un n&uacute;mero</span> <span>como entrada,</span> <span>y genera</span> <span>otro n&uacute;mero</span> <span>como salida.</span> <span>Esta salida</span> <span>es</span> <span>luego la entrada</span> <span>para la pr&oacute;xima generaci&oacute;n</span><span>.</span> <span>Utilizando una</span> <span>gran</span> <span>cantidad de n&uacute;meros</span><span>, se ven</span> <span>como si estuvieran</span> <span>distribuidos aleatoriamente</span><span>,</span> <span>aunque todo</span> <span>depende de la</span> <span>primera entrada</span><span>:</span> <span>la <em>semilla</em></span><span>.</span> <span>A partir de una </span><span>semilla</span> <span>dada</span><span>, es posible predecir los valores siguientes</span>.</span></p>
<h3>&nbsp;</h3>
<h3>Distribuci&oacute;n Uniforme</h3>
<p><span id="result_box" lang="es"><span>La</span> <span>salida de un generador</span> <span>pseudo-</span><span>aleatorio cl&aacute;sico posee una distribuci&oacute;n uniforme</span><span>:</span> <span>cada valor</span> <span>de un rango</span> <span>dado tiene</span> <span>la misma probabilidad de</span> <span>ocurrencia</span><span>.</span> <span>El primer ejemplo muestra</span> <span>la influencia de</span> <span>una semilla</span> <span>fija</span> <span>(utilizando</span> <span>la misma cadena de</span> <span>n&uacute;meros</span> <span>y comenzando desde</span> <span>la misma ubicaci&oacute;n</span> <span>en la cadena</span> <span>cada vez)</span> <span>en contraste con</span> <span>una semilla </span><span>tomada</span> <span>del reloj del sistema</span> <span>(</span><span>la forma m&aacute;s habitual</span> <span>de imitar un fen&oacute;nmeno </span><span>imprevisible</span><span>)</span><span>.</span> <span>Los tres</span> <span>primeros grupos de</span> <span>cuatro notas</span> <span>siempre</span> <span>ser&aacute;n los mismos</span> <span>debido a la utilizaci&oacute;n</span> <span>de</span> <span>la misma semilla</span><span>, mientras que</span> <span>los tres &uacute;ltimos grupos</span> <span>deber&iacute;an tener siempre una altura diferente.</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D01_different_seed.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac -m0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1

instr generate
 ;obtener la semilla: 0 = semilla a partir del reloj del sistema
 ;          cualquier otro n&uacute;mero = semilla fija
           seed       p4
 ;generar cuatro notas a ser interpretadas desde el subinstrumento
iNoteCount =          0
 until iNoteCount == 4 do
iFreq      random     400, 800
           event_i    "i", "play", iNoteCount, 2, iFreq
iNoteCount +=         1 ;aumentar la cuenta de notas
 enduntil
endin

instr play
iFreq      =          p4
           print      iFreq
aImp       mpulse     .5, p3
aMode      mode       aImp, iFreq, 1000
aEnv       linen      aMode, 0.01, p3, p3-0.01
           outs       aEnv, aEnv
endin
&lt;/CsInstruments&gt;
&lt;CsScore&gt;
;repetir tres veces con una semilla fija
r 3
i "generate" 0 2 1
;repetir tres veces con una semilla tomada del reloj del sistema
r 3
i "generate" 0 1 0
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p><span id="result_box" lang="es"><span>Tenga en cuenta que</span> <span>un generador</span> <span>pseudo-</span><span>aleatorio</span> <span>repetir&aacute; su</span> <span>serie</span> <span>de n&uacute;meros despu&eacute;s de</span> <span>tantos pasos como</span> sean dados <span>por el</span> <span>tama&ntilde;o del generador</span><span>.</span> <span>Si se genera</span> <span>un</span> <span>n&uacute;mero de 16 bits</span><span>, la serie</span> <span>se repetir&aacute;</span> <span>despu&eacute;s de</span> <span>65536</span> <span>pasos.</span> <span>Si escucha</span> <span>con atenci&oacute;n</span> <span>el siguiente ejemplo</span><span>, se escuchar&aacute;</span> <span>una repetici&oacute;n</span> <span>en</span> <span>la estructura del</span> <span>ruido blanco</span> <span>(que</span> <span>es el resultado</span> <span>de las amplitudes</span> <span>uniformemente</span> <span>distribuidas</span><span>)</span> <span>despu&eacute;s de 1.5</span> <span>segundos en</span> <span>la primera</span> <span>nota.<span id="InsertNoteID_8_marker9" class="InsertNoteMarker"><sup><a href="d-random/random#InsertNoteID_8">2</a></sup></span></span> <span>En</span> <span>la segunda nota</span><span>, no hay</span> <span>repetici&oacute;n que sea perceptible</span> <span>ya que</span> <span>el generador aleatorio</span> <span>ahora trabaja con</span> <span>un n&uacute;mero</span> <span>de 31 bits</span><span>.</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D02_white_noises.csd</strong></em>&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1

instr white_noise
iBit       =          p4 ;0 = 16 bit, 1 = 31 bit
 ;entrada de rand: amplitud, semilla fija (0.5), tama&ntilde;o de bit
aNoise     rand       .1, 0.5, iBit
           outs       aNoise, aNoise
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "white_noise" 0 10 0
i "white_noise" 11 10 1
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p>Dos cosideraciones generales sobre esto:</p>
<ol>
<li><span id="result_box" lang="es"><span>La</span> <span>forma de establecer</span> <span>la semilla</span> var&iacute;a <span>de</span> <span>opcode en opcode</span><span>.</span> <span>Hay varios</span> opcodes <span>tales como</span> el <a href="http://www.csounds.com/manual/html/rand.html">rand</a> <span>utilizado m&aacute;s arriba</span><span>, que ofrecen</span> <span>la opci&oacute;n</span> <span>de establecer</span> <span>una semilla</span> <span>como</span> <span>par&aacute;metro de entrada</span><span>.</span> <span>En otros,</span> <span>tales como la com&uacute;nmente utilizada familia&nbsp;<a href="http://www.csounds.com/manual/html/random.html">random</a></span><span>, </span><span>la semilla</span> <span>s&oacute;lo puede establecerse</span> <span>a nivel global</span> <span>a trav&eacute;s de</span> <span>la declaraci&oacute;n de </span><span><a href="http://www.csounds.com/manual/html/seed.html">seed</a>.</span> <span>Esto se hace generalmente</span> <span>en el encabezado&nbsp;</span><span>de modo</span> que una declaraci&oacute;n t&iacute;pica<span id="result_box" lang="es"> se ver&iacute;a as&iacute;:<strong></strong></span></span><br />
<pre>&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed = 0 ;semilla a partir del tiempo actual</pre>
<p>...</p>
</li>
<li><span lang="es"><span lang="es"><span>La generaci&oacute;n de n&uacute;meros aleatorios</span> <span>en</span> <span>Csound</span> <span>puede hacerse</span> a cualquier tipo de<span> ciclo.</span> <span>El</span> <span>tipo de</span> <span>la variable de salida</span> <span>indica si</span> <span>van a generarse</span> <span>valores aleatorios</span> <span>en</span> <span>ciclos-i, ciclos-k o ciclos-a</span><span>.</span> <span>Muchos</span> opcodes<span> para aleatoriedad</span><span> pueden</span> <span>trabajar en todos</span> <span>estos ciclos</span><span>,</span> <span>por ejemplo</span> random<span>:</span><br /><br /></span></span>
<pre>1) ires  random  imin, imax
2) kres  random  kmin, kmax
3) ares  random  kmin, kmax</pre>
<span id="result_box" lang="es"><br /><span>En el primer caso</span><span>,</span> <span>un valor aleatorio</span> <span>se genera</span> <span>s&oacute;lo una vez,</span> <span>cuando un instrumento</span> <span>es llama</span><span>do durante</span> <span>la inicializaci&oacute;n</span><span>.</span> <span>El</span> <span>valor generado</span> <span>se almacena en</span> <span>la variable <em>ires</em></span><span>.</span> <span>En el</span> <span>segundo</span> <span>caso,</span> <span>un valor aleatorio</span> <span>se genera</span> <span>en cada</span> <span>ciclo-</span><span>k,</span> <span>y se almacena en</span> <span>kres</span><span>.</span> <span>En el tercer caso</span><span>,</span> <span>en cada</span> <span>ciclo-</span><span>k</span> <span>se</span><span> almacenan tantos valores aleatorios como se necesario para llenar el</span> <span>vector</span> <span>de audio</span><span>,</span> <span>y se almacenan en</span> <span>la variable <em>ares</em></span><span>.</span> Eche un<span> vistazo a</span>l ejemplo <em>03A15_Random_at_ika.csd</em> para ver esto en acci&oacute;n<span>.</span> <span>El Cap&iacute;tulo</span> <span>03A</span> <span>trata de explicar</span> <span>el</span> <span>trasfondo de los diferentes ciclos en profundidad</span><span>,</span> <span>y</span> <span>c&oacute;mo trabajar</span> <span>con ellos</span><span>.</span></span><strong></strong></li>
</ol>
<h3>Otras Distribuciones</h3>
<p><span class="InsertNoteMarker"><span id="result_box" lang="es"><span>La distribuci&oacute;n uniforme</span> <span>es aquella que</span> <span>cada equipo</span> <span>puede producir </span><span>a trav&eacute;s de su</span> <span>generador</span> <span>pseudo-</span><span>aleatorio.</span> <span>Sin embargo,</span> <span>hay muchas situaciones en</span> <span>que no se querr&aacute;</span> <span>un</span> <span>azar distribuido uniformemente, sino</span> <span>de cualquier otra forma</span><span>.</span> <span>Algunas de estas</span> <span>formas</span> <span>son bastante comunes</span><span>,</span> <span>pero de hecho se</span> <span>pueden construir&nbsp;</span><span>formas</span> propias <span>utilizando Csound con bastante facilidad</span><span>.</span> <span>Los</span> <span>siguientes</span> <span>ejemplos</span> <span>muestran c&oacute;mo hacer</span> <span>esto.</span> <span>Est&aacute;n basados en</span> <span>el</span> <span>cap&iacute;tulo</span> <span>hallado en Dodge</span><span>/</span><span>Jerse</span><span id="InsertNoteID_22_marker23" class="InsertNoteMarker"><sup><a href="d-random/random#InsertNoteID_22">3</a></sup></span> <span>que tambi&eacute;n sirvi&oacute;</span> <span>como modelo para</span> <span>muchos</span> opcodes <span>generadores</span> <span>de n&uacute;meros aleatorios</span> <span>en</span> <span>Csound.<span id="InsertNoteID_24_marker25" class="InsertNoteMarker"><sup><a href="d-random/random#InsertNoteID_24">4</a></sup></span></span></span></span></p>
<p><span class="InsertNoteMarker"><br /></span></p>
<h4>Lineal</h4>
<p><span id="result_box" lang="es"><span>Una distribuci&oacute;n</span> <span>lineal</span> <span>significa que los valores</span>&nbsp;<span>menores o los valores mayores</span> <span>en</span> <span>un</span> rango <span>dado</span> ser&aacute;n<span> m&aacute;s probable</span><span>s:</span></span></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/01D_linear_distributionA2.png" alt="" width="487" height="344" /></p>
<p>&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/01D_linear_distributionB2.png" alt="" width="508" height="342" /></p>
<p><span id="result_box" lang="es"><span>Para conseguir</span> <span>este comportamiento</span><span>,</span> <span>se generan dos</span> <span>n&uacute;meros aleatorios</span> <span>uniformes</span><span>,</span> <span>y</span> se selecciona <span>el m&aacute;s bajo para lograr </span> <span>la primera forma</span><span>.</span> <span>Si</span> <span>se necesita</span> <span>la segunda</span> <span>forma en donde prevalecen los </span><span>valores m&aacute;s altos</span><span>, el n&uacute;mero que se toma es el mayor</span><span>.</span> <span>El siguiente</span> <span>ejemplo implementa</span> <span>estos generadores</span> <span>aleatorios como</span> <span>Opcodes</span> <span>Definidos por el Usuario (en ingl&eacute;s, UDO)</span><span>.</span> <span>Primero</span> <span>o&iacute;mos</span> <span>una distribuci&oacute;n uniforme</span><span>,</span> <span>a continuaci&oacute;n,</span> <span>una distribuci&oacute;n</span> <span>lineal con</span> <span>preferencia por</span> <span>los tonos m&aacute;s bajos</span> <span>(pero</span> <span>de mayor duraci&oacute;n</span><span>) y </span> finalmente <span>una distribuci&oacute;n</span> <span>lineal con</span> <span>preferencia de</span> <span>tonos m&aacute;s altos</span> <span>(pero</span> <span>duraciones m&aacute;s cortas</span><span>)</span><span>.</span></span></p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D03_linrand.csd</strong></em>&nbsp;&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac -m0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed 0

;****C&Oacute;DIGOS OPERATIVOS DEFINIDOS PARA UNA DISTRIBUCI&Oacute;N LINEAL****

opcode linrnd_low, i, ii
 ;linear random with precedence of lower values <br /> ;aleatoriedad lineal con precedencia de los valores m&aacute;s bajos
iMin, iMax xin
 ;generate two random values with the random opcode <br /> ;generar dos valores aleatorios con el c&oacute;digo operativo random
iOne       random     iMin, iMax
iTwo       random     iMin, iMax
 ;comparar y devolver el m&aacute;s bajo
iRnd       =          iOne &lt; iTwo ? iOne : iTwo
           xout       iRnd
endop

opcode linrnd_high, i, ii
 ;aleatoriedad lineal con precedencia de los valores m&aacute;s altos
iMin, iMax xin
 ;generar dos valores aleatorios con el c&oacute;digo operativo random
iOne       random     iMin, iMax
iTwo       random     iMin, iMax
 ;comparar y devolver el m&aacute;s alto
iRnd       =          iOne &gt; iTwo ? iOne : iTwo
           xout       iRnd
endop


;****INSTRUMENTOS PARA LAS DISTINTAS DISTRIBUCI&Oacute;NES****

instr notes_uniform
           prints     "... instr notes_uniform ejecut&aacute;ndose:\n"
           prints     "IGUAL PROBABILIDAD PARA TODAS LAS ALTURAS Y DURACIONES\n"
 ;cu&aacute;ntas notas se reproducir&aacute;n
iHowMany   =          p4
 ;ejecutar tantas instancias del instrumento play como sean necesarias
iThisNote  =          0
iStart     =          0
 until iThisNote == iHowMany do
iMidiPch   random     36, 84 ;nota midi
iDur       random     .5, 1 ;duraci&oacute;n
           event_i    "i", "play", iStart, iDur, int(iMidiPch)
iStart     +=         iDur ;aumentar el tiempo de inicio<br />iThisNote  +=         1 ;aumentar la cuenta
 enduntil
 ;reset the duration of this instr to make all events happen<br /> ;reconfigurar la duraci&oacute;n de este instrumento para hacer que todos los eventos ocurran<br />p3         =          iStart + 2
 ;trigger next instrument two seconds after the last note <br /> ;ejecutar el siguiente instrumento pasados dos segundos desde la &uacute;ltima nota
           event_i    "i", "notes_linrnd_low", p3, 1, iHowMany
endin

instr notes_linrnd_low
           prints     "... instr notes_linrnd_low ejecut&aacute;ndose:\n"
           prints     "SE PREFIEREN LAS NOTAS M&Aacute;S BAJAS Y LAS DURACIONES MAS LARGAS\n"
iHowMany   =          p4
iThisNote  =          0
iStart     =          0
 until iThisNote == iHowMany do
iMidiPch   linrnd_low 36, 84 ;se prefieren notas m&aacute;s bajas
iDur       linrnd_high .5, 1 ;se prefieren duraciones m&aacute;s largas
           event_i    "i", "play", iStart, iDur, int(iMidiPch)
iStart     +=         iDur
iThisNote  +=         1
 enduntil
 ;reconfigurar la duraci&oacute;n de este instrumento para hacer que todos los eventos ocurran
p3         =          iStart + 2
 ;trigger next instrument two seconds after the last note <br /> ;ejecutar el siguiente instrumento pasados dos segundos desde la &uacute;ltima nota 
           event_i    "i", "notes_linrnd_high", p3, 1, iHowMany
endin

instr notes_linrnd_high
           prints     "... instr notes_linrnd_high ejecut&aacute;ndose:\n"
           prints     "SE PREFIEREN LAS NOTAS M&Aacute;S ALTAS Y LAS DURACIONES M&Aacute;S CORTAS\n"
iHowMany   =          p4
iThisNote  =          0
iStart     =          0
 until iThisNote == iHowMany do
iMidiPch   linrnd_high 36, 84 ;higher pitches preferred
iDur       linrnd_low .3, 1.2 ;shorter durations preferred
           event_i    "i", "play", iStart, iDur, int(iMidiPch)
iStart     +=         iDur
iThisNote  +=         1
 enduntil
 ;reconfigurar la duraci&oacute;n de este instrumento para hacer que todos los eventos ocurran
p3         =          iStart + 2
 ;llamar al instrumento exit para salir de Csound
           event_i    "i", "exit", p3+1, 1
endin


;****INSTRUMENTOS PARA REPRODUCIR LOS SONIDOS Y PARA ABANDONAR CSOUND****

instr play
 ;aumentar la duraci&oacute;n en el rango aleatorio
iDur       random     p3, p3*1.5
p3         =          iDur
 ;obtener nota midi y convertirla a frecuencia
iMidiNote  =          p4
iFreq      cpsmidinn  iMidiNote
 ;generar nota con el algoritmo de karplus-strong
aPluck     pluck      .2, iFreq, iFreq, 0, 1
aPluck     linen      aPluck, 0, p3, p3
 ;filtro
aFilter    mode       aPluck, iFreq, .1
 ;mezclar aPluck y aFilter de acuerdo a MidiNote
 ;(las notas altas se filtrar&aacute;n m&aacute;s)
aMix       ntrpol     aPluck, aFilter, iMidiNote, 36, 84
 ;paneo tambi&eacute;n de acuerdo a MidiNote
 ;(bajo = izquierda, alto = derecha)
iPan       =          (iMidiNote-36) / 48
aL, aR     pan2       aMix, iPan
           outs       aL, aR
endin

instr exit
           exitnow
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "notes_uniform" 0 1 23 ;establecer el n&uacute;mero de notas por instrumento
;los instrumentos linrnd_low y linrnd_high se ejecutan autom&aacute;ticamente
e 99999 ;posibilita ejecutar durante mucho tiempo (el abandono del programa ser&aacute; autom&aacute;tico)
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<h4>Triangular</h4>
<p><span id="result_box" lang="es"><span>En</span> <span>una distribuci&oacute;n triangular</span> <span>los</span> <span>valores ubicados m&aacute;s hacia el centro</span><span> del</span> <span>rango dado</span> <span>tienen m&aacute;s probabilidades que</span> <span>los que est&aacute;n en</span> <span>los extremos</span><span>.</span> <span>La transici&oacute;n</span> <span>de probabilidad entre</span> <span>el centro y</span> <span>los extremos</span> <span>es lineal:</span></span></p>
<p>&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/01D_triangular_distribution.png" alt="" width="740" height="309" /></p>
<p><span id="result_box" lang="es"><span>El algoritmo para</span> <span>conseguir</span> <span>esta distribuci&oacute;n</span> <span>es tambi&eacute;n</span> <span>muy simple</span><span>.</span> Se g<span>eneran dos</span> <span>n&uacute;meros aleatorios</span> <span>uniformes</span> <span>y se toma</span> <span>la media</span> de<span> ellos</span><span>.</span> <span>El siguiente</span> <span>ejemplo muestra</span> <span>la diferencia entre</span><span> una distribuci&oacute;n</span> <span>uniforme y una distribuci&oacute;n triangular</span> <span>en</span> <span>el mismo entorno que</span> <span>el ejemplo anterior.</span></span></p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D04_trirand.csd</strong></em>&nbsp;&nbsp;&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac -m0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed 0

;****UDO PARA DISTRIBUCI&Oacute;N TRIANGULAR****
opcode trirnd, i, ii
iMin, iMax xin
 ;se generan dos valores aleatorios con el c&oacute;digo operativo random
iOne       random     iMin, iMax
iTwo       random     iMin, iMax
 ;get the mean and output
iRnd       =          (iOne+iTwo) / 2
           xout       iRnd
endop

;****INSTRUMENTOS PARA UNA DISTRIBUCI&Oacute;N UNIFORME Y TRIANGULAR****

instr notes_uniform
           prints     "... instr notes_uniform ejecut&aacute;ndose:\n"
           prints     "IGUAL PROBABILIDAD PARA TODAS LAS ALTURAS Y DURACIONES\n"
 ;how many notes to be played
iHowMany   =          p4
 ;disparar tantas instancias del instrumento play como sean necesarias
iThisNote  =          0
iStart     =          0
 until iThisNote == iHowMany do
iMidiPch   random     36, 84 ;nota midi
iDur       random     .25, 1.75 ;duraci&oacute;n
           event_i    "i", "play", iStart, iDur, int(iMidiPch)
iStart     +=         iDur ;aumentar el tiempo de inicio
iThisNote  +=         1 ;aumentar el contador
 enduntil
 ;reconfigurar la duraci&oacute;n de este instrumento para hacer que todos los eventos ocurran
p3         =          iStart + 2
 ;ejecutar el siguiente instrumento pasados dos segundos desde la &uacute;ltima nota 
           event_i    "i", "notes_trirnd", p3, 1, iHowMany
endin

instr notes_trirnd
           prints     "... instr notes_trirnd ejecut&aacute;ndose:\n"
           prints     "SE PREFIEREN NOTAS Y DURACIONES DE LA MEDIA\n"
iHowMany   =          p4
iThisNote  =          0
iStart     =          0
 until iThisNote == iHowMany do
iMidiPch   trirnd     36, 84 ;se prefieren las alturas del medio
iDur       trirnd     .25, 1.75 ;se prefieren las duraciones del medio
           event_i    "i", "play", iStart, iDur, int(iMidiPch)
iStart     +=         iDur
iThisNote  +=         1
 enduntil
 ;reconfigurar la duraci&oacute;n de este instrumento para hacer que todos los eventos ocurran
p3         =          iStart + 2
 ;llamar al instrumento correspondiente para abandonar Csound
           event_i    "i", "exit", p3+1, 1
endin


;****INSTRUMENTOS PARA REPRODUCIR LOS SONIDOS Y PARA ABANDONAR CSOUND****

instr play
 ;aumentar la duraci&oacute;n en el rango aleatorio
iDur       random     p3, p3*1.5
p3         =          iDur
 ;obtener nota midi y convertirla a frecuencia
iMidiNote  =          p4
iFreq      cpsmidinn  iMidiNote
 ;generar nota con el algoritmo karplus-strong
aPluck     pluck      .2, iFreq, iFreq, 0, 1
aPluck     linen      aPluck, 0, p3, p3
 ;filtro
aFilter    mode       aPluck, iFreq, .1
 ;mezclar aPluck y aFilter de acuerdo a MidiNote
 ;(las notas altas se filtrar&aacute;n m&aacute;s)
aMix       ntrpol     aPluck, aFilter, iMidiNote, 36, 84
 ;paneo tambi&eacute;n de acuerdo a MidiNote <br /> ;(bajo = izquierda, alto = derecha) <br />iPan       =          (iMidiNote-36) / 48
aL, aR     pan2       aMix, iPan
           outs       aL, aR
endin

instr exit
           exitnow
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "notes_uniform" 0 1 23 ;establecer el n&uacute;mero de notas por instrumento
;el instrumento trirnd se ejecutar&aacute; autom&aacute;ticamente
e 99999 ;posibilita ejecutar durante mucho tiempo (el abandono del programa ser&aacute; autom&aacute;tico)
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p><span lang="es"><strong><br /></strong></span></p>
<p><span id="result_box" lang="es"><strong>M&aacute;s sobre Lineal y Triangular</strong></span></p>
<p><span id="result_box" lang="es"><br /><span>Despu&eacute;s de haber</span> <span>escrito</span> <span>esto utilizando algunos</span> <span>UDOs</span> <span>muy simples</span><span>, resulta sencillo enfatizar</span> <span>los</span> <span>picos</span> <span>de probabilidad de las</span> <span>distribuciones</span> <span>mediante la generaci&oacute;n de</span> <span>m&aacute;s de dos</span> <span>n&uacute;meros al azar</span><span>.</span> <span>Si generan</span> <span>tres n&uacute;meros</span> <span>y se elige</span> <span>el m&aacute;s peque&ntilde;o</span> <span>de ellos</span><span>,</span> <span>se obtendr&aacute;n</span> <span>muchos</span> <span>m&aacute;s n&uacute;meros</span> <span>cerca del m&iacute;nimo</span> <span>para</span> <span>la distribuci&oacute;n</span> <span>lineal.</span> <span>Si se generan</span> <span>tres</span> <span>n&uacute;meros al azar</span> <span>y se toma</span> <span>la media</span> <span>de ellos</span><span>,</span> <span>el resultado final se aproximar&aacute;</span> <span>a</span> <span>m&aacute;s n&uacute;meros</span> <span>cercanos a</span> <span>la</span> <span>media</span><span> para la</span> <span>distribuci&oacute;n triangular</span><span>.</span><br /><br /><span>Si</span> <span>queremos escribir</span> <span>UDOs</span> <span>con</span> <span>un n&uacute;mero flexible de</span> <span>n&uacute;meros&nbsp;</span><span>sub</span><span>-</span><span>generados,</span> <span>deber&iacute;amos escribir</span> <span>el</span> <span>c&oacute;digo de una manera</span> <span>ligeramente diferente</span><span>.</span> <span>En lugar de tener</span> <span>una l&iacute;nea de c&oacute;digo</span> <span>para cada</span> <span>generador aleatorio</span><span>, utilizaremos</span> <span>un bucle</span><span>, que a su vez llamar&aacute; al</span> <span>generador</span> <span>tantas veces</span> <span>como&nbsp;</span><span>unidades se deseen obtener</span><span>.</span> <span>Una variable</span> <span>almacenar&aacute;</span> <span>los resultados de esta</span> <span>acumulaci&oacute;n.</span> Reescribir<span id="result_box" lang="es"> el</span> <span>c&oacute;digo operativo</span> <span>para el</span> <span>UDO</span> <span><em>trirnd</em> nos llevar&iacute;a a</span> <span>la siguiente formulaci&oacute;n</span><span>:</span></span></p>
<p>&nbsp;</p>
<pre>opcode trirnd, i, ii
iMin, iMax xin
 ;establecer un contador y una cuenta m&aacute;xima
iCount     =          0
iMaxCount  =          2
 ;establecer el acumulador en cero como valor inicial
iAccum     =          0
 ;ejecutar bucle y acumular
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iAccum     +=         iUniRnd
iCount     +=         1
 enduntil
 ;obtener la media y retornar.
iRnd       =          iAccum / 2
           xout       iRnd
endop</pre>
<p><span id="result_box" lang="es"><span>Para tornar</span> &eacute;sto <span>completamente flexible</span><span>, es suficiente</span> con configurar <em>iMaxCount</em><span> como</span> <span>argumento de entrada</span><span>.</span> <span>El</span> <span>c&oacute;digo para los</span> UDOs de <span>distribuci&oacute;n lineal</span>&nbsp;<span>es bastante similar</span><span>.</span> -- <span>El siguiente</span> <span>ejemplo muestra</span> <span>estos pasos</span><span>:</span></span></p>
<ol>
<li>Distribuci&oacute;n uniforme</li>
<li>Distribuci&oacute;n lineal con prevalencia de las alturas m&aacute;s bajas y duraciones m&aacute;s largas, generadas con dos unidades</li>
<li>&Iacute;dem pero con cuatro unidades</li>
<li>Distribuci&oacute;n lineal con prevalencia de las alturas m&aacute;s altas y duraciones m&aacute;s cortas, generadas con dos unidades</li>
<li>&Iacute;dem pero con cuatro unidades</li>
<li>Distribuci&oacute;n triangular con prevalencia de alturas y duraciones medias, generadas con dos unidades</li>
<li>&Iacute;dem pero con seis unidades</li>
</ol>
<p><span id="result_box" lang="es"><span>En lugar de utilizar</span> <span>diferentes</span> <span>instrumentos</span> <span>para las distintas</span> <span>distribuciones</span><span>, el siguiente</span> <span>ejemplo</span> <span>combina</span> <span>todas las</span> <span>posibilidades en</span> <span>un solo instrumento</span><span>.</span> <span>Dentro del bucle</span> <span>que genera</span> <span>tantas notas</span> <span>como se deseen</span> <span>por medio del argumento</span> <em>iHowMany,</em> <span>una sentencia condicional<em> if</em> </span><span>calcula el</span> <span>tono y la duraci&oacute;n</span> <span>de</span> <span>una</span> <span>nota</span> <span>en funci&oacute;n del tipo</span> <span>de distribuci&oacute;n y el</span> <span>n&uacute;mero de sub-</span><span>unidades</span> <span>utilizados</span><span>.</span> <span>La secuencia entera</span> <span>(cu&aacute;l</span> tipo <span>primero</span><span>, cu&aacute;l siguiente,</span><span> etc.)</span> <span>se almacena en el vector</span> <span>global <em>giSequence</em></span><span>.</span> <span>Cada instancia del</span> <span>instrumento</span> "notes<span>",&nbsp;</span><span>incrementa el</span> <span>puntero</span> <em>giSeqIndx</em><span>,</span> <span>de modo que en l</span><span>a pr&oacute;xima ejecuci&oacute;n</span> <span>se leer&aacute; </span><span>el&nbsp;</span><span>elemento siguiente del vector</span><span>.</span> <span>Si</span> <span>el puntero</span> <span>ha alcanzado el</span> <span>final del mismo</span><span>,</span> <span>el instrumento</span> <span>que ocasiona la salida de </span><span>Csound</span> <span>es llamado en </span><span>lugar de</span> <span>una nueva instancia de</span> <span>"notes"</span><span>.</span></span></p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D05_more_lin_tri_units.csd</strong></em>&nbsp;&nbsp;&nbsp;&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac -m0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed 0

;****SECUENCIAS DE UNIDADES COMO ARRAYS****/
giSequence[] array 0, 1.2, 1.4, 2.2, 2.4, 3.2, 3.6
giSeqIndx = 0 ;&iacute;ndice de comienzo

;****DEFINICIONES DE UDOs****
opcode linrnd_low, i, iii
 ;aleatoriedad lineal con prevalencia de los valores m&aacute;s bajos
iMin, iMax, iMaxCount xin
 ;establecer contador y resultado inicial (absurdo)
iCount     =          0
iRnd       =          iMax
 ;bucle y reseteo de iRnd
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iRnd       =          iUniRnd &lt; iRnd ? iUniRnd : iRnd
iCount     +=         1
 enduntil
           xout       iRnd
endop

opcode linrnd_high, i, iii
 ;aleatoriedad lineal con prevalencia de los valores m&aacute;s altos
iMin, iMax, iMaxCount xin
 ;establecer contador y resultado inicial (absurdo)
iCount     =          0
iRnd       =          iMin
 ;bucle y reseteo de iRnd
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iRnd       =          iUniRnd &gt; iRnd ? iUniRnd : iRnd
iCount     +=         1
 enduntil
           xout       iRnd
endop

opcode trirnd, i, iii
iMin, iMax, iMaxCount xin
 ;establecer un contador y un acumulador
iCount     =          0
iAccum     =          0
 ;ejecutar bucle y acumular
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iAccum     +=         iUniRnd
iCount     +=         1
 enduntil
 ;obtener la media y retornar
iRnd       =          iAccum / iMaxCount
           xout       iRnd
endop

;****UN INSTRUMENTO QUE REALIZA TODAS LAS DISTRIBUCIONES****
;0 = uniforme, 1 = linrnd_low, 2 = linrnd_high, 3 = trirnd
;la parte fraccionaria denota el n&uacute;mero de unidades, por ejemplo,
;3.4 = distribuci&oacute;n triangular con cuatro sub-unidades

instr notes
 ;cu&aacute;ntas notas se ejecutar&aacute;n
iHowMany   =          p4
 ;por qu&eacute; distribuci&oacute;n con cu&aacute;ntas unidades
iWhich     =          giSequence[giSeqIndx]
iDistrib   =          int(iWhich)
iUnits     =          round(frac(iWhich) * 10)
 ;establecer duraci&oacute;n m&iacute;nima y m&aacute;xima
iMinDur    =          .1
iMaxDur    =          2
 ;establecer altura m&iacute;nima y m&aacute;xima
iMinPch    =          36
iMaxPch    =          84

 ;disparar tantas instancias del instrumento play como sea necesario
iThisNote  =          0
iStart     =          0
iPrint     =          1

 ;por cada nota a ejecutarse
 until iThisNote == iHowMany do

  ;calcular iMidiPch y iDur dependiendo del tipo
  if iDistrib == 0 then
           printf_i   "%s", iPrint, "... distribuci&oacute;n uniforme:\n"
           printf_i   "%s", iPrint, "IGUAL PROBABILIDAD PARA TODAS LAS ALTURAS Y DURACIONES\n"
iMidiPch   random     iMinPch, iMaxPch ;nota midi
iDur       random     iMinDur, iMaxDur ;duraci&oacute;n
  elseif iDistrib == 1 then
           printf_i    "... distribuci&oacute;n lineal baja con %d unidades:\n", iPrint, iUnits
           printf_i    "%s", iPrint, "SE PREFIEREN NOTAS M&Aacute;S BAJAS Y DURACIONES M&Aacute;S LARGAS\n"
iMidiPch   linrnd_low iMinPch, iMaxPch, iUnits
iDur       linrnd_high iMinDur, iMaxDur, iUnits
  elseif iDistrib == 2 then
           printf_i    "... distribuci&oacute;n lineal alta con %d unidades:\n", iPrint, iUnits
           printf_i    "%s", iPrint, "SE PREFIEREN NOTAS M&Aacute;S ALTAS Y DURACIONES M&Aacute;S CORTAS\n"
iMidiPch   linrnd_high iMinPch, iMaxPch, iUnits
iDur       linrnd_low iMinDur, iMaxDur, iUnits
  else
           printf_i    "... distribuci&oacute;n triangular con %d unidades:\n", iPrint, iUnits
           printf_i    "%s", iPrint, "SE PREFIEREN ALTURAS Y DURACIONES MEDIAS\n"
iMidiPch   trirnd     iMinPch, iMaxPch, iUnits
iDur       trirnd     iMinDur, iMaxDur, iUnits
  endif

 ;llamar al subinstrumento para interpretar la nota
           event_i    "i", "play", iStart, iDur, int(iMidiPch)

 ;aumentar tiempo de inicio y contador
iStart     +=         iDur
iThisNote  +=         1
 ;evitar la impresi&oacute;n a pantalla continua
iPrint     =          0
 enduntil

 ;restablecer la duraci&oacute;n de este instrumento para hacer que todas las ejecuciones sucedan.
p3         =          iStart + 2

 ;aumentar el &iacute;ndice para la secuencia
giSeqIndx  +=         1
 ;llamar al instrumento de nuevo si la secuencia no ha sido terminada
 if giSeqIndx &lt; lenarray(giSequence) then
           event_i    "i", "notes", p3, 1, iHowMany
 ;o salir
 else
           event_i    "i", "exit", p3, 1
 endif
endin


;****INSTRUMENTOS PARA EJECUTAR LOS SONIDOS Y ABANDONAR CSOUND****
instr play
 ;aumentar la duraci&oacute;n en el rango aleatorio
iDur       random     p3, p3*1.5
p3         =          iDur
 ;obtener nota midi y convertirla a frecuencia
iMidiNote  =          p4
iFreq      cpsmidinn  iMidiNote
 ;generar nota con el algoritmo de karplus-strong
aPluck     pluck      .2, iFreq, iFreq, 0, 1
aPluck     linen      aPluck, 0, p3, p3
 ;filtro
aFilter    mode       aPluck, iFreq, .1
 ;mezclar aPluck y aFilter de acuerdo a MidiNote
 ;(las notas m&aacute;s altas se filtrar&aacute;n m&aacute;s)
aMix       ntrpol     aPluck, aFilter, iMidiNote, 36, 84
 ;paneo de acuerdo a MidiNote
 ;(bajo = izquierda, alto = derecho)
iPan       =          (iMidiNote-36) / 48
aL, aR     pan2       aMix, iPan
           outs       aL, aR
endin

instr exit
           exitnow
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "notes" 0 1 23 ;establecer el n&uacute;mero de notas por instrumento aqu&iacute;
e 99999 ;posibilita ejecutar durante mucho tiempo (la salida de Csound ser&aacute; autom&aacute;tica)
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p><span id="result_box" lang="es"><span>Con</span> <span>este m&eacute;todo</span> <span>podemos construir</span> <span>distribuciones de probabilidad</span> <span>muy similares</span> <span>a</span> <span>las distribuciones exponenciales y gaussianas.</span><span id="InsertNoteID_7_marker8" class="InsertNoteMarker"><sup><a href="d-random/random#InsertNoteID_7">5</a></sup></span> La<span> forma</span> puede configurarse <span>f&aacute;cilmente</span> <span>mediante el n&uacute;mero de</span> <span>sub-</span><span>unidades utilizadas</span><span>.</span></span></p>
<h4>Scalings [Escalamiento]</h4>
<p><span id="result_box" lang="es"><span>La aleatoriedad</span> <span>es</span> <span>un &aacute;mbito complejo</span> <span>y sensible</span><span>.</span> <span>Hay tantas</span> <span>maneras para dejar que el</span> <span>caballo</span> <span>vaya</span><span>, corra o</span> <span>baile</span> <span>-</span><span>las</span> <span>condiciones</span> <span>que se establecen para</span> <span>este "</span><span>modo de moverse</span><span>" </span><span>son mucho</span> <span>m&aacute;s importantes que el</span> <span>hecho de que un</span> <span>solo movimiento</span> <span>no sea predecible</span><span>.</span> <span>&iquest;Cu&aacute;les son las</span> <span>condiciones de esta</span> <span>aleatoriedad</span><span>?</span></span></p>
<ul>
<li><strong></strong><em>Cu&aacute;l camino</em>. Esto ya ha sido descripto: aleatoriedad con y sin historia, qu&eacute; distribuci&oacute;n de probabilidad, etc.<strong></strong></li>
<li><em>Cu&aacute;l Rango</em>.&nbsp;<span id="result_box" lang="es"><span>Esta es una decisi&oacute;n</span> <span>que viene del</span> <span>compositor</span><span>/</span><span>programador.</span> <span>En el ejemplo anterior</span> se han<span> elegido</span> <span>alturas para la notas Midi que van del valor</span><span> 36</span> <span>al 84 (</span><span>C2 a</span> <span>C6</span><span>)</span><span>,</span> <span>y</span> <span>duraciones de</span> <span>entre 0.1 y</span> <span>2 segundos</span><span>.</span> <span>Imag&iacute;nese</span> <span>c&oacute;mo habr&iacute;a</span> <span>sonado</span> <span>con alturas</span> <span>con valores de 60 a</span> <span>67,</span> <span>y duraciones</span> <span>de 0.9</span> <span>a 1.1</span> <span>segundos, o bien</span> <span>de 0.1</span> <span>a 0.2</span> <span>segundos.</span> <span>No hay una</span> rango <span>"correcto"</span><span>, todo depende de</span> <span>la idea musical</span><span>.</span></span><strong></strong></li>
<li><strong></strong><em>Cu&aacute;l Desarrollo</em><em>.&nbsp;</em><span id="result_box" lang="es">Por lo general, los l&iacute;mites cambiar&aacute;n a lo largo de una pieza. El rango de las alturas puede pasar de menor a mayor, o de estrecho a ancho; las duraciones pueden tornarse m&aacute;s bajas, etc.<strong></strong></span></li>
<li><em>Cu&aacute;les Escalamientos</em>. Pensemos sobre esto con mayor detenimiento.<strong></strong></li>
</ul>
<p><span id="result_box" lang="es"><span>En el ejemplo anterior</span> <span>hemos utilizado dos</span> <span>escalamientos</span> <span>impl&iacute;citos</span><span>.</span> <span>Las alturas</span> <span>han sido delimitadas&nbsp;</span><span>a las de las teclas</span> <span>de</span> <span>un piano o</span> <span>teclado.</span> <span>&iquest;Por qu&eacute;?</span> <span>No</span> <span>estamos tocando un piano</span> <span>aqu&iacute;</span><span>, obviamente,</span> <span>...</span> <span>-</span><span>&iquest;Qu&eacute; otras</span> <span>posibilidades</span> <span>podr&iacute;an haberse elegido</span> <span>en su lugar?</span> <span>Una de ellas ser&iacute;a</span><span>:</span> <span>ningun escalamiento</span> <span>en absoluto.</span> <span>Esta es la forma</span> <span>m&aacute;s f&aacute;cil de proseguir</span> <span>-</span><span>si realmente es</span> <span>la mejor</span><span>,</span> <span>o simplemente</span> <span>actuamos por pereza</span><span>,</span> <span>s&oacute;lo puede</span> <span>ser decidido por el</span> <span>compositor o</span> <span>el oyente</span><span>.</span></span></p>
<p><span id="result_box" lang="es"><span>En lugar de utilizar</span> <span>la escala crom&aacute;tica</span> <span>temperada</span><span>,</span> <span>o de usar ninguna</span> escala <span>en absoluto</span><span>, se puede</span> <span>utilizar</span> <span>cualquier otra</span> <span>manera de seleccionar</span> <span>o</span> <span>cuantificar las alturas</span><span>.</span> Tr&aacute;tese de <span>cualquiera</span> que haya o est&eacute; siendo usada <span id="result_box" lang="es">en</span> <span>cualquier</span> <span>parte del mundo</span><span>,</span> <span>o</span> <span>sea una de su</span> <span>propia invenci&oacute;n</span><span>, por cualquier</span> <span>fantas&iacute;a, </span><span>invenci&oacute;n o</span> <span>sistema.</span><br /><br /><span>En cuanto a</span> <span>la duraci&oacute;n</span><span>, el ejemplo anterior</span> <span>no ha mostrado</span> e<span>scalamiento</span> <span>en absoluto.</span> <span>Esto es sin dudas</span> <span>por pereza</span> <span>..</span></span></p>
<p><span id="result_box" lang="es"><span>El siguiente ejemplo es</span> <span>esencialmente el mismo que</span> <span>el anterior</span><span>, pero</span> <span>utilizando una</span> <span>escala de alturas</span> <span>que</span> <span>representa la serie</span> <span>de arm&oacute;nicos</span><span>. Comenzando en el</span> <span>segundo</span> <span>parcial</span> <span>se extiende hacia arriba</span> <span>al </span><span>parcial</span> <span>n&uacute;mero 32</span><span>.</span> <span>Esta escala</span> <span>est&aacute; escrita</span> <span>dentro de un vector</span> <span>mediante una declaraci&oacute;n en el</span><span> instrumento</span> <span>0.</span> <span>Las</span> <span>duraciones</span> <span>poseen&nbsp;</span><span>valores posibles</span> fijos <span>que tambi&eacute;n est&aacute;n escritas</span> <span>en otro vector</span> <span>(de</span> <span>la m&aacute;s larga</span> <span>a la</span> <span>m&aacute;s corta</span><span>) de manera manual</span><span>.</span> <span>Los valores en</span> <span>ambas vector </span><span>son luego l</span><span>lamados</span> <span>de acuerdo a su</span> <span>posici&oacute;n</span><span>.</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D06_scalings.csd</strong></em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-d -odac -m0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed 0


;****DURACIONES POSIBLES DENTRO DE UN ARRAY****
giDurs[]   array      3/2, 1, 2/3, 1/2, 1/3, 1/4
giLenDurs  lenarray   giDurs

;****ALTURAS POSIBLES DENTRO DE UN ARRAY****
 ;inicializar array con 31 pasos/escalones
giScale[]  init       31
giLenScale lenarray   giScale
 ;iterar para llenar desde 65 hz en adelante
iStart     =          65
iDenom     =          3 ;inicio con 3/2
iCnt       =          0
 until iCnt = giLenScale do
giScale[iCnt] =       iStart
iStart     =          iStart * iDenom / (iDenom-1)
iDenom     +=         1 ;la siguiente proporci&oacute;n es 4/3 etc.
iCnt       +=         1
 enduntil

;****SECUENCIA DE UNIDADES DENTRO DE UN ARRAY****
giSequence[] array    0, 1.2, 1.4, 2.2, 2.4, 3.2, 3.6
giSeqIndx  =          0 ;startindex

;****UDO DEFINITIONS****
opcode linrnd_low, i, iii
 ;aleatoriedad lineal con preferencia de valores m&aacute;s bajos
iMin, iMax, iMaxCount xin
 ;establecer contador y resultado inicial (absurdo)
iCount     =          0
iRnd       =          iMax
 ;realizar bucle y restablecer iRnd
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iRnd       =          iUniRnd &lt; iRnd ? iUniRnd : iRnd
iCount += 1
enduntil
           xout       iRnd
endop

opcode linrnd_high, i, iii
 ;aleatoriedad lineal con preferencia de valores m&aacute;s altos
iMin, iMax, iMaxCount xin
 ;establecer contador y resultado inicial (absurdo)
iCount     =          0
iRnd       =          iMin
 ;realizar bucle y restablecer iRnd
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iRnd       =          iUniRnd &gt; iRnd ? iUniRnd : iRnd
iCount += 1
enduntil
           xout       iRnd
endop

opcode trirnd, i, iii
iMin, iMax, iMaxCount xin
 ;establecer un contador y un acumulador
iCount     =          0
iAccum     =          0
 ;realizar bucle y acumular
 until iCount == iMaxCount do
iUniRnd    random     iMin, iMax
iAccum += iUniRnd
iCount += 1
enduntil
 ;obtener la media y retornar
iRnd       =          iAccum / iMaxCount
           xout       iRnd
endop


;****UN INSTRUMENTO QUE REALIZA TODAS LAS DISTRIBUCIONES**** <br />;0 = uniforme, 1 = linrnd_low, 2 = linrnd_high, 3 = trirnd <br />;la parte fraccionaria denota el n&uacute;mero de unidades, por ejemplo, <br />;3.4 = distribuci&oacute;n triangular con cuatro sub-unidades 
instr notes
 ;cu&aacute;ntas notas deberan ejecutarse
iHowMany   =          p4
 ;mediante qu&eacute; distribuci&oacute;n y con cu&aacute;ntas unidades
iWhich     =          giSequence[giSeqIndx]
iDistrib   =          int(iWhich)
iUnits     =          round(frac(iWhich) * 10)

 ;disparar tantas instancias del instrumento play como sea necesario
iThisNote  =          0
iStart     =          0
iPrint     =          1

 ;para cada nota a ser ejecutada
 until iThisNote == iHowMany do

  ;calcular iMidiPch e iDur dependiendo del tipo
  if iDistrib == 0 then
           printf_i   "%s", iPrint, "... distribuci&oacute;n uniforme:\n"
           printf_i   "%s", iPrint, "IGUAL PROBABILIDAD PARA TODAS LAS ALTURAS Y DURACIONES\n"
iScaleIndx random     0, giLenScale-.0001 ;nota midi
iDurIndx   random     0, giLenDurs-.0001 ;duraci&oacute;n
  elseif iDistrib == 1 then
           printf_i   "... distribuci&oacute;n lineal baja con %d unidades:\n", iPrint, iUnits
           printf_i   "%s", iPrint, "SE PREFIEREN NOTAS M&Aacute;S BAJAS Y DURACIONES M&Aacute;S LARGAS\n"
iScaleIndx linrnd_low 0, giLenScale-.0001, iUnits
iDurIndx   linrnd_low 0, giLenDurs-.0001, iUnits
  elseif iDistrib == 2 then
           printf_i   "... distribuci&oacute;n lineal con %d unidades:\n", iPrint, iUnits
           printf_i   "%s", iPrint, "SE PREFIEREN NOTAS M&Aacute;S ALTAS Y DURACIONES M&Aacute;S CORTAS\n"
iScaleIndx linrnd_high 0, giLenScale-.0001, iUnits
iDurIndx   linrnd_high 0, giLenDurs-.0001, iUnits
           else
           printf_i   "... distribuci&oacute;n triangular con %d unidades:\n", iPrint, iUnits
           printf_i   "%s", iPrint, "SE PREFIEREN NOTAS Y DURACIONES MEDIAS\n"
iScaleIndx trirnd     0, giLenScale-.0001, iUnits
iDurIndx   trirnd     0, giLenDurs-.0001, iUnits
  endif

 ;llamar al subinstrumento para ejecutar la nota
iDur       =          giDurs[int(iDurIndx)]
iPch       =          giScale[int(iScaleIndx)]
           event_i    "i", "play", iStart, iDur, iPch

 ;incrementar el tiempo de inicio y el contador
iStart     +=         iDur
iThisNote  +=         1
 ;evitar imprimir a pantalla continuadamente
iPrint     =          0
enduntil

 ;restablecer la duraci&oacute;n de este instrumento para hacer que todos los eventos sucedan
p3         =          iStart + 2

 ;incrementar el &iacute;ndice de la secuencia
giSeqIndx += 1
 ;llamar al instrumento nuevamente si la secuencia no ha sido terminada
 if giSeqIndx &lt; lenarray(giSequence) then
           event_i    "i", "notes", p3, 1, iHowMany
 ;o salir de Csound
           else
           event_i    "i", "exit", p3, 1
 endif
endin


;****INTRUMENTOS PARA INTERPRETAR LOS SONIDOS Y SALIR DE CSOUND****
instr play
 ;incrementar la duraci&oacute;n en el rango aleatorio
iDur       random     p3*2, p3*5
p3         =          iDur
 ;obtener frecuencia
iFreq      =          p4
 ;generar nota con el algoritmo de karplus-strong
aPluck     pluck      .2, iFreq, iFreq, 0, 1
aPluck     linen      aPluck, 0, p3, p3
 ;filtro
aFilter    mode       aPluck, iFreq, .1
 ;mezclar aPluck y aFilter de acuerdo a la frecuencia
 ;(las notas altas se filtrar&aacute;n m&aacute;s)
aMix       ntrpol     aPluck, aFilter, iFreq, 65, 65*16
 ;paneo tambi&eacute;n de acuerdo a la frecuencia
 ;(bajo = izquierda, alto = derecha)
iPan       =          (iFreq-65) / (65*16)
aL, aR     pan2       aMix, iPan
           outs       aL, aR
endin

instr exit
           exitnow
endin
&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "notes" 0 1 23 ;establecer n&uacute;mero de notas por instrumento aqu&iacute;
e 99999 ;posibilita ejecutar durante mucho tiempo (la salida de Csound ser&aacute; autom&aacute;tica)
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p>&nbsp;</p>
<h2>Aleatoriedad con Historia</h2>
<p><span id="result_box" lang="es"><span>Hay muchas maneras en que&nbsp;</span><span>un valor determinado</span> dentro de <span>una progresi&oacute;n</span> <span>de n&uacute;meros aleatorios</span> <span>puede influir en el</span> <span>valor siguiente.</span> <span id="result_box" lang="es">Hay dos que se utilizan con frecuencia.</span> <span>Una cadena de</span> <span>Markov</span> <span>se basa en un</span> <span>n&uacute;mero de estados posibles</span><span>,</span> <span>y define</span> <span>una probabilidad diferente</span> <span>para cada uno de</span> <span>estos estados.</span> <span>Un</span> <span>paseo aleatorio</span> considera a<span>l &uacute;ltimo</span> <span>estado como una</span> <span>posici&oacute;n en</span> <span>una rango</span> <span>o campo</span><span>,</span> <span>y permite </span><span>s&oacute;lo ciertas</span> <span>desviaciones</span> <span>respecto de esta posici&oacute;n</span><span>.</span></span></p>
<h3>Cadenas de Markov</h3>
<p><span id="result_box" lang="es"><span>Un caso</span> <span>t&iacute;pico de</span> <span>una cadena de Markov</span> <span>en la m&uacute;sica</span> <span>es el de una secuencia de</span> <span>ciertos tonos</span> <span>o notas.</span> <span>Para</span> <span>cada nota</span><span>,</span> <span>la probabilidad de&nbsp;</span><span>la siguiente nota</span> se escribe <span>en una</span> <span>tabla como esta:</span></span></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/01D_markov_table.png" alt="" width="274" height="185" />&nbsp;</p>
<p><span id="result_box" lang="es"><span>Esto significa</span><span>:</span> <span>la probabilidad</span> <span>de que</span> <span>se repita</span> <span>un</span> <span>elemento</span><span> a </span><span>es de 0,2</span><span>;</span> <span>la probabilidad de que</span> <span>b siga despu&eacute;s de a </span><span>es</span> <span>0,5</span><span>;</span> <span>la probabilidad de que</span> <span>c</span> <span>sigua</span> despu&eacute;s<span> de a es</span> <span>0,3</span><span>.</span> <span>La suma</span> <span>de todas las probabilidades</span> <span>debe</span><span>,</span> <span>por convenci&oacute;n</span><span>, ser igual a </span><span>1.</span> <span>El</span> <span>siguiente ejemplo</span> <span>muestra el</span> <span>algoritmo b&aacute;sico</span> <span>que eval&uacute;a</span> <span>la primera l&iacute;nea de</span> <span>la tabla</span> <span>de Markov</span> <span>ilustrada anteriormente,</span> <span>en el caso</span><span> en que </span><span>el elemento</span> <span>anterior</span> <span>ha</span>ya <span>sido</span> <span>'a'.</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D07_markov_basics.csd</strong></em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-ndm0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
0dbfs = 1
nchnls = 1
seed 0

instr 1
iLine[]    array      .2, .5, .3
iVal       random     0, 1
iAccum     =          iLine[0]
iIndex     =          0
 until iAccum &gt;= iVal do
iIndex     +=         1
iAccum     +=         iLine[iIndex]
 enduntil
           printf_i   "N&uacute;mero aleatorio = %.3f, siguiente elemento = %c!\n", 1, iVal, iIndex+97
endin
&lt;/CsInstruments&gt;
&lt;CsScore&gt;
r 10
i 1 0 0
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz
</pre>
<p><span id="result_box" lang="es"><span>Las probabilidades</span> <span>son</span> <span>0.2,</span> <span>0.5</span> y <span>0.3</span><span>.</span> <span>En primer lugar</span> <span>se genera</span> <span>un n&uacute;mero aleatorio</span> <span>distribuido uniformemente</span> <span>entre</span> <span>0</span> <span>y</span> <span>1</span><span>.</span> <span>Un</span> acumulador <span>es establecido utilizando e</span><span>l primer elemento</span> <span>de la l&iacute;nea</span> <span>(en este caso</span> <span>0.2</span><span>)</span><span>.</span> <span>Luego es</span> <span>interrogado</span> <span>en cuanto a si</span> <span>es m&aacute;s grande que</span> <span>el n&uacute;mero aleatorio</span><span>.</span> <span>Si es as&iacute;,</span> <span>se devuelve el</span> <span>&iacute;ndice,</span> <span>si no,</span> <span>se a&ntilde;ade el</span> <span>segundo</span> <span>elemento</span> <span>(</span><span>0,2</span> <span>+</span> <span>0,5</span> <span>=</span> <span>0,7</span><span>), y el</span> <span>proceso se repite</span> <span>hasta que el</span> <span>acumulador</span> sea<span> mayor o igual</span> <span>al</span> <span>valor aleatorio</span><span>.</span> <span>La salida del</span> <span>ejemplo deber&iacute;a</span> <span>mostrar</span> <span>algo como esto</span><span>:</span></span></p>
<p><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio = 0.850, siguiente elemento = c! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.010,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = a! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.805,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = c! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.696,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = b! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.626,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = b! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.476,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = b! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.420,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = b! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.627,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = b! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.065,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = a! <br /><span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">N&uacute;mero aleatorio</span></span>&nbsp;= 0.782,&nbsp;<span style="font-size: small;"><span style="font-family: 'courier new', courier, monospace;">siguiente elemento</span></span> = c!</span></span></p>
<p><span id="result_box" lang="es"><span>El siguiente</span> <span>ejemplo</span> <span>pone</span> <span>este algoritmo</span> <span>en</span> <span>un opcode</span> <span>definido por el usuario</span><span> (UDO).</span> <span>Su</span> <span>entrada es</span> <span>una tabla</span> <span>de Markov</span> <span>en forma de un</span> vector<span> bidimensional</span><span>,</span> <span>y</span> <span>la l&iacute;nea anterior</span> <span>como</span> <span>&iacute;ndice (</span><span>empezando por el 0</span><span>)</span><span>.</span> <span>Su salida es</span> <span>el elemento siguiente</span><span>,</span> <span>tambi&eacute;n como</span> <span>&iacute;ndice.</span> -<span>-</span> <span>Hay dos</span> <span>cadenas de Markov</span> <span>en</span> <span>este ejemplo</span><span>:</span> <span>siete</span> <span>alturas</span> <span>y tres</span> <span>duraciones</span><span>.</span> <span>Ambas se definen</span> <span>en</span> <span>vectores</span> <span>bidimensionales</span><span>:</span> <em>giProbNotes</em> <span>y</span> <em>giProbDurs</em><span>.</span> Ambas<span> cadenas de Markov</span> <span>se ejecutan</span> <span>de forma independiente</span> <span>la una de la otra.</span></span></p>
<p><span lang="es"><span><br /></span></span></p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D08_markov_music.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-dnm128 -odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
0dbfs = 1
nchnls = 2
seed 0

;****C&Oacute;DIGOS OPERATIVOS DEFINIDOS POR EL USUARIO PARA CADENAS DE MARKOV****
  opcode Markov, i, i[][]i
iMarkovTable[][], iPrevEl xin
iRandom    random     0, 1
iNextEl    =          0
iAccum     =          iMarkovTable[iPrevEl][iNextEl]
 until iAccum &gt;= iRandom do
iNextEl    +=         1
iAccum     +=         iMarkovTable[iPrevEl][iNextEl]
 enduntil
           xout       iNextEl
  endop
  opcode Markovk, k, k[][]k
kMarkovTable[][], kPrevEl xin
kRandom    random     0, 1
kNextEl    =          0
kAccum     =          kMarkovTable[kPrevEl][kNextEl]
 until kAccum &gt;= kRandom do
kNextEl    +=         1
kAccum     +=         kMarkovTable[kPrevEl][kNextEl]
 enduntil
           xout       kNextEl
  endop

;****DEFINICIONES PARA LAS NOTAS****
 ;notas como proporciones y una frecuencia base
giNotes[]  array      1, 9/8, 6/5, 5/4, 4/3, 3/2, 5/3
giBasFreq  =          330
 ;probabilidad de notas como una matriz de markov:
  ;primera -&gt; s&oacute;lo tercero y cuarto
  ;segunda -&gt; cualquiera menos s&iacute; mismo
  ;tercera -&gt; alta probabilidad de repeticiones
  ;cuarta -&gt; idem
  ;quinta -&gt; cualquiera menos tercero y cuarto
  ;sexta -&gt; m&aacute;s que nada el septimo
  ;s&eacute;ptima -&gt; m&aacute;s que nada el sexto
giProbNotes[][] init  7, 7
giProbNotes array     0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0,
                      0.2, 0.0, 0.2, 0.2, 0.2, 0.1, 0.1,
                      0.1, 0.1, 0.5, 0.1, 0.1, 0.1, 0.0,
                      0.0, 0.1, 0.1, 0.5, 0.1, 0.1, 0.1,
                      0.2, 0.2, 0.0, 0.0, 0.2, 0.2, 0.2,
                      0.1, 0.1, 0.0, 0.0, 0.1, 0.1, 0.6,
                      0.1, 0.1, 0.0, 0.0, 0.1, 0.6, 0.1

;****DEFINICIONES PARA DURACIONES****
 ;duraciones posibles
gkDurs[]    array     1, 1/2, 1/3
 ;probabilidad de duraciones como matriz de markov:
  ;primera -&gt; cualquiera
  ;segunda -&gt; m&aacute;s que nada s&iacute; misma
  ;tercera -&gt; m&aacute;s que nada la segunda
gkProbDurs[][] init   3, 3
gkProbDurs array      1/3, 1/3, 1/3,
                      0.2, 0.6, 0.3,
                      0.1, 0.5, 0.4

;****ESTABLECER PRIMERA ALTURA Y NOTA PARA EL PROCESO DE MARKOV****
giPrevNote init       1
gkPrevDur  init       1

;****INSTRUMENO PARA LAS DURACIONES****
  instr trigger_note
kTrig      metro      1/gkDurs[gkPrevDur]
 if kTrig == 1 then
           event      "i", "select_note", 0, 1
gkPrevDur  Markovk    gkProbDurs, gkPrevDur
 endif
  endin

;****INSTRUMENTO PARA LAS ALTURAS****
  instr select_note
 ;choose next note according to markov matrix and previous note
 ;and write it to the global variable for (next) previous note<br /><span id="result_box" lang="es"><span> ;elegir</span> <span>siguiente nota</span> <span>seg&uacute;n la</span> <span>matriz de</span> <span>Markov y</span> <span>la nota previa</span><br />&nbsp;<span>;</span>y<span> escribirla en</span> <span>la variable global</span> <span>como la</span> <span>(</span><span>siguiente)</span> <span>nota anterior</span></span><br />&nbsp;giPrevNote Markov     giProbNotes, giPrevNote
 ;llamar al instrumento para ejecutar esta nota
           event_i    "i", "play_note", 0, 2, giPrevNote
 ;apagar este instrumento
           turnoff
  endin

;****INSTRUMENTO PARA EJECUTAR UNA NOTA****
  instr play_note
 ;get note as index in ginotes array and calculate frequency<br /> ;obtener nota como &iacute;ndice en la matriz ginots y calcular la frecuencia <br />iNote      =          p4
iFreq      =          giBasFreq * giNotes[iNote]
 ;elecci&oacute;n aleatoria para la cualidad del filtro mode y el paneo
iQ         random     10, 200
iPan       random     0.1, .9
 ;generar tono y volcar a la salida de audio
aImp       mpulse     1, p3
aOut       mode       aImp, iFreq, iQ
aL, aR     pan2       aOut, iPan
           outs       aL, aR
  endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "trigger_note" 0 100
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz&nbsp;
</pre>
<p>&nbsp;</p>
<h3>La Caminata Aleatoria</h3>
<p><span id="result_box" lang="es"><span>En</span> <span>el contexto del movimiento</span> <span>entre los valores</span> <span>aleatorios</span><span>, la 'caminata</span><span>'</span> <span>puede</span> <span>ser pensada como</span> <span>lo opuesto a</span>l 'salto'<span>.</span> <span>Si</span> <span>se salta</span> <span>dentro de los l&iacute;mites</span> <span>A y</span> <span>B, sepuede</span> <span>terminar en cualquier lugar</span> <span>entre esos</span> <span>l&iacute;mites</span><span>,</span> <span>pero si se camina</span> <span>entre A y</span> <span>B</span> habr&aacute; una limitaci&oacute;n impuesta<span> por el</span> <span>alcance de los pasos</span> <span>-</span><span>cada</span> <span>paso aplica</span> <span>una desviaci&oacute;n</span> <span>con respecto al anterior</span><span>.</span> <span>Si el rango de</span> <span>desviaci&oacute;n</span> <span>es ligeramente</span> tendiente hacia lo<span> positivo</span> <span>(</span><span>por caso, de</span> <span>-0,1 a 0,2</span><span>)</span><span>,</span> <span>la trayectoria</span> <span>general de su</span> caminata <span>estar&aacute; en</span> <span>la direcci&oacute;n positiva</span> <span>(pero</span> <span>los pasos individuales</span> <span>no estar&aacute;n necesariamente</span> <span>en la direcci&oacute;n positiva</span><span>)</span><span>.</span> <span>Si el rango de</span> <span>desviaci&oacute;n</span> <span>se inclina hacia lo negativo</span><span> (digamos de</span> <span>-0,2 a 0,1</span><span>), entonces la caminata</span> <span>expresar&aacute;</span> <span>una trayectoria</span> <span>generalmente</span> <span>negativa.</span></span></p>
<p><span id="result_box" lang="es"><span>Una forma</span> <span>de implementar un</span>a caminata <span>aleatoria</span> <span>podr&iacute;a ser tomando</span><span> el</span> <span>estado actual</span><span>,</span> <span>derivando</span> <span>una desviaci&oacute;n</span> <span>aleatoria</span> <span>y luego derivando</span> <span>el siguiente estado</span> <span>mediante la adici&oacute;n de</span> <span>esta desviaci&oacute;n</span> <span>al estado actual</span><span>.</span> <span>El siguiente</span> <span>ejemplo muestra dos</span> <span>formas de hacer</span> <span>esto.</span></span></p>
<p><span id="result_box" lang="es"><span>La&nbsp;<em></em>caminata aleatoria de <em>altura</em> comienza en la altura 8 seg&uacute;n la notaci&oacute;n de octava.</span>&nbsp;<span>La desviaci&oacute;n general&nbsp;</span><em>de altura gkPitchDev</em>&nbsp; <span>se establece en</span> <span>0.2</span><span>, de modo que</span> <span>la siguiente altura p</span><span>odr&iacute;a ser de entre</span> <span>7.8</span> <span>y</span> <span>8.2</span><span>.</span> <span>Pero tambi&eacute;n hay</span> <span>una direcci&oacute;n</span> de altura <em>gkPitchDir</em> <span>que se establece como valor inicial en</span> <span>0.1</span><span>.</span> <span>Esto significa que el</span> <span>l&iacute;mite superior de la</span> <span>siguiente altura</span> <span>aleatoria es</span> <span>8.3</span> <span>en lugar de</span> <span>8.2</span><span>, por lo</span> <span>que la altura</span> <span>se mover&aacute;</span> <span>hacia arriba en</span> <span>un mayor n&uacute;mero de</span> <span>pasos.</span> <span>Cuando</span> <span>se ha cruzado el l&iacute;mite superior</span> <em>giHighestPitch</em><span>,</span> <span>la </span><span>variable</span> <em>gkPitchDir</em> cambia <span>de</span> <span>0.1</span> <span>a</span> <span>-0.1</span><span>,</span> <span>as&iacute; que despu&eacute;s de</span> <span>un n&uacute;mero de pasos determinado</span><span>,</span> <span>la altura</span> se tornar&aacute; m&aacute;s baja<span>.</span> <span>Cada vez que un</span>&nbsp;<span>cambio de direcci&oacute;n</span> <span>como este ocurre</span><span>, la consola</span> <span>informa de</span> <span>esto con un</span> <span>mensaje impreso</span> <span>en el terminal.</span></span></p>
<p><span id="result_box" lang="es"><span title="The density of the notes is defined as notes per second, and is applied as frequency to the metro opcode in instrument 'walk'.">La<em> densidad</em> de las notas se define en t&eacute;rmino de notas por segundo, y se aplica como frecuencia al opcode <a href="http://www.csounds.com/manual/html/metro.html">metro</a> en el instrumento 'walk'. </span><span title="The lowest possible density giLowestDens is set to 1, the highest to 8 notes per second, and the first density giStartDens is set to 3. The possible random deviation for the next density is defined in a range from zero to one: zero means no deviation">La densidad m&aacute;s baja posible <em>giLowestDens</em> se establece en 1, la m&aacute;s alta en 8 notas por segundo, y la densidad inical <em>giStartDens</em> se establece en 3. La desviaci&oacute;n aleatoria posible para la siguiente densidad se define en un rango que va de cero a uno: cero significa que no hay desviaci&oacute;n </span><span title="at all, one means that the next density can alter the current density in a range from half the current value to twice the current value.">en absoluto, uno significa que la siguiente densidad puede alterar la densidad actual en un rango que va de la mitad del valor actual hasta dos veces dicho valor. </span><span title="For instance, if the current density is 4, for gkDensDev=1 you would get a density between 2 and 8. The direction of the densities gkDensDir in this random walk follows the same range 0..1.">Por ejemplo, si la densidad actual es 4, con <em>gkDensDev</em> = 1 se obtendr&iacute;a una densidad de entre 2 y 8. La direcci&oacute;n de las densidades <em>gkDensDir</em> en esta caminata aleatoria sigue el mismo rango 0...1. </span><span title="Assumed you have no deviation of densities at all (gkDensDev=0), gkDensDir=0 will produce ticks in always the same speed, whilst gkDensDir=1 will produce a very rapid increase in speed.">Asumiendo que no se tiene ninguna desviaci&oacute;n de las densidades en absoluto (<em>gkDensDev</em> = 0), <em>gkDensDir</em> = 0 producir&aacute; impulsos siempre a la misma velocidad, mientras que <em>gkDensDir</em> = 1 producir&aacute; un aumento muy r&aacute;pido de velocidad. </span><span title="Similar to the pitch walk, the direction parameter changes from plus to minus if the upper border has crossed, and vice versa.">Al igual que en la caminata de altura, los par&aacute;metros de direcci&oacute;n alternan de m&aacute;s a menos, si el borde superior ha sido cruzado, y viceversa.</span></span></p>
<p>&nbsp;&nbsp; <em><strong>EXAMPLE 01D09_random_walk.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-dnm128 -odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
0dbfs = 1
nchnls = 2
seed 1 ;cambiar a 0 para resultados siempre cambiantes

;****CONFIGURACIONES PARA LAS ALTURAS****
 ;define the pitch street(?) in octave notation<br /> ;definir el rango de la altura en notaci&oacute;n de octava<br />giLowestPitch =     7
giHighestPitch =    9
 ;set pitch startpoint, deviation range and the first direction<br /> ;establecer la altura inicial, el rango de desviaci&oacute;n y la primera direcci&oacute;n<br />giStartPitch =      8
gkPitchDev init     0.2 ;rango aleatorio para la pr&oacute;xima altura
gkPitchDir init     0.1 ;positivo = en direcci&oacute;n superior

;****CONFIGURACIONES PARA LAS DENSIDADES****
 ;define the maximum and minimum density (notes per second)<br /> ;definir la densidad m&aacute;xima y m&iacute;nima(notas por segundo)<br />giLowestDens =      1
giHighestDens =     8
 ;set first density<br /> ;establecer la densidad inicial<br />giStartDens =       3
 ;set possible deviation in range 0..1
 ;0 = no deviation at all
 ;1 = possible deviation is between half and twice the current density<br /> ;establecer la posible desviaci&oacute;n en el rango de 0..1<br /> ;0 = sin desviaci&oacute;n<br /> ;1 = la desviaci&oacute;n posible est&aacute; entre la mitad y el doble de la densidad actual<br />gkDensDev init      0.5
 ;set direction in the same range 0..1
 ;(positive = more dense, shorter notes)<br /> ;establecer la direcci&oacute;n en el mismo rango 0..1<br /> ;(positivo = notas m&aacute;s densas, m&aacute;s cortas)<br />gkDensDir init      0.1

;****INSTRUMENTO PARA LA CAMINATA ALEATORIA****
  instr walk
 ;set initial values<br /> ;establecer los valores iniciales<br />kPitch    init      giStartPitch
kDens     init      giStartDens
 ;trigger impulses according to density<br /> ;disparar impulsos de acuerdo a la densidad<br />kTrig     metro     kDens
 ;if the metro ticks<br /> ;si el metro marca un tick<br />&nbsp;if kTrig == 1 then
  ;1) play current note
  ;1) reproducir la nota actual<br />          event     "i", "play", 0, 1.5/kDens, kPitch
  ;2) calculate next pitch
  ;define boundaries according to direction
  ;2) calcular la altura siguiente<br />  ;definir los l&iacute;mites de acuerdo a la direcci&oacute;n<br />kLowPchBound =      gkPitchDir &lt; 0 ? -gkPitchDev+gkPitchDir : -gkPitchDev
kHighPchBound =     gkPitchDir &gt; 0 ? gkPitchDev+gkPitchDir : gkPitchDev
   ;get random value in these boundaries<br />   ;obtener el valor aleatorio en estos l&iacute;mites<br />kPchRnd   random    kLowPchBound, kHighPchBound
   ;add to current pitch
   ;agregar a la altura actual<br />kPitch += kPchRnd
  ;change direction if maxima are crossed, and report
  ;cambiar la direcci&oacute;n si se cruza el m&aacute;ximo, e informar<br />  if kPitch &gt; giHighestPitch &amp;&amp; gkPitchDir &gt; 0 then
gkPitchDir =        -gkPitchDir
          printks   " La altura alcanz&oacute; el m&aacute;ximo - yendo hacia abajo ahora.\n", 0
  elseif kPitch &lt; giLowestPitch &amp;&amp; gkPitchDir &lt; 0 then
gkPitchDir =        -gkPitchDir
          printks   "La altura alcanz&oacute; el m&iacute;nimo - yendo hacia arriba ahora.\n", 0
  endif
  ;3) calculate next density (= metro frequency)
   ;define boundaries according to direction
  ;3) calcular la pr&oacute;xima densidad( = frecuencia del metro)<br />   ;definir los l&iacute;mites de acuerdo a la direcci&oacute;n<br />kLowDensBound =     gkDensDir &lt; 0 ? -gkDensDev+gkDensDir : -gkDensDev
kHighDensBound =    gkDensDir &gt; 0 ? gkDensDev+gkDensDir : gkDensDev
   ;get random value in these boundaries
   ;obtener el valor aleatorio en estos l&iacute;mites<br />kDensRnd  random    kLowDensBound, kHighDensBound
   ;get multiplier (so that kDensRnd=1 yields to 2, and kDens=-1 to 1/2)
   ;obtener multiplicador (de modo que kDensRnd=1 produzca 2 y kDens=-1, 1/2)<br />kDensMult =         2 ^ kDensRnd
   ;multiply with current duration
   ;multiplicar con la duraci&oacute;n actual<br />kDens *= kDensMult
   ;avoid too high values and too low values
   ;evitar los valores demasiado altos y demasiado bajos<br />kDens     =         kDens &gt; giHighestDens*1.5 ? giHighestDens*1.5 : kDens
kDens     =         kDens &lt; giLowestDens/1.5 ? giLowestDens/1.5 : kDens
   ;change direction if maxima are crossed
   ;cambiar direcci&oacute;n si se cruza el m&aacute;ximo<br />  if (kDens &gt; giHighestDens &amp;&amp; gkDensDir &gt; 0) || (kDens &lt; giLowestDens &amp;&amp; gkDensDir &lt; 0) then
gkDensDir =         -gkDensDir
   if kDens &gt; giHighestDens then
          printks   " La densidad toc&oacute; el borde superior - volvi&eacute;ndose menos denso ahora.\n", 0
          else
          printks   " La densidad toc&oacute; el borde inferior - volvi&eacute;ndose m&aacute;s denso ahora.\n", 0
   endif
  endif
 endif
  endin

;****INSTRUMENTO PARA REPRODUCIR UNA NOTA****
  instr play
 ;get note as octave and calculate frequency and panning
 ;obtener nota como octava y calcular la frecuencia y el paneo<br />iOct       =          p4
iFreq      =          cpsoct(iOct)
iPan       ntrpol     0, 1, iOct, giLowestPitch, giHighestPitch
 ;calculate mode filter quality according to duration
 ;calcular la calidad del modo del filtro de acuerdo a la duraci&oacute;n<br />iQ         ntrpol     10, 400, p3, .15, 1.5
 ;generate tone and throw out<br /> ;generar tono y dar salida<br />aImp       mpulse     1, p3
aMode      mode       aImp, iFreq, iQ
aOut       linen      aMode, 0, p3, p3/4
aL, aR     pan2       aOut, iPan
           outs       aL, aR
  endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
i "walk" 0 999
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;ejemplo por joachim heintz&nbsp;
</pre>
<h2>II. ALGUNAS PERSPECTIVAS MATEM&Aacute;TICAS SOBRE LA ALEATORIEDAD</h2>
<h3>Procesos Aleatorios</h3>
<p><span id="result_box" lang="es"><span>La frecuencia relativa de</span> <span>aparici&oacute;n de</span> <span>una variable aleatoria</span> <span>puede ser descrita por</span> <span>una funci&oacute;n de probabilidad</span> <span>(para variables</span> <span>aleatorias discretas</span><span>)</span> <span>o</span> <span>por</span> <span>funciones de densidad</span> <span>(para variables</span> <span>aleatorias cont&iacute;nuas</span><span>)</span><span>.</span></span></p>
<p><span id="result_box" lang="es"><span>Cuando dos</span> <span>dados son lanzados</span> <span>simult&aacute;neamente</span><span>,</span> <span>la suma</span> <em>x</em> <span>de sus n&uacute;meros</span> <span>puede ser</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>...</span> <span>12</span><span>.</span> <span>La siguiente</span> <span>figura muestra</span> <span>la funci&oacute;n de probabilidad</span> <em>p(x)</em> <span>de estos</span> <span>posibles resultados</span><span>.</span> <em>p(x)</em> <span>es siempre menor </span><span>o igual a 1.</span> <span>La suma</span> <span>de las probabilidades de</span> <span>todos los resultados posibles</span> <span>es</span> <span>1</span><span>.</span></span></p>
<p>&nbsp; &nbsp;&nbsp;<img style="display: block; margin-left: auto; margin-right: auto;" src="static/random1.gif" alt="" />&nbsp;</p>
<p><span id="result_box" lang="es"><span>Para las variables</span> <span>aleatorias continuas</span> <span>la probabilidad de obtener</span> <span>un valor</span> <em>x</em> <span>espec&iacute;fico es</span> <span>0.</span> <span>Sin embargo,</span> <span>la probabilidad de obtener</span> <span>un valor</span> <span>dentro de un</span> <span>cierto intervalo</span> <span>puede ser indicado por</span> <span>un &aacute;rea que</span> <span>corresponde a</span> <span>esta probabilidad</span><span>.</span> <span>La funci&oacute;n</span> <em>f(x)</em> <span>sobre estas &aacute;reas</span> <span>se denomina</span> <span>funci&oacute;n de densidad</span><span>.</span> <span>Respecto a</span> <span>la siguiente</span> <span>densidad, </span><span>la probabilidad de obtener</span> <span>un n&uacute;mero menor que</span> <span>0 es</span> <span>0</span><span>,</span> de<span> obtener</span> <span>un n&uacute;mero entre</span> <span>0</span> <span>y 0.5</span> <span>es de 0.5</span><span>,</span> <span>de obtener</span> <span>un n&uacute;mero entre</span> <span>0.5 y</span> <span>1</span> <span>es de 0.5,</span> <span>etc.</span> Las <span>funciones de densidad</span> <em>f(x)</em> <span>pueden alcanzar</span> <span>valores superiores</span> a <span>1, pero</span> <span>el &aacute;rea bajo</span> <span>la funci&oacute;n</span> <span>es</span> <span>1</span><span>.</span></span></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;<img style="display: block; margin-left: auto; margin-right: auto;" src="static/random2.gif" alt="" />&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Generando N&uacute;meros Aleatorios Con una Probabilidad o Densidad Dada<br /></strong></p>
<p><span id="result_box" lang="es"><span>Csound</span> <span>proporciona</span> opcodes <span>para algunas</span> <span>densidades</span> <span>espec&iacute;ficas, pero</span> <span>no hay</span> <span>medios</span> <span>para producir</span> <span>n&uacute;meros aleatorios</span> <span>con</span> <span>funciones de probabilidad</span> <span>o</span> <span>densidad</span> <span>definidas por el usuario</span><span>.</span> <span>Los</span> opcodes <em>rand_density</em> <span>y</span> <em>rand_probability</em> <span>(</span><span>v&eacute;ase m&aacute;s adelante</span><span>)</span> <span>generan</span> <span>n&uacute;meros al azar</span> <span>con</span> <span>probabilidades o</span> <span>densidades</span> <span>dadas por</span> <span>tablas</span><span>.</span> <span>Se realizan</span> <span>mediante el</span> <span>llamado <em>m&eacute;todo</em></span><em> de muestreo </em><span><em>de rechazo</em>.</span></span></p>
<p><strong>Muestreo de Rechazo<br /></strong></p>
<p><span id="result_box" lang="es"><span>El principio del&nbsp;<em>muestreo de rechazo</em></span><span> se basa en -primero-</span><span> generar</span> <span>n&uacute;meros aleatorios</span>&nbsp;<span>uniformemente</span> <span>distribuidos</span> <span>en</span> <span>el rango requerido</span> <span>y</span> <span>luego</span> <span>aceptar</span> <span>estos valores</span> <span>de acuerdo a una</span> <span>funci&oacute;n de densidad</span> <span>dada (</span><span>o </span><span>de otra forma rechazarlos)</span><span>.</span> <span>Veamos un ejemplo</span> <span>de este m&eacute;todo</span> <span>usando</span> <span>la funci&oacute;n de densidad</span> <span>mostrada en</span> <span>la siguiente</span> <span>figura.</span> <span>(</span><span>Dado que el</span> <span>m&eacute;todo de muestreo</span> <span>de rechazo</span> <span>s&oacute;lo utiliza</span> <span>la "forma"</span> <span>de la funci&oacute;n,</span> <span>el &aacute;rea bajo la</span> <span>funci&oacute;n</span> <span>no tiene que ser</span> <span>1</span><span>)</span><span>.</span> <span>En primer lugar,</span> <span>generamos</span> n&uacute;meros aleatorios uniformemente distribuidos <span><em>rnd1</em></span> <span>en el intervalo [</span><span>0</span><span>,</span> <span>1</span><span>]</span><span>.</span> <span>De &eacute;stos</span> <span>aceptamos</span> <span>una proporci&oacute;n</span> <span>correspondiente a</span> <em>f(rnd1)</em><span>.</span> <span>Por ejemplo</span><span>,</span> <span>el valor</span> <span>0,32</span> <span>s&oacute;lo ser&aacute; aceptado</span> <span>en la proporci&oacute;n de</span> <em>f</em><span>(0,32</span><span>)</span> <span>=</span> <span>0.82</span><span>.</span> <span>Realizamos esto</span> <span>mediante la generaci&oacute;n de</span> <span>un nuevo</span>&nbsp;<span>n&uacute;mero aleatorio<em> rand2</em> entre</span> <span>0 y</span> <span>1</span> <span>y aceptamos</span>&nbsp;<em>rnd1</em> <span>s&oacute;lo si</span> <em>rand2</em> <span>&lt; </span><em>f(rnd1)</em><span>;</span> <span>de lo contrario</span> <span>lo rechazamos</span><span>.</span> <span>(Ver</span> <em>Se&ntilde;ales, Sistemas y S&iacute;ntesis de Sonido<em></em><span id="InsertNodeID_9_marker10" class="InsertNoteMarker"><sup><a href="d-random/random#InsertNoteID_9">6</a></sup></span></em>, <span>cap&iacute;tulo</span> <span>10.1.4.4</span><span>)</span></span></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="static/random%203.gif" alt="" width="200" height="200" /></p>
<p>&nbsp;</p>
<p><em><strong>EXAMPLE 01D10_Rejection_Sampling.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
;ejemplo por martin neukom
sr = 44100
ksmps = 10
nchnls = 1
0dbfs = 1

; random number generator to a given density function<br />; kout	random number; k_minimum,k_maximum,i_fn for a density function
; generador de n&uacute;meror aleatorios para una funci&oacute;n de densidad dada<br />; kout n&uacute;mero aleatrorio; k_minimum,k_maximum,i_fn para una funci&oacute;n de densidad<br /><br />opcode	rand_density, k, kki		
kmin,kmax,ifn	xin
loop:
krnd1		random		0,1
krnd2		random		0,1
k2		table		krnd1,ifn,1	
		if	krnd2 &gt; k2	kgoto loop			
		xout		kmin+krnd1*(kmax-kmin)
endop

; random number generator to a given probability function
; kout	random number
; in: i_nr number of possible values
; i_fn1 function for random values
; i_fn2 probability functionExponential: Generate a uniformly distributed number between 0 and 1 and take its natural logarithm.
; generador de n&uacute;meros aleatorios para una funci&oacute;n de probabilidad dada<br />; kout n&uacute;mero aleatorio<br />; in: i_nr n&uacute;mero de valores posibles<br />; i_fn1 funci&oacute;n para valores aleatorios<br />; i_fn2 funci&oacute;n de probabilida exponencial: Genera un n&uacute;mero uniformemente distribuido entre 0 y 1 y toma su logaritmo natural.<br />
opcode	rand_probability, k, iii		
inr,ifn1,ifn2	xin
loop:
krnd1		random		0,inr
krnd2		random		0,1
k2		table		int(krnd1),ifn2,0	
		if	krnd2 &gt; k2	kgoto loop	
kout		table		krnd1,ifn1,0		
		xout		kout
endop

instr 1
krnd		rand_density	400,800,2
aout		poscil		.1,krnd,1
		out		aout
endin

instr 2
krnd		rand_probability p4,p5,p6
aout		poscil		.1,krnd,1
		out		aout
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
;sine<br />;seno <br />f1 0 32768 10 1
;density function<br />;funci&oacute;n de densidad<br />f2 0 1024 6 1 112 0 800 0 112 1
;random values and their relative probability (two dice)<br />;valores aleatorios y su probabilidad relativa (dos dados)<br />f3 0 16 -2 2 3 4 5 6 7 8 9 10 11 12
f4 0 16  2 1 2 3 4 5 6 5 4  3  2  1
;random values and their relative probability<br />;valores aleatorios y su probabilidad relativa<br />f5 0 8 -2 400 500 600 800
f6 0 8  2 .3  .8  .3  .1

i1 0 10		
i2 0 10 4 5 6
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<p><strong><br /></strong></p>
<p><strong>Caminata Aleatoria<br /></strong></p>
<p><span id="result_box" lang="es"><span>En una serie de</span> <span>n&uacute;meros aleatorios</span> <span>los n&uacute;meros</span> particulares <span>son independientes</span> <span>el uno del otro</span><span>.</span> <span>Los tipos par&aacute;metro</span> <span>(</span><span>figura de la izquierda</span><span>)</span> <span>o</span> <span>caminos</span> <span>en la habitaci&oacute;n (</span><span>trayectoria</span> <span>de dos dimensiones</span> <span>en</span> <span>la</span> <span>figura de la derecha</span><span>) creados por</span> <span>n&uacute;meros aleatorios</span> <span id="result_box" lang="es">se mueven de manera descontrolada.</span></span></p>
<p><strong>Ejemplo 1<br /></strong></p>
<pre><strong>Table[RandomReal[{-1, 1}], {100}];</strong></pre>
<p><img src="static/random4a.gif" alt="" />&nbsp; &nbsp;<img src="static/random5a.gif" alt="" />&nbsp;</p>
<p><span id="result_box" lang="es"><span>Obtenemos un</span> <span>camino</span> m&aacute;s <span>suave,</span> <span>denominada</span> caminata aleatoria<span>, mediante la adici&oacute;n</span> <span>en cada</span> <span>paso de tiempo</span> de <span>un n&uacute;mero aleatorio</span> <em>r</em> <span>a la posici&oacute;n real de</span> <em>x (x</em> +<em>= r)</em><span>.</span></span></p>
<p><strong>Ejemplo 2</strong></p>
<pre><strong>x = 0; caminata = Table[x += RandomReal[{-.2, .2}], {300}];&nbsp;</strong></pre>
<p><img src="static/random6a.gif" alt="" />&nbsp; &nbsp;<img src="static/random7a.gif" alt="" /></p>
<p><span id="result_box" lang="es"><span>El</span> <span>camino se hace</span> <span>a&uacute;n m&aacute;s suave</span> <span>mediante la adici&oacute;n de</span> <span>un n&uacute;mero aleatorio</span>&nbsp;<em>r</em><span> a la</span> <span>velocidad real <em>v</em></span><span>.</span></span></p>
<pre><strong>v += r</strong></pre>
<pre><strong>x += v</strong></pre>
<p><span id="result_box" lang="es"><span>El camino </span><span>puede</span> <span>estar limitado</span> <span>a un &aacute;rea</span> <span>(</span><span>figura de la derecha</span><span>)</span> <span>mediante la inversi&oacute;n de</span> <span>la velocidad</span> <span>si el camino</span> <span>excede</span> <span>los</span> <span>l&iacute;mites</span> <span>(</span><em>min</em>, <span><em>max</em>)</span><span>:</span></span></p>
<pre><strong>vif(x &lt; min || x &gt; max) v *= -1</strong></pre>
<p><span id="result_box" lang="es"><span>El movimiento puede</span> <span>ser amortiguado</span> <span>mediante la disminuci&oacute;n de</span> <span>la velocidad en</span> <span>cada paso de tiempo</span> <span>por</span> <span>un peque&ntilde;o factor&nbsp;</span><em>d</em></span></p>
<pre>&nbsp;<strong>v *= (1-d)</strong>&nbsp;</pre>
<p><strong>Ejemplo 3</strong> </p>
<p><strong>x = 0; v = 0; caminata = Table[x += v += RandomReal[{-.01, .01}], {300}];&nbsp;</strong></p>
<p><img src="static/random8a.gif" alt="" />&nbsp; &nbsp;<img src="static/random9a.gif" alt="" /></p>
<p>&nbsp;</p>
<p><span id="result_box" lang="es"><span>El</span> <span>camino se vuelve</span> <span>de nuevo</span> <span>m&aacute;s suave</span> <span>mediante la adici&oacute;n de</span> <span>un n&uacute;mero aleatorio</span> <em>r</em> a <span>la aceleraci&oacute;n </span><span>corriente <em>a</em></span><span>, el cambio</span> <span>de la aceleraci&oacute;n</span><span>, etc.</span></span></p>
<pre><strong>a += r</strong></pre>
<pre><strong>v += a</strong></pre>
<pre><strong>x += v</strong></pre>
<p><strong>Ejemplo 4</strong> </p>
<pre><strong>x = 0; v = 0; a = 0;&nbsp; </strong></pre>
<pre><strong>Table[x += v += a += RandomReal[{-.0001, .0001}], {300}];</strong></pre>
<p><img src="static/random10a_1.gif" alt="" />&nbsp;&nbsp;<img src="static/random11a.gif" alt="" /></p>
<p><span id="result_box" lang="es"><span>(Ver</span> Martin Neukom, <em>Se&ntilde;ales, Sistemas y S&iacute;ntesis de Sonido<em></em></em>, <span>cap&iacute;tulo</span> <span>10.2.3.2</span><span>)</span></span></p>
<p><em><strong>EXAMPLE 01D11_Random_Walk2.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
;ejemplo por martin neukom

sr = 44100
ksmps = 128
nchnls = 1
0dbfs = 1

; random frequency<br />; frecuencia aleatoria<br />instr 1
kx 	random 	-p6, p6
kfreq 	= 	p5*2^kx
aout 	oscil 	p4, kfreq, 1
out 	aout
endin

; random change of frequency<br />; variaci&oacute;n aleatoria de la frecuencia<br />instr 2
kx 	init 	.5
kfreq 	= 	p5*2^kx
kv 	random 	-p6, p6
kv 	= 	kv*(1 - p7)
kx 	= 	kx + kv
aout 	oscil 	p4, kfreq, 1
out 	aout
endin

; random change of change of frequency<br />; variacion aleatoria de la variaci&oacute;n de la frecuencia<br />instr 3
kv	init	0
kx 	init 	.5
kfreq 	= 	p5*2^kx
ka 	random 	-p7, p7
kv 	= 	kv + ka
kv 	= 	kv*(1 - p8)
kx 	= 	kx + kv
kv 	= 	(kx &lt; -p6 || kx &gt; p6?-kv : kv)
aout 	oscili 	p4, kfreq, 1
out 	aout

endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;

f1 0 32768 10 1
; i1 	p4 	p5 	p6
; i2 	p4 	p5 	p6 	p7
; 	amp 	c_fr 	rand 	damp
; i2 0 20 	.1 	600 	0.01 	0.001
; 	amp 	c_fr 	d_fr 	rand 	damp
; 	amp 	c_fr 	rand
; i1 0 20 	.1 	600 	0.5
; i3 	p4 	p5 	p6 	p7 	p8
i3 0 20 	.1 	600 	1 	0.001 	0.001
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
</pre>
<h2>III. EJEMPLOS DIVERSOS</h2>
<p><span id="result_box" lang="es"><span>Csound</span> <span>tiene</span> <span>una serie de</span> opcodes <span>y rutinas</span> <span>GEN</span> <span>para</span> <span>la creaci&oacute;n de diversas</span> <span>funciones y distribuciones aleatorias</span><span id="result_box" lang="es">.</span> <span>Tal vez</span> <span>el m&aacute;s simple de</span> <span>ellos es</span>&nbsp;<span><a href="http://www.csounds.com/manual/html/random.html">random</a> que</span> <span>simplemente genera</span> <span>un valor</span> <span>aleatorio dentro</span> de un l&iacute;mite <span>m&iacute;nimo</span> y m&aacute;ximo <span>definido por el usuario</span> <span>y </span><span>en</span> tiempo<span>-i,</span> <span>ciclo-k</span> <span>o ciclo-a de acuerdo a</span><span>l</span> <span>tipo de variable</span> <span>de su salida</span><span> (ubicado a la izquierda del opcode):</span></span></p>
<p>&nbsp;</p>
<pre>ires random imin, imax
kres random kmin, kmax
ares random kmin, kmax
</pre>
<p><span id="result_box" lang="es"><span>Los valores se</span> <span>generan de acuerdo con</span> <span>una distribuci&oacute;n aleatoria</span> <span>uniforme,</span> <span>lo que significa que</span> <span>cualquier valor</span> <span>dentro de los l&iacute;mites</span> <span>tiene</span> la misma <span>probabilidad de</span> <span>ocurrencia</span><span>.</span> Las <span>distribuciones</span> <span>no uniformes</span> <span>en las que</span> <span>ciertos valores</span> <span>tienen</span> <span>mayor</span> <span>probabilidad de</span> <span>ocurrencia</span> <span>por sobre otros</span> <span>son a menudo m&aacute;s</span> <span>&uacute;tiles y</span> <span>musicales.</span> <span>Para estos prop&oacute;sitos</span><span>,</span> Csound incluye los opcodes</span> generadores de n&uacute;meros aleatorios <a href="http://www.csounds.com/manual/html/betarand.html">betarand</a>, <a href="http://www.csounds.com/manual/html/bexprnd.html">bexprand</a>, <a href="http://www.csounds.com/manual/html/cauchy.html">cauchy</a>, <a href="http://www.csounds.com/manual/html/exprand.html">exprand</a>, <a href="http://www.csounds.com/manual/html/gauss.html">gauss</a>, <a href="http://www.csounds.com/manual/html/linrand.html">linrand</a>, <a href="http://www.csounds.com/manual/html/pcauchy.html">pcauchy</a>, <a href="http://www.csounds.com/manual/html/poisson.html">poisson</a>, <a href="http://www.csounds.com/manual/html/trirand.html">trirand</a>, <a href="http://www.csounds.com/manual/html/unirand.html">unirand</a> y <a href="http://www.csounds.com/manual/html/weibull.html">weibull</a>. Las distribuciones generadas a partir de varios de estos opcodes se ilustran a continuaci&oacute;n:</p>
<p>&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/linrand.png" alt="" />&nbsp;</p>
<p>&nbsp;<img style="display: block; margin-left: auto; margin-right: auto;" src="static/trirand.png" alt="" /></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/gauss.png" alt="" /></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/exprand.png" alt="" /></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/bexprand.png" alt="" /></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/betarand.png" alt="" /></p>
<p>&nbsp;</p>
<p><span id="result_box" lang="es"><span>Adem&aacute;s de</span> <span>estos</span> denominados <span>'</span><span>generadores de ruido</span> <span>de clase</span> <span>x'</span> Csound <span>proporciona</span> <span>generadores de funciones</span> <span>aleatorias</span><span>, proveyendo</span> <span>valores que cambian</span> <span>con el tiempo</span> <span>en</span> <span>diversas</span> <span>formas</span><span>.</span></span></p>
<p><a href="http://www.csounds.com/manual/html/randomh.html">randomh</a> genera nuevos n&uacute;meros aleatorios a un ritmo definido por el usuario. El valor anterior se mantiene hasta que un nuevo valor sea generado, y luego la salida inmediatamente asume ese valor.</p>
<p>La instrucci&oacute;n:</p>
<pre>kmin   =         -1
kmax   =         1
kfreq  =         2
kout&nbsp;&nbsp; randomh&nbsp;&nbsp; kmin,kmax,kfreq</pre>
<p>producir&aacute; y generar&aacute; una salida similar a:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/randomh.png" alt="" width="568" height="151" /></p>
<p>&nbsp;</p>
<p><a href="http://www.csounds.com/manual/html/randomi.html">randomi</a> es una versi&oacute;n de randomh con interpolaci&oacute;n. En lugar de "saltar" hacia los nuevos valores que se generan, randomi produce una interpolaci&oacute;n lineal hacia el nuevo valor, alcanz&aacute;ndolo justo en el momento en que un pr&oacute;ximo valor se genera. Al remplazar randomh con randomi en el c&oacute;digo de ejemplo presentado m&aacute;s arriba se lograr&aacute; el siguiente resultado:</p>
<p>&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/randomi.png" alt="" width="567" height="164" /></p>
<p>En la pr&aacute;ctica, los cambios angulares aleatorios en la direcci&oacute;n a medida que se generan nuevos valores aleatorios podr&iacute;an ser audibles dependiendo de c&oacute;mo se use. <a href="http://www.csounds.com/manual/html/rspline.html">rsplsine</a> (o m&aacute;s simple a&uacute;n, <a href="http://www.csounds.com/manual/html/jspline.html">jsplsine</a>) permite especificar no s&oacute;lo una sola frecuencia, sino una frecuencia m&iacute;nima y una frecuencia m&aacute;xima, y la funci&oacute;n resultante es una spline suave entre los valores m&iacute;nimo y m&aacute;ximo y estas frecuencias m&iacute;nimas y m&aacute;ximas. La siguiente entrada:</p>
<p>&nbsp;</p>
<pre>kmin     =         -0.95
kmax     =         0.95
kminfrq  =         1
kmaxfrq  =         4
asig     rspline   kmin, kmax, kminfrq, kmaxfrq
</pre>
<p>generar&aacute; algo similar a esto:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="static/rspline.png" alt="" width="565" height="144" />&nbsp;</p>
<p>Tenemos que tener cuidado con lo que hacemos con la salida de rspline ya que &eacute;sta puede superar los l&iacute;mites establecidos por kmin y kmax. Los valores m&iacute;nimo y m&aacute;ximo se pueden establecer de forma conservadora o el opcode&nbsp;<a href="http://www.csounds.com/manual/html/limit.html">limit</a> podr&iacute;a ser utilizado para evitar valores fuera de rango que podr&iacute;an causar problemas.</p>
<p>El ejemplo siguiente utiliza rspline para humanizar un sintetizador simple. Se toca una melod&iacute;a corta, primero sin ninguna humanizaci&oacute;n y luego con humanizaci&oacute;n. La variaci&oacute;n aleatoria de rspline se a&ntilde;ade a la amplitud y al tono de cada nota adem&aacute;s de un desplazamiento aleatorio sobre el tiempo-i.</p>
<p>&nbsp; </p>
<p><em><strong>EXAMPLE 01D12_humanising.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 2
0dbfs = 1
seed 0

giWave  ftgen  0, 0, 2^10, 10, 1,0,1/4,0,1/16,0,1/64,0,1/256,0,1/1024

  instr 1 ; an instrument with no 'humanising'
inote =       p4
aEnv  linen   0.1,0.01,p3,0.01
aSig  poscil  aEnv,cpsmidinn(inote),giWave
      outs    aSig,aSig
  endin

  instr 2 ; an instrument with 'humanising'
inote   =       p4

; generate some i-time 'static' random paramters
iRndAmp random	-3,3   ; amp. will be offset by a random number of decibels
iRndNte random  -5,5   ; note will be offset by a random number of cents

; generate some k-rate random functions
kAmpWob rspline -1,1,1,10   ; amplitude 'wobble' (in decibels)
kNteWob rspline -5,5,0.3,10 ; note 'wobble' (in cents)

; calculate final note function (in CPS)
kcps    =        cpsmidinn(inote+(iRndNte*0.01)+(kNteWob*0.01))

; amplitude envelope (randomisation of attack time)
aEnv    linen   0.1*ampdb(iRndAmp+kAmpWob),0.01+rnd(0.03),p3,0.01
aSig    poscil  aEnv,kcps,giWave
        outs    aSig,aSig
endin

&lt;/CsInstruments&gt;
&lt;CsScore&gt;
t 0 80
#define SCORE(i) #
i $i 0 1   60
i .  + 2.5 69
i .  + 0.5 67
i .  + 0.5 65
i .  + 0.5 64
i .  + 3   62
i .  + 1   62
i .  + 2.5 70
i .  + 0.5 69
i .  + 0.5 67
i .  + 0.5 65
i .  + 3   64 #
$SCORE(1)  ; play melody without humanising
b 17
$SCORE(2)  ; play melody with humanising
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;example by Iain McCurdy
</pre>
<p>El ejemplo final implementa un generador simple de notas algor&iacute;tmicas. Hace uso de GEN17 para generar histogramas que definen las probabilidades de ciertas notas y ciertas brechas r&iacute;tmicas que ocurren.</p>
<p>&nbsp;<em><strong>EXAMPLE 01D13_simple_algorithmic_note_generator.csd</strong></em></p>
<pre>&lt;CsoundSynthesizer&gt;
&lt;CsOptions&gt;
-odac -dm0
&lt;/CsOptions&gt;
&lt;CsInstruments&gt;
sr = 44100
ksmps = 32
nchnls = 1
0dbfs = 1

giNotes	ftgen	0,0,-100,-17,0,48, 15,53, 30,55, 40,60, 50,63, 60,65, 79,67, 85,70, 90,72, 96,75
giDurs	ftgen	0,0,-100,-17,0,2, 30,0.5, 75,1, 90,1.5

  instr 1
kDur  init        0.5             ; initial rhythmic duration
kTrig metro       2/kDur          ; metronome freq. 2 times inverse of duration
kNdx  trandom     kTrig,0,1       ; create a random index upon each metro 'click'
kDur  table       kNdx,giDurs,1   ; read a note duration value
      schedkwhen  kTrig,0,0,2,0,1 ; trigger a note!
  endin

  instr 2
iNote table     rnd(1),giNotes,1                 ; read a random value from the function table
aEnv  linsegr	0, 0.005, 1, p3-0.105, 1, 0.1, 0 ; amplitude envelope
iPlk  random	0.1, 0.3                         ; point at which to pluck the string
iDtn  random    -0.05, 0.05                      ; random detune
aSig  wgpluck2  0.98, 0.2, cpsmidinn(iNote+iDtn), iPlk, 0.06
      out       aSig * aEnv
  endin
&lt;/CsInstruments&gt;

&lt;CsScore&gt;
i 1 0    300  ; start 3 long notes close after one another
i 1 0.01 300
i 1 0.02 300
e
&lt;/CsScore&gt;
&lt;/CsoundSynthesizer&gt;
;example by Iain McCurdy</pre>
<ol id="InsertNote_NoteList">
<li id="InsertNoteID_6">http://www.etymonline.com/index.php?term=random<span id="InsertNoteID_6_LinkBacks"><sup><a href="d-random/random#InsertNoteID_6_marker7">^</a></sup></span></li>
<li id="InsertNoteID_8">Esto es debido a que la tasa de muestreo es de 44100 muestras por segundo. Por lo tanto una repetici&oacute;n luego de 65536 muestras implicar&iacute;a una repetici&oacute;n de valores pasados los 65536/44100 = 1.486 segundos.<span id="InsertNoteID_8_LinkBacks"><sup><a href="d-random/random#InsertNoteID_8_marker9">^</a></sup></span></li>
<li id="InsertNoteID_22">Charles Dodge and Thomas A. Jerse, Computer Music, New York 1985, Chapter 8.1, in particular page 269-278.<span id="InsertNoteID_22_LinkBacks"><sup><a href="d-random/random#InsertNoteID_22_marker23">^</a></sup></span></li>
<li id="InsertNoteID_24">La mayor&iacute;a de ellos han sido escritos por Paris Smaragdis en 1995: betarnd, bexprnd, cauchy, exprnd, gauss, linrand, pcauchy, poisson, trirand, unirand and weibull.<span id="InsertNoteID_24_LinkBacks"><sup><a href="d-random/random#InsertNoteID_24_marker25">^</a></sup></span></li>
<li id="InsertNoteID_7">De acuerdo a Dodge/Jerse, los algor&iacute;tmos m&aacute;s comunes para el tipo exponencial y el gaussiano son: <br />Exponencial: Generar un n&uacute;mero con distribuci&oacute;n uniforme entre 0 y 1 y derivar su logaritmo natural. <br />Gauss: Tomar la media de n&uacute;meros uniformemente distribu&iacute;dos y escalarlos de acuerdo a la desviaci&oacute;n est&aacute;ndar. <span id="InsertNoteID_7_LinkBacks"><sup><a href="d-random/random#InsertNoteID_7_marker8">^</a></sup></span></li>
<li id="InsertNoteID_9">Neukom, Martin. <em>Signals, systems and sound synthesis</em>. Bern: Peter Lang, 2013. Print. <span id="InsertNoteID_9_LinkBacks"><sup><a href="d-random/random#InsertNoteID_9_marker10">^</a></sup></span></li>
</ol>
<div id="yass_bottom_edge" style="background-image: url('chrome://yass/content/edgebgbot.png'); background-position: 0px 0px; position: absolute; margin: 0px; padding: 0px; border-width: 0px; height: 0px; left: 0px; top: 32112px; width: 100%; display: block;">&nbsp;</div>
   
  </div>
 </div>


  </div>
</div>
<!-- End of content -->



<!-- sputnik error page -->
<div id="dialog-sputnik-qrac" style="display: none"></div>
<div id="dialog-sputnik-error" title="Can't communicate with booktype">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
    There has been error in communication with Booktype server.
    Not sure right now where is the problem.
  </p>
  <p>
    You should refresh this page.
  </p>
</div>


<ul class="strings template">
 <li class="ok">OK</li>
 <li class="back">Back</li>
 <li class="create">Create</li>
 <li class="cancel">Cancel</li>
 <li class="next">Next</li>
 <li class="import">Import</li>
 <li class="savechanges">Save changes</li>
 <li class="errorcreategroup">Couldn't create a group!</li>
 <li class="msgepub">enter epub URL</li>
 <li class="msgarchive">enter Archive.org ID</li>
 <li class="msgwiki">enter Wikibooks URL</li>
 <li class="msgbooktype">enter Booktype URL</li>
 <li class="deletebook">Delete book</li>
</ul>

</body>
</html>

